<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Emites</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;Shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img style="margin: 15px 0 0 15px;" src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="Shell">cURL</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li>Este projeto é mantido por</li>
            <li><a href='#'>Myfreecomm</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="content">
        
          <h1 id="informa-es-b-sicas">Informações básicas</h1>

<h2 id="autentica-o">Autenticação</h2>

<p>Todo acesso à API é feito do ponto de vista de uma conta existente no Emites. Assim sendo, toda requisição à API deverá ser autenticada. A autenticação é feita via token, que deve ser informado no header de cada requisição efetuada.</p>

<p>Para todas as requisições são necessários os seguintes Headers:</p>

<div class="api-endpoint">
  <div class="endpoint-data authentication">
    &ldquo;Authorization&rdquo;: &ldquo;Token token=6f42433270bc61d746556b17605db1s4&rdquo;,<br>
    &ldquo;Content-Type&rdquo;: &ldquo;application/json&rdquo;
  </div>
</div>  
<pre class="highlight shell"><code>  Formato JSON

  EXEMPLO DE REQUISIÇÃO

    curl -X GET <span class="se">\</span>
      https://app.production.emites.com.br/api/v1/organizations <span class="se">\</span>
      -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
      -H <span class="s1">'content-type: application/json'</span> 

  EXEMPLO DE RESPOSTA

  <span class="o">{</span>
    <span class="s2">"chave"</span>: <span class="s2">"valor"</span>
  <span class="o">}</span>

</code></pre>

          <h1 id="s-rie-de-notas-fiscais">Série de notas fiscais</h1>

<p>Para criar séries de notas fiscais você precisa ter ao menos uma organização cadastrada.
<p>Você pode verificar como criar organizações em <a href="#cria-o-de-organiza-es">Criação de organizações</a></p></p>

<h2 id="listar-s-ries-nf-e">Listar séries NF-e</h2>

<p>Para listar séries de NF-e, é necessário realizar uma requisição GET para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>/api/v1/organizations/{organization_id}/nfe_numerations</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X GET <span class="se">\</span>
  http://localhost:3000/api/v1/organizations/1/nfe_numerations <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfe_numeration"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"id"</span>: 1,
      <span class="s2">"serie"</span>: 1,
      <span class="s2">"last_number"</span>: 10,
      <span class="s2">"created_at"</span>: <span class="s2">"2019-01-31T14:05:11.733-03:00"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2019-01-31T14:05:11.733-03:00"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"id"</span>: 2,
      <span class="s2">"serie"</span>: 2,
      <span class="s2">"last_number"</span>: 20,
      <span class="s2">"created_at"</span>: <span class="s2">"2019-01-31T14:05:11.733-03:00"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2019-01-31T14:05:11.733-03:00"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<h2 id="criar-s-rie-nf-e">Criar série NF-e</h2>

<p>Para criar uma série de NF-e, é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations/{organization_id}/nfe_numerations</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  http://localhost:3000/api/v1/organizations/1/nfe_numerations <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
      "nfe_numeration": {
        "serie": 1,
        "last_number": "100",
      }
    }'</span>

EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfe_numeration"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 1,
    <span class="s2">"serie"</span>: 1,
    <span class="s2">"last_number"</span>: 100,
    <span class="s2">"created_at"</span>: <span class="s2">"2019-01-31T14:05:11.733-03:00"</span>,
    <span class="s2">"updated_at"</span>: <span class="s2">"2019-01-31T14:05:11.733-03:00"</span>
  <span class="o">}</span>
<span class="o">}</span>


EXEMPLO DE RETORNO DE ERROS

<span class="o">{</span>
    <span class="s2">"errors"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"serie"</span>: <span class="o">[</span>
                <span class="s2">"não pode ficar em branco"</span>
            <span class="o">]</span>,
            <span class="s2">"last_number"</span>: <span class="o">[</span>
                <span class="s2">"não pode ficar em branco"</span>
            <span class="o">]</span>
        <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"error_details"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"serie"</span>: <span class="o">[</span>
                <span class="o">{</span> <span class="s2">"error"</span>: <span class="s2">"blank"</span> <span class="o">}</span>
            <span class="o">]</span>,
            <span class="s2">"last_number"</span>: <span class="o">[</span>
                <span class="o">{</span> <span class="s2">"error"</span>: <span class="s2">"blank"</span> <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Campo</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>serie</td>
<td>Sim</td>
<td>Numérico</td>
<td></td>
<td></td>
</tr>
<tr>
<td>last_number</td>
<td>Sim</td>
<td>Numérico</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<h2 id="exibir-s-rie-nf-e">Exibir série NF-e</h2>

<p>Para exibir uma série de NF-e, é necessário realizar uma requisição GET para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>/api/v1/organizations/{organization_id}/nfe_numerations/:id</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X GET <span class="se">\</span>
  http://localhost:3000/api/v1/organizations/1/nfe_numerations/1 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfe_numeration"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 1,
    <span class="s2">"serie"</span>: 1,
    <span class="s2">"last_number"</span>: 100,
    <span class="s2">"created_at"</span>: <span class="s2">"2019-01-31T14:05:11.733-03:00"</span>,
    <span class="s2">"updated_at"</span>: <span class="s2">"2019-01-31T14:05:11.733-03:00"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="excluir-s-rie-nf-e">Excluir série NF-e</h2>

<p>Para excluir uma série de NF-e, é necessário realizar uma requisição DELETE para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-warning">DELETE</i>
        <h6>/api/v1/organizations/{organization_id}/nfe_numerations/{id}</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X DELETE <span class="se">\</span>
  http://localhost:3000/api/v1/organizations/1/nfe_numerations/1 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
</code></pre>

<aside class="notice">
  Não é possível remover uma <strong>série</strong> caso a mesma esteja vinculada a um <strong>documento</strong>.
</aside>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"base"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Não foi possível excluir essa série de notas pois ela está vinculada a um documento"</span><span class="w">
          </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"error_details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"base"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w"> </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="w"> </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="listar-s-ries-nfc-e">Listar séries NFC-e</h2>

<p>Para listar séries de NFC-e, é necessário realizar uma requisição GET para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>/api/v1/organizations/{organization_id}/nfce_numerations</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X GET <span class="se">\</span>
  http://localhost:3000/api/v1/organizations/1/nfce_numerations <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfce_numeration"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"id"</span>: 1,
      <span class="s2">"serie"</span>: 1,
      <span class="s2">"emission_type"</span>: <span class="s2">"standard"</span>,
      <span class="s2">"last_number"</span>: 10,
      <span class="s2">"created_at"</span>: <span class="s2">"2019-01-31T14:05:11.733-03:00"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2019-01-31T14:05:11.733-03:00"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"id"</span>: 2,
      <span class="s2">"serie"</span>: 2,
      <span class="s2">"emission_type"</span>: <span class="s2">"offline_contingency"</span>,
      <span class="s2">"last_number"</span>: 20,
      <span class="s2">"created_at"</span>: <span class="s2">"2019-01-31T14:05:11.733-03:00"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2019-01-31T14:05:11.733-03:00"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<h2 id="criar-s-rie-nfc-e">Criar série NFC-e</h2>

<p>Para criar uma série de NFC-e, é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations/{organization_id}/nfce_numerations</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  http://localhost:3000/api/v1/organizations/1/nfce_numerations <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
      "nfce_numeration": {
        "serie": 1,
        "emission_type": "standard",
        "last_number": "100"
      }
    }'</span>

EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfce_numeration"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 1,
    <span class="s2">"serie"</span>: 1,
    <span class="s2">"last_number"</span>: 100,
    <span class="s2">"emission_type"</span>: <span class="s2">"standard"</span>,
    <span class="s2">"created_at"</span>: <span class="s2">"2019-01-31T14:05:11.733-03:00"</span>,
    <span class="s2">"updated_at"</span>: <span class="s2">"2019-01-31T14:05:11.733-03:00"</span>
  <span class="o">}</span>
<span class="o">}</span>

EXEMPLO DE RETORNO DE ERROS

<span class="o">{</span>
    <span class="s2">"errors"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"serie"</span>: <span class="o">[</span>
                <span class="s2">"não pode ficar em branco"</span>
            <span class="o">]</span>,
            <span class="s2">"last_number"</span>: <span class="o">[</span>
                <span class="s2">"não pode ficar em branco"</span>
            <span class="o">]</span>,
            <span class="s2">"emission_type"</span>: <span class="o">[</span>
                <span class="s2">"não pode ficar em branco"</span>
            <span class="o">]</span>
        <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"error_details"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"serie"</span>: <span class="o">[</span>
                <span class="o">{</span> <span class="s2">"error"</span>: <span class="s2">"blank"</span> <span class="o">}</span>
            <span class="o">]</span>,
            <span class="s2">"last_number"</span>: <span class="o">[</span>
                <span class="o">{</span> <span class="s2">"error"</span>: <span class="s2">"blank"</span> <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Campo</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>serie</td>
<td>Sim</td>
<td>Numérico</td>
<td></td>
<td></td>
</tr>
<tr>
<td>last_number</td>
<td>Sim</td>
<td>Numérico</td>
<td></td>
<td></td>
</tr>
<tr>
<td>emission_type</td>
<td>Sim</td>
<td>Texto</td>
<td>&lsquo;standard&rsquo; ou &#39;offline_contingency&rsquo;</td>
<td>Indica o tipo de emissão:<br> standard = Emissão Normal;<br>  offline_contingency = Emissão em Contingência Offline.</td>
</tr>
</tbody></table>

<h2 id="exibir-s-rie-nfc-e">Exibir série NFC-e</h2>

<p>Para exibir uma série de NFC-e, é necessário realizar uma requisição GET para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>/api/v1/organizations/{organization_id}/nfce_numerations/:id</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X GET <span class="se">\</span>
  http://localhost:3000/api/v1/organizations/1/nfce_numerations/1 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfce_numeration"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 1,
    <span class="s2">"serie"</span>: 1,
    <span class="s2">"emission_type"</span>: <span class="s2">"standard"</span>,
    <span class="s2">"last_number"</span>: 100,
    <span class="s2">"created_at"</span>: <span class="s2">"2019-01-31T14:05:11.733-03:00"</span>,
    <span class="s2">"updated_at"</span>: <span class="s2">"2019-01-31T14:05:11.733-03:00"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="excluir-s-rie-nfc-e">Excluir série NFC-e</h2>

<p>Para excluir uma série de NFC-e, é necessário realizar uma requisição DELETE para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-warning">DELETE</i>
        <h6>/api/v1/organizations/{organization_id}/nfce_numerations/{id}</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X DELETE <span class="se">\</span>
  http://localhost:3000/api/v1/organizations/1/nfce_numerations/1 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
</code></pre>

<aside class="notice">
  Não é possível remover uma <strong>série</strong> caso a mesma esteja vinculada a um <strong>documento</strong>.
</aside>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"base"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Não foi possível excluir essa série de notas pois ela está vinculada a um documento"</span><span class="w">
          </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"error_details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"base"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w"> </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="w"> </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

          <h1 id="organiza-es">Organizações</h1>

<h2 id="cria-o-de-organiza-es">Criação de Organizações</h2>

<p>Para emissão de NF-e ou NFC-e, é necessário possuir ao menos uma organização criada no Emites. Para realizar a criação de uma organização via API, o processo consiste em dois passos:</p>

<h3 id="1-passo-cria-o-da-organiza-o">1º Passo: Criação da Organização</h3>

<p>Para criar uma organização, é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  http://localhost:3000/api/v1/organizations/ <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
      "organization": {
        "address": {
            "address": "Rua do Rocio",
            "city": "Sao Paulo",
            "city_code": "812938",
            "complement": "Conj. 91",
            "district": "Vila Olimpia",
            "number": "199",
            "phone": "1133333333",
            "state": "SP",
            "zipcode": "04552000"
        },
        "codigo_regime_tributario": 1,
        "company_name": "The String",
        "document": "58521175000124",
        "email": "foo@bar.com",

        "inscricao_estadual": "787811920",
        "inscricao_municipal": "13213213",
        "name": "MyString"
      }
    }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"organization"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 5,
      <span class="s2">"document"</span>: <span class="s2">"58521175000124"</span>,
      <span class="s2">"name"</span>: <span class="s2">"Foo"</span>,
      <span class="s2">"inscricao_municipal"</span>: <span class="s2">"13213213"</span>,
      <span class="s2">"company_name"</span>: <span class="s2">"The String"</span>,
      <span class="s2">"email"</span>: <span class="s2">"foo@bar.com"</span>,
      <span class="s2">"logo_file_name"</span>: null,
      <span class="s2">"logo_url"</span>: <span class="s2">""</span>,
      <span class="s2">"address"</span>: <span class="o">{</span>
        <span class="s2">"zipcode"</span>: <span class="s2">"04552000"</span>,
        <span class="s2">"address"</span>: <span class="s2">"Rua do Rocio"</span>,
        <span class="s2">"number"</span>: <span class="s2">"199"</span>,
        <span class="s2">"complement"</span>: <span class="s2">"Conj. 91"</span>,
        <span class="s2">"district"</span>: <span class="s2">"Vila Olimpia"</span>,
        <span class="s2">"city"</span>: <span class="s2">"Sao Paulo"</span>,
        <span class="s2">"state"</span>: <span class="s2">"SP"</span>,
        <span class="s2">"phone"</span>: <span class="s2">"1133333333"</span>,
        <span class="s2">"city_code"</span>: <span class="s2">"812938"</span>
      <span class="o">}</span>,
      <span class="s2">"inscricao_estadual"</span>: <span class="s2">"787811920"</span>,
      <span class="s2">"codigo_regime_tributario"</span>: <span class="s2">"simples_nacional"</span>,
      <span class="s2">"cnae"</span>: null,
      <span class="s2">"certificate"</span>: null
  <span class="o">}</span>
<span class="o">}</span>

EXEMPLO DE RETORNO DE ERROS

<span class="o">{</span>
    <span class="s2">"errors"</span>: <span class="o">{</span> <span class="s2">"document"</span>: <span class="o">[</span><span class="s2">"não é válido"</span><span class="o">]</span> <span class="o">}</span>,
    <span class="s2">"error_details"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"document"</span>: <span class="o">[</span>
                <span class="o">{</span> <span class="s2">"error"</span>: <span class="s2">"invalid"</span> <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Campo</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>codigo_regime_tributario</td>
<td>Não</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>1 = Simples Nacional;<br>2 = Simples Nacional, excesso sublimite de receita bruta;<br>3 = Regime Normal.</td>
</tr>
<tr>
<td>razao_social</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>document</td>
<td>Sim</td>
<td>Numérico</td>
<td>14 dígitos</td>
<td>CNPJ da empresa emitente, somente números.</td>
</tr>
<tr>
<td>email</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>inscricao_estadual</td>
<td>sim</td>
<td>Texto</td>
<td>Até 14 caracteres</td>
<td>Informar somente os algarismos, sem ponto, hífen, barra, etc. Na emissão de NF-e avulsa pode ser informado o texto ISENTO para os contribuintes do ICMS isentos de inscrição no cadastro de contribuintes do ICMS.</td>
</tr>
<tr>
<td>inscricao_municipal</td>
<td>Não</td>
<td>Texto</td>
<td>Até 15 caracteres</td>
<td></td>
</tr>
<tr>
<td>nome_fantasia</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
</tbody></table>

<h4 id="address">address</h4>

<p>Grupo de informações relacionadas ao endereço da organização. Seus atributos são:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>city</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>city_code</td>
<td>Sim</td>
<td>Numérico</td>
<td>7 dígitos</td>
<td></td>
</tr>
<tr>
<td>complement</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>district</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>number</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>phone</td>
<td>Não</td>
<td>Numérico</td>
<td>De 6 a 14 carateres</td>
<td></td>
</tr>
<tr>
<td>state</td>
<td>Sim</td>
<td>Texto</td>
<td>2 caracteres</td>
<td></td>
</tr>
<tr>
<td>zipcode</td>
<td>Sim</td>
<td>Numérico</td>
<td>8 dígitos</td>
<td></td>
</tr>
</tbody></table>

<h3 id="2-passo-atualiza-o-upload-do-certificado-da-organiza-o">2º Passo: Atualização/Upload do Certificado da Organização</h3>

<p>A inclusão de certificado digital vigente da organização é obrigatório para a emissão da nota. Para criar ou atualizar um certificado, é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations/{:organization_id}/certificate</h6>
    </div>
</div>

<aside class="notice">
    <b>Atenção</b>: O parâmetro <b>:organization_id</b> também pode ser substituído pela notação <b>CNPJ{CNPJ da organização (somente números)}IE{ Inscrição Estadual da Organização (Somente Números OU ISENTO) }</b> em qualquer requisição.<br><br>
    Ex: <b>/api/v1/organizations/CNPJ58521175000124IE787811920</b>
</aside>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  http://localhost:3000/api/v1/organizations/8/certificate <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
        "password": "senhadocertificado",
        "file": "código em Base64 do arquivo PFX"
    }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"certificate"</span>: <span class="o">{</span>
    <span class="s2">"pfx_certificate_file_name"</span>: <span class="s2">"certificate.pfx"</span>,
      <span class="s2">"password"</span>: <span class="s2">"JKeDKzdvZWtLS2lxcmNBRTVQK2foob9mdFF6SW5uVllzVkNTTTB0Mjhmdz0tLWx6UXJFNUp4NWp2cG5mSWh4NmRDb3c9PQ-eao925ca6870661ed52c5b6577e6a56feb9f09d744"</span>,
      <span class="s2">"expires_at"</span>: <span class="s2">"2019-07-04"</span>,
      <span class="s2">"pfx_certificate_url"</span>: <span class="s2">"/system/certificates/pfx_certificates/000/000/019/original/certificate.pfx?1550754636"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="atualiza-o-de-organiza-es">Atualização de Organizações</h2>

<p>Para atualizar uma organização, é necessário realizar uma requisição PATCH para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">PATCH</i>
        <h6>/api/v1/organizations/{:organization_id}</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X PATCH <span class="se">\</span>
  http://localhost:3000/api/v1/organizations/5 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
      "organization": {
        "company_name": "Update company_name",
        "email": "foo2@bar.com"
      }
    }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"organization"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 5,
      <span class="s2">"document"</span>: <span class="s2">"58521175000124"</span>,
      <span class="s2">"name"</span>: <span class="s2">"Foo"</span>,
      <span class="s2">"inscricao_municipal"</span>: <span class="s2">"13213213"</span>,
      <span class="s2">"company_name"</span>: <span class="s2">"Update company_name"</span>,
      <span class="s2">"email"</span>: <span class="s2">"foo2@bar.com"</span>,
      <span class="s2">"logo_file_name"</span>: null,
      <span class="s2">"logo_url"</span>: <span class="s2">""</span>,
      <span class="s2">"address"</span>: <span class="o">{</span>
        <span class="s2">"zipcode"</span>: <span class="s2">"04552000"</span>,
        <span class="s2">"address"</span>: <span class="s2">"Rua do Rocio"</span>,
        <span class="s2">"number"</span>: <span class="s2">"199"</span>,
        <span class="s2">"complement"</span>: <span class="s2">"Conj. 91"</span>,
        <span class="s2">"district"</span>: <span class="s2">"Vila Olimpia"</span>,
        <span class="s2">"city"</span>: <span class="s2">"Sao Paulo"</span>,
        <span class="s2">"state"</span>: <span class="s2">"SP"</span>,
        <span class="s2">"phone"</span>: <span class="s2">"1133333333"</span>,
        <span class="s2">"city_code"</span>: <span class="s2">"812938"</span>
      <span class="o">}</span>,
      <span class="s2">"inscricao_estadual"</span>: <span class="s2">"787811920"</span>,
      <span class="s2">"codigo_regime_tributario"</span>: <span class="s2">"simples_nacional"</span>,
      <span class="s2">"cnae"</span>: null,
      <span class="s2">"certificate"</span>: null
  <span class="o">}</span>
<span class="o">}</span>

EXEMPLO DE RETORNO DE ERROS

<span class="o">{</span>
    <span class="s2">"errors"</span>: <span class="o">{</span> <span class="s2">"document"</span>: <span class="o">[</span><span class="s2">"não é válido"</span><span class="o">]</span> <span class="o">}</span>,
    <span class="s2">"error_details"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"document"</span>: <span class="o">[</span>
                <span class="o">{</span> <span class="s2">"error"</span>: <span class="s2">"invalid"</span> <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Campo</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>codigo_regime_tributario</td>
<td>Não</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>1 = Simples Nacional;<br>2 = Simples Nacional, excesso sublimite de receita bruta;<br>3 = Regime Normal.</td>
</tr>
<tr>
<td>razao_social</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>document</td>
<td>Sim</td>
<td>Numérico</td>
<td>14 dígitos</td>
<td>CNPJ da empresa emitente, somente números.</td>
</tr>
<tr>
<td>email</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>inscricao_estadual</td>
<td>sim</td>
<td>Texto</td>
<td>Até 14 caracteres</td>
<td>Informar somente os algarismos, sem ponto, hífen, barra, etc. Na emissão de NF-e avulsa pode ser informado o texto ISENTO para os contribuintes do ICMS isentos de inscrição no cadastro de contribuintes do ICMS.</td>
</tr>
<tr>
<td>inscricao_municipal</td>
<td>Não</td>
<td>Texto</td>
<td>Até 15 caracteres</td>
<td></td>
</tr>
<tr>
<td>nome_fantasia</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
</tbody></table>

<h4 id="address">address</h4>

<p>Grupo de informações relacionadas ao endereço da organização. Seus atributos são:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>city</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>city_code</td>
<td>Sim</td>
<td>Numérico</td>
<td>7 dígitos</td>
<td></td>
</tr>
<tr>
<td>complement</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>district</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>number</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>phone</td>
<td>Não</td>
<td>Numérico</td>
<td>De 6 a 14 carateres</td>
<td></td>
</tr>
<tr>
<td>state</td>
<td>Sim</td>
<td>Texto</td>
<td>2 caracteres</td>
<td></td>
</tr>
<tr>
<td>zipcode</td>
<td>Sim</td>
<td>Numérico</td>
<td>8 dígitos</td>
<td></td>
</tr>
</tbody></table>

<h2 id="exclus-o-de-organiza-es">Exclusão de Organizações</h2>

<p>Para excluir uma organização da conta, é necessário realizar uma requisição DELETE para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-warning">DELETE</i>
        <h6>/api/v1/organizations/{:organization_id}</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO
curl -X DELETE <span class="se">\</span>
  http://localhost:3000/api/v1/organizations/1 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>


EXEMPLO DE RETORNO DE ERROS

<span class="o">{</span>
    <span class="s2">"errors"</span>: <span class="o">[</span><span class="s2">"A conta deve possuir ao menos uma organização"</span><span class="o">]</span>,
    <span class="s2">"error_details"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"base"</span>: <span class="o">[</span>
                <span class="o">{</span> <span class="s2">"error"</span>: <span class="s2">"last_organization"</span> <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<h2 id="listagem-de-organiza-es">Listagem de Organizações</h2>

<p>Para listar todas as organizações da conta, é necessário realizar uma requisição GET para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>api/v1/organizations</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO
curl -X GET <span class="se">\</span>
  http://localhost:3000/api/v1/organizations <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
</code></pre>
<pre class="highlight shell"><code>EXEMPLO DE RESPOSTA
<span class="o">{</span>
    <span class="s2">"organizations"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"id"</span>: 1,
            <span class="s2">"document"</span>: <span class="s2">"12345678000000"</span>,
            <span class="s2">"name"</span>: <span class="s2">"Fulano de tal"</span>,
            <span class="s2">"inscricao_municipal"</span>: <span class="s2">"123456"</span>,
            <span class="s2">"company_name"</span>: <span class="s2">"F Comp"</span>,
            <span class="s2">"email"</span>: <span class="s2">"fulano.de.tal@nexaas.com"</span>,
            <span class="s2">"logo_file_name"</span>: null,
            <span class="s2">"logo_url"</span>: <span class="s2">""</span>,
            <span class="s2">"address"</span>: <span class="o">{</span>
                <span class="s2">"address"</span>: <span class="s2">"Rua 1"</span>,
                <span class="s2">"city"</span>: <span class="s2">"Rio de Janeiro"</span>,
                <span class="s2">"city_code"</span>: <span class="s2">"3301009"</span>,
                <span class="s2">"complement"</span>: <span class="s2">"-"</span>,
                <span class="s2">"district"</span>: <span class="s2">"Parque 2"</span>,
                <span class="s2">"number"</span>: <span class="s2">"119"</span>,
                <span class="s2">"phone"</span>: <span class="s2">"21999999999"</span>,
                <span class="s2">"state"</span>: <span class="s2">"RJ"</span>,
                <span class="s2">"zipcode"</span>: <span class="s2">"28000200"</span>
            <span class="o">}</span>,
            <span class="s2">"inscricao_estadual"</span>: <span class="s2">"123456"</span>,
            <span class="s2">"codigo_regime_tributario"</span>: <span class="s2">"simples_nacional"</span>,
            <span class="s2">"regime_tributario_diferenciado"</span>: <span class="s2">"LFEM"</span>,
            <span class="s2">"cnae"</span>: <span class="s2">"14.02/951180002"</span>,
            <span class="s2">"csc_id"</span>: <span class="s2">"120"</span>,
            <span class="s2">"csc_token"</span>: <span class="s2">"Lorem Ipsum"</span>,
            <span class="s2">"certificate_expires_at"</span>: null,
            <span class="s2">"certificate"</span>: null
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<h2 id="consulta-de-organiza-es">Consulta de Organizações</h2>

<p>Para listar uma organização da conta, é necessário realizar uma requisição GET para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>api/v1/organizations/{:organization_id}</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO
curl -X GET <span class="se">\</span>
  http://localhost:3000/api/v1/organizations <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
</code></pre>
<pre class="highlight shell"><code>EXEMPLO DE RESPOSTA
<span class="o">{</span>
    <span class="s2">"organization"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: 1,
        <span class="s2">"document"</span>: <span class="s2">"12345678000000"</span>,
        <span class="s2">"name"</span>: <span class="s2">"Fulano de tal"</span>,
        <span class="s2">"inscricao_municipal"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"company_name"</span>: <span class="s2">"F Comp"</span>,
        <span class="s2">"email"</span>: <span class="s2">"fulano.de.tal@nexaas.com"</span>,
        <span class="s2">"logo_file_name"</span>: null,
        <span class="s2">"logo_url"</span>: <span class="s2">""</span>,
        <span class="s2">"address"</span>: <span class="o">{</span>
            <span class="s2">"address"</span>: <span class="s2">"Rua 1"</span>,
            <span class="s2">"city"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"city_code"</span>: <span class="s2">"3301009"</span>,
            <span class="s2">"complement"</span>: <span class="s2">"-"</span>,
            <span class="s2">"district"</span>: <span class="s2">"Parque 2"</span>,
            <span class="s2">"number"</span>: <span class="s2">"119"</span>,
            <span class="s2">"phone"</span>: <span class="s2">"21999999999"</span>,
            <span class="s2">"state"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"zipcode"</span>: <span class="s2">"28000200"</span>
        <span class="o">}</span>,
        <span class="s2">"inscricao_estadual"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"codigo_regime_tributario"</span>: <span class="s2">"simples_nacional"</span>,
        <span class="s2">"regime_tributario_diferenciado"</span>: <span class="s2">"LFEM"</span>,
        <span class="s2">"cnae"</span>: <span class="s2">"14.02/951180002"</span>,
        <span class="s2">"csc_id"</span>: <span class="s2">"120"</span>,
        <span class="s2">"csc_token"</span>: <span class="s2">"Lorem Ipsum"</span>,
        <span class="s2">"certificate_expires_at"</span>: null,
        <span class="s2">"certificate"</span>: null
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

          <h1 id="contas">Contas</h1>

<h2 id="cria-o-de-conta">Criação de conta</h2>

<p>É possível criar uma conta via API do Emites já com um usuário administrador.</p>

<aside class="notice">
  É necessário que a conta autenticada (dona do Token enviado na requisição) tenha permissão para criar outras contas.
</aside>

<p>Uma vez que a conta esteja autorizada, é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/accounts</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  http://localhost:3000/api/v1/accounts/ <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
      "account": {
        "name": "Nome da conta",
        "admin_email": "foo@bar.com"
      }
    }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"account"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 8,
    <span class="s2">"name"</span>: <span class="s2">"Nome da conta"</span>,
    <span class="s2">"user_id"</span>: 6,
    <span class="s2">"user_ids"</span>: <span class="o">[]</span>,
    <span class="s2">"api_token"</span>: <span class="s2">"552a0d7d67d2f77b6b6908a3070b5a06"</span>,
    <span class="s2">"created_at"</span>: <span class="s2">"2019-06-24T15:58:51.866-03:00"</span>,
    <span class="s2">"updated_at"</span>: <span class="s2">"2019-06-24T15:58:51.866-03:00"</span>,
    <span class="s2">"account_creator"</span>: <span class="nb">false</span>,
    <span class="s2">"account_id"</span>: 1,
    <span class="s2">"admin"</span>: <span class="o">{</span>
      <span class="s2">"id"</span>: 6,
      <span class="s2">"name"</span>: <span class="s2">"foo@bar.com"</span>,
      <span class="s2">"email"</span>: <span class="s2">"foo@bar.com"</span>,
      <span class="s2">"auth_provider"</span>: <span class="s2">"nexaas_id"</span>,
      <span class="s2">"created_at"</span>: <span class="s2">"2019-06-24T15:58:51.855-03:00"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2019-06-24T15:58:51.855-03:00"</span>,
      <span class="s2">"uuid"</span>: <span class="s2">"47d4738f-db19-46e9-a305-7bfbbb964f77"</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

EXEMPLO DE RETORNO DE ERROS

<span class="o">{</span>
    <span class="s2">"errors"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="o">[</span><span class="s2">"não pode ficar em branco"</span><span class="o">]</span>,
            <span class="s2">"admin_email"</span>: <span class="o">[</span><span class="s2">"não pode ficar em branco"</span>, <span class="s2">"não é válido"</span><span class="o">]</span>
        <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"error_details"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="o">[</span>
                <span class="o">{</span> <span class="s2">"error"</span>: <span class="s2">"blank"</span> <span class="o">}</span>
            <span class="o">]</span>,
            <span class="s2">"admin_email"</span>: <span class="o">[</span>
                <span class="o">{</span> <span class="s2">"error"</span>: <span class="s2">"blank"</span> <span class="o">}</span>, <span class="o">{</span> <span class="s2">"error"</span>: <span class="s2">"invalid"</span> <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Campo</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Sim</td>
<td>Texto</td>
<td></td>
<td>Nome para identificação da conta.</td>
</tr>
<tr>
<td>admin_email</td>
<td>Sim</td>
<td>Texto</td>
<td></td>
<td>E-mail válido do usuário administrador que será criado ou vinculado à nova conta.</td>
</tr>
</tbody></table>

          <h1 id="tipos-de-emiss-o">Tipos de emissão</h1>

<h2 id="processamento-s-ncrono">Processamento Síncrono</h2>

<p>O processamento síncrono corresponde a entrega da resposta do processamento da NF-e/NFC-e,
sem a geração de um recibo de lote para consulta futura. Portanto, obtendo o status do documento na mesma conexão.</p>

<aside class="notice">
  Só é possível processar <b>1 documento</b> por requisição utilizando esse modo.
</aside>

<p>Para utilizar esse tipo de emissão, utilize as instruções contidas nas seções <a href="#emiss-o-de-nf-e">Emissão de NF-e</a> ou <a href="#emiss-o-de-nfc-e">Emissão de NCF-e</a>.</p>

<p>A resposta de forma síncrona é critério da SEFAZ de cada UF. E caso não esteja disponível, a requisição retornará um erro.</p>

<p>Ex:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"uf"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"uf 35 não habilitada para o modo síncrono. Utilize o endpoint para emissão em lote (/api/v1/organizations/1/nfe_batch)."</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="processamento-ass-ncrono">Processamento Assíncrono</h2>

<p>O processamento assíncrono corresponde ao envio de um lote de NF-e/NFC-e, e o recebimento de um Recibo de Lote da SEFAZ. Em posse desse recibo, o Emites realizará uma consulta dentro de alguns segundos em uma nova conexão para obter o status de cada documento do lote.</p>

<aside class="notice">
  É possível processar de <b>1 a 50 documentos</b> por requisição utilizando esse modo.
</aside>

<p>Para utilizar esse tipo de emissão, utilize as instruções contidas nas seções <a href="#emiss-o-em-lote-de-nf-e">Emissão em lote de NF-e</a> ou <a href="#emiss-o-em-lote-de-nfc-e">Emissão em lote de NFC-e</a>.</p>

<p>A resposta de forma assíncrona está disponível para todas as UF&rsquo;s.</p>

<h2 id="processamento-h-brido">Processamento Híbrido</h2>

<p>Nesse tipo de emissão, fica a critério do Emites definir qual o modo de processamento será utilizado na conexão com a SEFAZ, baseado na melhor opção possível.</p>

<p>O modo síncrono será utilizado:</p>

<ul>
<li>Se a SEFAZ da UF de origem disponibilizar esse serviço.</li>
<li>Se o lote enviado conter apenas um documento.</li>
</ul>

<p>Caso contrário, o modo assíncrono será utilizado na conexão com a SEFAZ.</p>

<p>Para utilizar esse tipo de emissão, utilize as instruções contidas nas seções <a href="#emiss-o-h-brida-de-nf-e">Emissão Híbrida de NF-e</a> ou <a href="#emiss-o-h-brida-de-nfc-e">Emissão Híbrida de NFC-e</a>.</p>

          <h1 id="emiss-o">Emissão</h1>

<h2 id="emiss-o-de-nf-e">Emissão de NF-e</h2>

<p>Para emitir uma NF-e, é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations/{organization_id}/nfe</h6>
    </div>
</div>

<aside class="warning">
  Todos os campos de texto da NF-e não aceitam caracteres acentuados como, por exemplo &ldquo;á&rdquo;, &ldquo;é&rdquo;, &ldquo;â&rdquo;, &ldquo;ã&rdquo; etc. Também não aceitam &ldquo;ç&rdquo;.
</aside>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
    "nfe": {
      "engine_de_calculo": "",
      "contingencia": false,
      "cliente": {
        "cpf_cnpj": "46728754000163",
        "email": "teste@nexaas.com.br",
        "indicador_inscricao_estadual": 1,
        "inscricao_estadual": "407056228113",
        "inscricao_municipal": "",
        "inscricao_suframa": "",
        "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
        "pessoa_fisica_juridica": "company",
        "endereco": {
          "bairro": "MEDEIROS",
          "cep": "13212255",
          "codigo_municipio": "3525904",
          "codigo_pais": "1058",
          "complemento": "",
          "logradouro": "AV GUILHERME PORCARI",
          "nome_municipio": "JUNDIAI",
          "nome_pais": "BRASIL",
          "numero": "S N",
          "telefone": "99999999",
          "uf": "SP"
        }
      },
      "cobranca": {
        "duplicatas": [
          {
            "data_vencimento": "",
            "numero": "",
            "valor": ""
          }
        ],
        "fatura": {
          "numero_fatura": "",
          "valor_desconto": 0,
          "valor_liquido": 0,
          "valor_original": 0
        }
      },
      "dados_gerais": {
        "codigo_mun_ocorrencia": "3525904",
        "data_saida_entrada": "2018-09-28T17:07:35-03:00",
        "destino_operacao": "1",
        "finalidade_nfe": "1",
        "serie": 1"
        "indicador_consumidor_final": "0",
        "indicador_presenca": "9",
        "natureza_operacao": "Venda merc. adq. rec. terc. efet. fora estab.",
        "tipo_operacao": "1",
        "uf": 35
      },
      "forma_de_pagamento": [
        {
          "tipo_de_pagamento": "01",
          "valor_do_pagamento": 50
        },
        {
          "tipo_de_integracao": "2",
          "tipo_de_pagamento": "03",
          "valor_do_pagamento": 8.97
        },
        {
          "bandeira_operadora": "02",
          "cnpj_credenciadora": "99999999999999",
          "numero_autorizacao_operacao": "99999999999999999999",
          "tipo_de_integracao": "1",
          "tipo_de_pagamento": "03",
          "valor_do_pagamento": 40
        }
      ],
      "informacoes_adicionais": {
        "informacoes_contribuinte": "",
        "informacoes_fisco": "Cliente: 112. Remessa: 000061074-0123"
      },
      "lista_autorizacao": [],
      "produtos": [
        {
          "cest": "",
          "cfop": 5104,
          "cnpj_fabricante_mercadoria": "99999999999999999",
          "codigo_beneficio_fiscal": "foo",
          "codigo_ean": "",
          "codigo_produto": "123456",
          "descricao": "NITROGENIO CIL 50L 10M3",
          "ean_unidade_trib": "",
          "informacoes_adicionais": "",
          "ncm": 28043000,
          "num_item_pedido": 1,
          "num_pedido": "S0100249134",
          "outras_despesas": 0,
          "producao_escala": "S",
          "quantidade_comercial": 6,
          "quantidade_tributaria": 6,
          "unidade_comercial": "M3",
          "unidade_tributaria": "M3",
          "valor_desconto": 0,
          "valor_frete": 0,
          "valor_seguro": 0,
          "valor_total_produto": "98.97",
          "valor_unitario_comercial": 16.49485,
          "valor_unitario_tributario": 16.49485,
          "tributacao": {
            "valor_aproximado_total": 269.64,
            "cofins": {
              "aliquota_cofins": "7.60",
              "aliquota_cofins_reais": 0,
              "aliquota_cofins_st_reais": 0,
              "aliquota_st": 0,
              "situacao_tributaria": "01",
              "valor_base_calculo": 989.69,
              "valor_base_calculo_st": 0,
              "valor_cofins": 75.2,
              "valor_cofins_st": 0
            },
            "icms": {
              "aliquota_consumidor_final": 0,
              "aliquota_fcp": 0,
              "aliquota_fcp_st": 0,
              "aliquota_fcp_st_retido": 0,
              "aliquota_icms": "18.00",
              "aliquota_icms_simples_nacional": 0,
              "aliquota_icms_st": 0,
              "aliquota_interestadual": 0,
              "aliquota_interna_interestadual": 0,
              "base_icmsst_retido": 0,
              "codigo_origem_produto": 3,
              "credito_icms_simples_nacional": 0,
              "modalidade_base_calculo": 3,
              "modalidade_base_calculo_st": "3",
              "motivo_desoneracao": "",
              "perc_diferimento": 0,
              "perc_fcp_interestadual": 0,
              "perc_mva_icms_st": 0,
              "perc_provisorio_interestadual": 0,
              "perc_reducao_base_calculo": 0,
              "perc_reducao_base_calculo_st": 0,
              "situacao_simples_nacional": 0,
              "situacao_tributaria": "00",
              "valor_base_calculo": 989.69,
              "valor_base_calculo_fcp": 0,
              "valor_base_calculo_fcp_st": 0,
              "valor_base_calculo_fcp_st_retido": 0,
              "valor_base_calculo_st": 0,
              "valor_base_calculo_uf_dest": 0,
              "valor_fcp": 0,
              "valor_fcp_interestadual": 0,
              "valor_fcp_st": 0,
              "valor_fcp_st_retido": 0,
              "valor_icms": 178.14,
              "valor_icms_desonerado": 0,
              "valor_icms_diferido": 0,
              "valor_icms_operacao": 0,
              "valor_icms_st": 0,
              "valor_icmsst_retido": 0,
              "valor_uf_destinatario_interestadual": 0,
              "valor_uf_rementente": 0,
              "valor_uf_remetente_interestadual": 0
            },
            "importacao": {
              "base_calculo_importacao": "",
              "valor_despesas_aduaneiras": "",
              "valor_imposto_importacao": "",
              "valor_iof": ""
            },
            "ipi": {
              "aliquota_ipi": "0.00",
              "cnpj_produtor": "",
              "codigo_enquadramento": 999,
              "codigo_selo_controle": 0,
              "quantidade_selo_controle": 0,
              "situacao_tributaria": "01",
              "valor_base_calculo": "989.69",
              "valor_ipi": "0.00",
              "valor_unidade": ""
            },
            "pis": {
              "aliquota_pis": 1.65,
              "aliquota_pis_reais": 0,
              "aliquota_pis_reais_st": 0,
              "aliquota_st": 0,
              "situacao_tributaria": "01",
              "valor_base_calculo": 989.69,
              "valor_base_calculo_st": 0,
              "valor_pis": 16.3,
              "valor_pis_st": 0
            }
          },
          "declaracao_importacao": [
            {
              "cnpj": "",
              "codigo_exportador": "",
              "data_desembaraco": "",
              "data_importacao": "",
              "documento_importacao": "",
              "forma_importacao": "",
              "local_desembaraco": "",
              "uf_adquirente": "",
              "uf_desembaraco": "",
              "valor_afrmm": "",
              "via_transporte": "",
              "adicoes": [
                {
                  "codigo_fabricante": "",
                  "numero_adicao": "",
                  "numero_drawback": "",
                  "numero_sequencial": "",
                  "valor_desconto": ""
                }
              ]
            }
          ]
        }
      ],
      "retencao_tributos": {
        "base_calculo_retencao_previdencia": 0,
        "valor_base_calculo_irrf": 0,
        "valor_irrf": 0,
        "valor_retencao_previdencia": 0,
        "valor_retido_cofins": 0,
        "valor_retido_csll": 0,
        "valor_retido_pis": 0
      },
      "transporte": {
        "codigo_modalidade": 9,
        "retencao_icms": {
          "aliquota_retencao": 0,
          "cfop": "",
          "codigo_municipio": "",
          "uf": "",
          "valor_base_calculo": 0,
          "valor_retido": 0,
          "valor_servico": 0
        },
        "transportadora": {
          "cnpj_cpf": "",
          "endereco_completo": "",
          "inscricao_estadual": "",
          "municipio": "",
          "razao_social": "",
          "uf": ""
        },
        "veiculo": {
          "placa": "",
          "rntc": "",
          "uf": ""
        },
        "volume_transportado": [
          {
            "especie": "Cilindro",
            "marca": 0,
            "numeracao_volumes": 0,
            "peso_bruto": "450.780",
            "peso_liquido": "66.780",
            "quantidade_volumes": 1
          }
        ]
      }
    }
  }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfe"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 10990,
    <span class="s2">"status"</span>: <span class="s2">"processing"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="emiss-o-de-nfc-e">Emissão de NFC-e</h2>

<p>Antes de emitir uma NFC-e, é necessário ter um Código de Segurança do Contribuinte, também conhecido como CSC e seu respectivo token identificador. Ambos valores são utilizados na geração do QR Code e na garantia da autoria e da autenticidade do DANFE NFC-e.</p>

<p>É possível ter até dois CSC ativos por ambiente, que podem ser gerados e gerenciados na SEFAZ do Estado do contribuinte.</p>

<p>O CSC e o IdToken são obrigatórios, no entanto, é possível armazená-los no cadastro da organização. Dessa forma, não há necessidade de enviá-los nos dados_gerais. Contudo, se enviados serão utilizados na emissão.</p>

<p>Para emitir uma NFC-e, é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations/{organization_id}/nfce</h6>
    </div>
</div>

<aside class="warning">
  Todos os campos de texto da NFC-e não aceitam caracteres acentuados como, por exemplo &ldquo;á&rdquo;, &ldquo;é&rdquo;, &ldquo;â&rdquo;, &ldquo;ã&rdquo; etc. Também não aceitam &ldquo;ç&rdquo;.
</aside>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
    "nfce": {
      "engine_de_calculo": "",
      "dados_gerais": {
        "csc": "000001",
        "id_token": "A16A5A2DI8FA443FB8710D9AB8EB5432",
        "serie": 1,
        "codigo_mun_ocorrencia": "5300108",
        "data_saida_entrada": null,
        "destino_operacao": null,
        "finalidade_nfe": "1",
        "indicador_presenca": "1",
        "natureza_operacao": "saida",
        "tipo_operacao": "1",
        "uf": "53"
      },
      "cliente": {
        "pessoa_fisica_juridica": "person",
        "cpf_cnpj": "86152288843",
        "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
        "email": "teste@teste.com",
        "endereco": {
          "bairro": "Bairro teste",
          "cep": "05685040",
          "codigo_municipio": "5300108",
          "codigo_pais": "1058",
          "complemento": "",
          "logradouro": "Rua do Consultor",
          "nome_municipio": "Brasilia",
          "nome_pais": "Brasil",
          "numero": "14",
          "telefone": "",
          "uf": "DF"
        }
      },
      "forma_de_pagamento": [
        {
          "tipo_de_pagamento": "03",
          "valor_do_pagamento": 15,
          "cnpj_credenciadora": "27.197.888/0186-02",
          "bandeira_operadora": "01",
          "numero_autorizacao_operacao": "1",
          "tipo_de_integracao": "1"
        },
        {
          "tipo_de_pagamento": "01",
          "cnpj_credenciadora": null,
          "bandeira_operadora": null,
          "tipo_de_integracao": null,
          "numero_autorizacao_operacao": null,
          "valor_do_pagamento": 85
        }
      ],
      "produtos": [
        {
          "cest": "1300402",
          "cfop": "5103",
          "cnpj_fabricante_mercadoria": null,
          "codigo_beneficio_fiscal": null,
          "codigo_ean": "7891000315507",
          "codigo_produto": "14600",
          "declaracao_importacao": [],
          "descricao": "NOTA FISCAL EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
          "ean_unidade_trib": "7891000315507",
          "extipi": "22",
          "imposto_devolvido": null,
          "ind_valor_total": null,
          "informacoes_adicionais": "teste",
          "ncm": "22086000",
          "num_controle_fci": null,
          "num_item_pedido": "1",
          "num_pedido": "5100003910",
          "outras_despesas": 0,
          "producao_escala": null,
          "quantidade_comercial": 10,
          "quantidade_tributaria": 10,
          "tributacao": {
            "cofins": {
              "aliquota_cofins": 7.6,
              "aliquota_cofins_reais": null,
              "aliquota_cofins_reais_st": null,
              "aliquota_st": null,
              "quantidade_vendida": null,
              "quantidade_vendida_st": null,
              "situacao_tributaria": "01",
              "valor_base_calculo": 10,
              "valor_base_calculo_st": null,
              "valor_cofins": 7.6,
              "valor_cofins_st": null
            },
            "icms": {
              "aliquota_consumidor_final": null,
              "aliquota_fcp": null,
              "aliquota_fcp_st": null,
              "aliquota_fcp_st_retido": null,
              "aliquota_icms": 18,
              "aliquota_icms_simples_nacional": null,
              "aliquota_icms_st": 31,
              "aliquota_interestadual": 0,
              "aliquota_interna_interestadual": 0,
              "base_calculo_icmsst_destino": null,
              "base_calculo_icmsst_remetente": null,
              "base_calculo_operacao_propria": null,
              "base_icmsst_retido": null,
              "codigo_origem_produto": 0,
              "credito_icms_simples_nacional": null,
              "modalidade_base_calculo": "1",
              "modalidade_base_calculo_st": 4,
              "motivo_desoneracao": "teste",
              "perc_diferimento": 0,
              "perc_fcp_interestadual": 0,
              "perc_mva_icms_st": 29.04,
              "perc_provisorio_interestadual": 0,
              "perc_reducao_base_calculo": 0,
              "perc_reducao_base_calculo_st": 0,
              "situacao_simples_nacional": null,
              "situacao_tributaria": "00",
              "uf_icmsst_devido": null,
              "valor_base_calculo": 100,
              "valor_base_calculo_fcp": null,
              "valor_base_calculo_fcp_dest": null,
              "valor_base_calculo_fcp_st": null,
              "valor_base_calculo_fcp_st_retido": null,
              "valor_base_calculo_st": 0,
              "valor_base_calculo_uf_dest": 0,
              "valor_fcp": null,
              "valor_fcp_interestadual": 0,
              "valor_fcp_st": null,
              "valor_fcp_st_retido": null,
              "valor_icms": 18,
              "valor_icms_desonerado": 0,
              "valor_icms_diferido": 0,
              "valor_icms_operacao": 0,
              "valor_icms_st": 0,
              "valor_icmsst_retido": null,
              "valor_icmsst_retido_destino": null,
              "valor_icmsst_retido_remetente": null,
              "valor_uf_destinatario_interestadual": 0,
              "valor_uf_remetente_interestadual": 0
            },
            "pis": {
              "aliquota_pis": 1.65,
              "aliquota_pis_reais": null,
              "aliquota_pis_reais_st": null,
              "aliquota_st": null,
              "quantidade_vendida": null,
              "quantidade_vendida_st": null,
              "situacao_tributaria": "01",
              "valor_base_calculo": 100,
              "valor_base_calculo_st": null,
              "valor_pis": 1.65,
              "valor_pis_st": null
            },
            "valor_aproximado_total": 27.25
          },
          "unidade_comercial": "UN",
          "unidade_tributaria": "UN",
          "valor_desconto": 0,
          "valor_frete": 0,
          "valor_seguro": 0,
          "valor_total_produto": 100,
          "valor_unitario_comercial": 10,
          "valor_unitario_tributario": 10
        }
      ],
      "transporte": {
        "volume_transportado": [
          {
            "especie": "A Granel",
            "lacres": [],
            "marca": "0",
            "numeracao_volumes": "333",
            "peso_bruto": 0,
            "peso_liquido": 0,
            "quantidade_volumes": 1
          }
        ]
      }
    }
  }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfce"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 1099,
    <span class="s2">"status"</span>: <span class="s2">"processing"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

          <h1 id="emiss-o-em-lote">Emissão em Lote</h1>

<h2 id="emiss-o-em-lote-de-nf-e">Emissão em lote de NF-e</h2>

<p>Para emitir um lote NF-e, é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations/{organization_id}/nfe_batch</h6>
    </div>
</div>

<aside class="warning">
  Todos os campos de texto da NF-e não aceitam caracteres acentuados como, por exemplo &ldquo;á&rdquo;, &ldquo;é&rdquo;, &ldquo;â&rdquo;, &ldquo;ã&rdquo; etc. Também não aceitam &ldquo;ç&rdquo;.
</aside>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe_batch <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
        "nfe_batch": {
          "lote": 1,
          "serie": 1,
          "sincronicidade": 0,
          "uf": 35,
          "nfes": [
            {
              "cliente": {
                "cpf_cnpj": "46728754000163",
                "email": "teste@nexaas.com.br",
                "indicador_inscricao_estadual": 1,
                "inscricao_estadual": "407056228113",
                "inscricao_municipal": "",
                "inscricao_suframa": "",
                "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                "pessoa_fisica_juridica": "company",
                "endereco": {
                  "bairro": "MEDEIROS",
                  "cep": "13212255",
                  "codigo_municipio": "3525904",
                  "codigo_pais": "1058",
                  "complemento": "",
                  "logradouro": "AV GUILHERME PORCARI",
                  "nome_municipio": "JUNDIAI",
                  "nome_pais": "BRASIL",
                  "numero": "S N",
                  "telefone": "99999999",
                  "uf": "SP"
                }
              },
              "cobranca": {
                "duplicatas": [
                  {
                    "data_vencimento": "",
                    "numero": "",
                    "valor": ""
                  }
                ],
                "fatura": {
                  "numero_fatura": "",
                  "valor_desconto": 0,
                  "valor_liquido": 0,
                  "valor_original": 0
                }
              },
              "dados_gerais": {
                "codigo_mun_ocorrencia": "3525904",
                "data_saida_entrada": "2018-09-28T17:07:35-03:00",
                "destino_operacao": "1",
                "finalidade_nfe": "1",
                "indicador_consumidor_final": "0",
                "indicador_presenca": "9",
                "natureza_operacao": "Venda merc. adq. rec. terc. efet. fora estab.",
                "tipo_operacao": "1",
                "uf": 35
              },
              "forma_de_pagamento": [
                {
                  "tipo_de_pagamento": "01",
                  "valor_do_pagamento": 50.0
                },
                {
                  "tipo_de_integracao": "2",
                  "tipo_de_pagamento": "03",
                  "valor_do_pagamento": 8.97
                },
                {
                  "bandeira_operadora": "02",
                  "cnpj_credenciadora": "99999999999999",
                  "numero_autorizacao_operacao": "99999999999999999999",
                  "tipo_de_integracao": "1",
                  "tipo_de_pagamento": "03",
                  "valor_do_pagamento": 40.0
                }
              ],
              "informacoes_adicionais": {
                "informacoes_contribuinte": "",
                "informacoes_fisco": "Cliente: 112. Remessa: 000061074-0123"
              },
              "lista_autorizacao": [],
              "produtos": [
                {
                  "cest": "",
                  "cfop": 5104,
                  "cnpj_fabricante_mercadoria": "99999999999999999",
                  "codigo_beneficio_fiscal": "foo",
                  "codigo_ean": "",
                  "codigo_produto": "123456",
                  "descricao": "NITROGENIO CIL 50L 10M3",
                  "ean_unidade_trib": "",
                  "informacoes_adicionais": "",
                  "ncm": 28043000,
                  "num_item_pedido": 1,
                  "num_pedido": "S0100249134",
                  "outras_despesas": 0.0,
                  "producao_escala": "S",
                  "quantidade_comercial": 6,
                  "quantidade_tributaria": 6,
                  "unidade_comercial": "M3",
                  "unidade_tributaria": "M3",
                  "valor_desconto": 0.0,
                  "valor_frete": 0.0,
                  "valor_seguro": 0.0,
                  "valor_total_produto": "98.97",
                  "valor_unitario_comercial": 16.49485,
                  "valor_unitario_tributario": 16.49485,
                  "tributacao": {
                    "valor_aproximado_total": 269.64,
                    "cofins": {
                      "aliquota_cofins": "7.60",
                      "aliquota_cofins_reais": 0,
                      "aliquota_cofins_st_reais": 0,
                      "aliquota_st": 0.0,
                      "situacao_tributaria": "01",
                      "valor_base_calculo": 989.69,
                      "valor_base_calculo_st": 0.0,
                      "valor_cofins": 75.2,
                      "valor_cofins_st": 0.0
                    },
                    "icms": {
                      "aliquota_consumidor_final": 0,
                      "aliquota_fcp": 0,
                      "aliquota_fcp_st": 0,
                      "aliquota_fcp_st_retido": 0,
                      "aliquota_icms": "18.00",
                      "aliquota_icms_simples_nacional": 0,
                      "aliquota_icms_st": 0.0,
                      "aliquota_interestadual": 0.0,
                      "aliquota_interna_interestadual": 0.0,
                      "base_icmsst_retido": 0,
                      "codigo_origem_produto": 3,
                      "credito_icms_simples_nacional": 0,
                      "modalidade_base_calculo": 3,
                      "modalidade_base_calculo_st": "3",
                      "motivo_desoneracao": "",
                      "perc_diferimento": 0.0,
                      "perc_fcp_interestadual": 0.0,
                      "perc_mva_icms_st": 0.0,
                      "perc_provisorio_interestadual": 0.0,
                      "perc_reducao_base_calculo": 0.0,
                      "perc_reducao_base_calculo_st": 0.0,
                      "situacao_simples_nacional": 0,
                      "situacao_tributaria": "00",
                      "valor_base_calculo": 989.69,
                      "valor_base_calculo_fcp": 0,
                      "valor_base_calculo_fcp_st": 0.0,
                      "valor_base_calculo_fcp_st_retido": 0.0,
                      "valor_base_calculo_st": 0.0,
                      "valor_base_calculo_uf_dest": 0.0,
                      "valor_fcp": 0.0,
                      "valor_fcp_interestadual": 0.0,
                      "valor_fcp_st": 0.0,
                      "valor_fcp_st_retido": 0.0,
                      "valor_icms": 178.14,
                      "valor_icms_desonerado": 0.0,
                      "valor_icms_diferido": 0.0,
                      "valor_icms_operacao": 0.0,
                      "valor_icms_st": 0.0,
                      "valor_icmsst_retido": 0,
                      "valor_uf_destinatario_interestadual": 0.0,
                      "valor_uf_rementente": 0.0,
                      "valor_uf_remetente_interestadual": 0.0
                    },
                    "importacao": {
                      "base_calculo_importacao": "",
                      "valor_despesas_aduaneiras": "",
                      "valor_imposto_importacao": "",
                      "valor_iof": ""
                    },
                    "ipi": {
                      "aliquota_ipi": "0.00",
                      "cnpj_produtor": "",
                      "codigo_enquadramento": 999,
                      "codigo_selo_controle": 0,
                      "quantidade_selo_controle": 0,
                      "situacao_tributaria": "01",
                      "valor_base_calculo": "989.69",
                      "valor_ipi": "0.00",
                      "valor_unidade": ""
                    },
                    "pis": {
                      "aliquota_pis": 1.65,
                      "aliquota_pis_reais": 0,
                      "aliquota_pis_reais_st": 0,
                      "aliquota_st": 0.0,
                      "situacao_tributaria": "01",
                      "valor_base_calculo": 989.69,
                      "valor_base_calculo_st": 0.0,
                      "valor_pis": 16.3,
                      "valor_pis_st": 0.0
                    }
                  },
                  "declaracao_importacao": [
                    {
                      "cnpj": "",
                      "codigo_exportador": "",
                      "data_desembaraco": "",
                      "data_importacao": "",
                      "documento_importacao": "",
                      "forma_importacao": "",
                      "local_desembaraco": "",
                      "uf_adquirente": "",
                      "uf_desembaraco": "",
                      "valor_afrmm": "",
                      "via_transporte": "",
                      "adicoes": [
                        {
                          "codigo_fabricante": "",
                          "numero_adicao": "",
                          "numero_drawback": "",
                          "numero_sequencial": "",
                          "valor_desconto": ""
                        }
                      ]
                    }
                  ]
                }
              ],
              "retencao_tributos": {
                "base_calculo_retencao_previdencia": 0.0,
                "valor_base_calculo_irrf": 0.0,
                "valor_irrf": 0.0,
                "valor_retencao_previdencia": 0.0,
                "valor_retido_cofins": 0.0,
                "valor_retido_csll": 0.0,
                "valor_retido_pis": 0.0
              },
              "transporte": {
                "codigo_modalidade": 9,
                "retencao_icms": {
                  "aliquota_retencao": 0.0,
                  "cfop": "",
                  "codigo_municipio": "",
                  "uf": "",
                  "valor_base_calculo": 0.0,
                  "valor_retido": 0.0,
                  "valor_servico": 0.0
                },
                "transportadora": {
                  "cnpj_cpf": "",
                  "endereco_completo": "",
                  "inscricao_estadual": "",
                  "municipio": "",
                  "razao_social": "",
                  "uf": ""
                },
                "veiculo": {
                  "placa": "",
                  "rntc": "",
                  "uf": ""
                },
                "volume_transportado": [
                  {
                    "especie": "Cilindro",
                    "marca": 0,
                    "numeracao_volumes": 0,
                    "peso_bruto": "450.780",
                    "peso_liquido": "66.780",
                    "quantidade_volumes": 1
                  }
                ]
              }
            }
          ]
        }
      }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfe_batch"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 1099,
    <span class="s2">"key"</span>: null,
    <span class="s2">"nfes"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: 10990,
        <span class="s2">"status"</span>: <span class="s2">"processing"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="emiss-o-em-lote-de-nfc-e">Emissão em lote de NFC-e</h2>

<p>Antes de emitir um lote de NFC-e, é necessário ter um Código de Segurança do Contribuinte, também conhecido como CSC e seu respectivo token identificador. Ambos valores são utilizados na geração do QR Code e na garantia da autoria e da autenticidade do DANFE NFC-e.</p>

<p>É possível ter até dois CSC ativos por ambiente, que podem ser gerados e gerenciados na SEFAZ do Estado do contribuinte.</p>

<p>O CSC e o IdToken são obrigatórios, no entanto, é possível armazená-los no cadastro da organização. Dessa forma, não há necessidade de enviá-los nos dados_gerais. Contudo, se enviados serão utilizados na emissão.</p>

<p>Para emitir um lote de NFC-e, é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations/{organization_id}/nfce_batch</h6>
    </div>
</div>

<aside class="warning">
  Todos os campos de texto da NFC-e não aceitam caracteres acentuados como, por exemplo &ldquo;á&rdquo;, &ldquo;é&rdquo;, &ldquo;â&rdquo;, &ldquo;ã&rdquo; etc. Também não aceitam &ldquo;ç&rdquo;.
</aside>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce_batch <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
        "nfce_batch": {
          "lote": "1",
          "serie": "1",
          "sincronicidade": "0",
          "uf": "53",
          "nfces": [
            {
              "dados_gerais": {
                "csc": "000001",
                "id_token": "A16A5A2DI8FA443FB8710D9AB8EB5432",
                "codigo_mun_ocorrencia": "5300108",
                "data_saida_entrada": null,
                "destino_operacao": null,
                "finalidade_nfe": "1",
                "indicador_presenca": "1",
                "natureza_operacao": "saida",
                "tipo_operacao": "1",
                "uf": "53"
              },
              "cliente": {
                "pessoa_fisica_juridica": "person",
                "cpf_cnpj": "86152288843",
                "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                "email": "teste@teste.com",
                "endereco": {
                  "bairro": "Bairro teste",
                  "cep": "05685040",
                  "codigo_municipio": "5300108",
                  "codigo_pais": "1058",
                  "complemento": "",
                  "logradouro": "Rua do Consultor",
                  "nome_municipio": "Brasilia",
                  "nome_pais": "Brasil",
                  "numero": "14",
                  "telefone": "",
                  "uf": "DF"
                }
              },
              "forma_de_pagamento": [
                {
                  "tipo_de_pagamento": "03",
                  "valor_do_pagamento": 15.00,
                  "cnpj_credenciadora": "27.197.888/0186-02",
                  "bandeira_operadora": "01",
                  "numero_autorizacao_operacao": "1",
                  "tipo_de_integracao": "1"
                },
                {
                  "tipo_de_pagamento": null,
                  "cnpj_credenciadora": null,
                  "bandeira_operadora": null,
                  "tipo_de_integracao": null,
                  "numero_autorizacao_operacao": null,
                  "tipo_de_pagamento": "01",
                  "valor_do_pagamento": 85.0
                }
              ],
              "produtos": [
                {
                  "cest": "1300402",
                  "cfop": "5103",
                  "cnpj_fabricante_mercadoria": null,
                  "codigo_beneficio_fiscal": null,
                  "codigo_ean": "7891000315507",
                  "codigo_produto": "14600",
                  "declaracao_importacao": [],
                  "descricao": "NOTA FISCAL EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                  "ean_unidade_trib": "7891000315507",
                  "extipi": "22",
                  "imposto_devolvido": null,
                  "ind_valor_total": null,
                  "informacoes_adicionais": "teste",
                  "ncm": "22086000",
                  "num_controle_fci": null,
                  "num_item_pedido": "1",
                  "num_pedido": "5100003910",
                  "outras_despesas": 0.0,
                  "producao_escala": null,
                  "quantidade_comercial": 10.0,
                  "quantidade_tributaria": 10.0,
                  "tributacao": {
                    "cofins": {
                      "aliquota_cofins": 7.6,
                      "aliquota_cofins_reais": null,
                      "aliquota_cofins_reais_st": null,
                      "aliquota_st": null,
                      "quantidade_vendida": null,
                      "quantidade_vendida_st": null,
                      "situacao_tributaria": "01",
                      "valor_base_calculo": 10.0,
                      "valor_base_calculo_st": null,
                      "valor_cofins": 7.6,
                      "valor_cofins_st": null
                    },
                    "icms": {
                      "aliquota_consumidor_final": null,
                      "aliquota_fcp": null,
                      "aliquota_fcp_st": null,
                      "aliquota_fcp_st_retido": null,
                      "aliquota_icms": 18.0,
                      "aliquota_icms_simples_nacional": null,
                      "aliquota_icms_st": 31.0,
                      "aliquota_interestadual": 0.0,
                      "aliquota_interna_interestadual": 0.0,
                      "base_calculo_icmsst_destino": null,
                      "base_calculo_icmsst_remetente": null,
                      "base_calculo_operacao_propria": null,
                      "base_icmsst_retido": null,
                      "codigo_origem_produto": 0,
                      "credito_icms_simples_nacional": null,
                      "modalidade_base_calculo": "1",
                      "modalidade_base_calculo_st": 4,
                      "motivo_desoneracao": "teste",
                      "perc_diferimento": 0.0,
                      "perc_fcp_interestadual": 0.0,
                      "perc_mva_icms_st": 29.04,
                      "perc_provisorio_interestadual": 0.0,
                      "perc_reducao_base_calculo": 0.0,
                      "perc_reducao_base_calculo_st": 0.0,
                      "situacao_simples_nacional": null,
                      "situacao_tributaria": "00",
                      "uf_icmsst_devido": null,
                      "valor_base_calculo": 100.0,
                      "valor_base_calculo_fcp": null,
                      "valor_base_calculo_fcp_dest": null,
                      "valor_base_calculo_fcp_st": null,
                      "valor_base_calculo_fcp_st_retido": null,
                      "valor_base_calculo_st": 0.0,
                      "valor_base_calculo_uf_dest": 0.0,
                      "valor_fcp": null,
                      "valor_fcp_interestadual": 0.0,
                      "valor_fcp_st": null,
                      "valor_fcp_st_retido": null,
                      "valor_icms": 18.0,
                      "valor_icms_desonerado": 0.0,
                      "valor_icms_diferido": 0.0,
                      "valor_icms_operacao": 0.0,
                      "valor_icms_st": 0.0,
                      "valor_icmsst_retido": null,
                      "valor_icmsst_retido_destino": null,
                      "valor_icmsst_retido_remetente": null,
                      "valor_uf_destinatario_interestadual": 0.0,
                      "valor_uf_remetente_interestadual": 0.0
                    },
                    "pis": {
                      "aliquota_pis": 1.65,
                      "aliquota_pis_reais": null,
                      "aliquota_pis_reais_st": null,
                      "aliquota_st": null,
                      "quantidade_vendida": null,
                      "quantidade_vendida_st": null,
                      "situacao_tributaria": "01",
                      "valor_base_calculo": 100.0,
                      "valor_base_calculo_st": null,
                      "valor_pis": 1.65,
                      "valor_pis_st": null
                    },
                    "valor_aproximado_total": 27.25
                  },
                  "unidade_comercial": "UN",
                  "unidade_tributaria": "UN",
                  "valor_desconto": 0.0,
                  "valor_frete": 0.0,
                  "valor_seguro": 0.0,
                  "valor_total_produto": 100.0,
                  "valor_unitario_comercial": 10.0,
                  "valor_unitario_tributario": 10.0
                }
              ],
              "transporte": {
                "volume_transportado": [
                  {
                    "especie": "A Granel",
                    "lacres": [],
                    "marca": "0",
                    "numeracao_volumes": "333",
                    "peso_bruto": 0.0,
                    "peso_liquido": 0.0,
                    "quantidade_volumes": 1
                  }
                ]
              }
            }
          ]
        }
      }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfce_batch"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 1099,
    <span class="s2">"key"</span>: null,
    <span class="s2">"nfces"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: 10990,
        <span class="s2">"status"</span>: <span class="s2">"processing"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

          <h1 id="emiss-o-h-brida">Emissão Híbrida</h1>

<h2 id="emiss-o-h-brida-de-nf-e">Emissão Híbrida de NF-e</h2>

<p>Para emitir um lote NF-e, é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations/{organization_id}/emit_nfe</h6>
    </div>
</div>

<aside class="warning">
  Todos os campos de texto da NF-e não aceitam caracteres acentuados como, por exemplo &ldquo;á&rdquo;, &ldquo;é&rdquo;, &ldquo;â&rdquo;, &ldquo;ã&rdquo; etc. Também não aceitam &ldquo;ç&rdquo;.
</aside>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/emit_nfe <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
        "nfe_batch": {
          "lote": 1,
          "serie": 1,
          "uf": 35,
          "nfes": [
            {
              "cliente": {
                "cpf_cnpj": "46728754000163",
                "email": "teste@nexaas.com.br",
                "indicador_inscricao_estadual": 1,
                "inscricao_estadual": "407056228113",
                "inscricao_municipal": "",
                "inscricao_suframa": "",
                "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                "pessoa_fisica_juridica": "company",
                "endereco": {
                  "bairro": "MEDEIROS",
                  "cep": "13212255",
                  "codigo_municipio": "3525904",
                  "codigo_pais": "1058",
                  "complemento": "",
                  "logradouro": "AV GUILHERME PORCARI",
                  "nome_municipio": "JUNDIAI",
                  "nome_pais": "BRASIL",
                  "numero": "S N",
                  "telefone": "99999999",
                  "uf": "SP"
                }
              },
              "cobranca": {
                "duplicatas": [
                  {
                    "data_vencimento": "",
                    "numero": "",
                    "valor": ""
                  }
                ],
                "fatura": {
                  "numero_fatura": "",
                  "valor_desconto": 0,
                  "valor_liquido": 0,
                  "valor_original": 0
                }
              },
              "dados_gerais": {
                "codigo_mun_ocorrencia": "3525904",
                "data_saida_entrada": "2018-09-28T17:07:35-03:00",
                "destino_operacao": "1",
                "finalidade_nfe": "1",
                "indicador_consumidor_final": "0",
                "indicador_presenca": "9",
                "natureza_operacao": "Venda merc. adq. rec. terc. efet. fora estab.",
                "tipo_operacao": "1",
                "uf": 35
              },
              "forma_de_pagamento": [
                {
                  "tipo_de_pagamento": "01",
                  "valor_do_pagamento": 50.0
                },
                {
                  "tipo_de_integracao": "2",
                  "tipo_de_pagamento": "03",
                  "valor_do_pagamento": 8.97
                },
                {
                  "bandeira_operadora": "02",
                  "cnpj_credenciadora": "99999999999999",
                  "numero_autorizacao_operacao": "99999999999999999999",
                  "tipo_de_integracao": "1",
                  "tipo_de_pagamento": "03",
                  "valor_do_pagamento": 40.0
                }
              ],
              "informacoes_adicionais": {
                "informacoes_contribuinte": "",
                "informacoes_fisco": "Cliente: 112. Remessa: 000061074-0123"
              },
              "lista_autorizacao": [],
              "produtos": [
                {
                  "cest": "",
                  "cfop": 5104,
                  "cnpj_fabricante_mercadoria": "99999999999999999",
                  "codigo_beneficio_fiscal": "foo",
                  "codigo_ean": "",
                  "codigo_produto": "123456",
                  "descricao": "NITROGENIO CIL 50L 10M3",
                  "ean_unidade_trib": "",
                  "informacoes_adicionais": "",
                  "ncm": 28043000,
                  "num_item_pedido": 1,
                  "num_pedido": "S0100249134",
                  "outras_despesas": 0.0,
                  "producao_escala": "S",
                  "quantidade_comercial": 6,
                  "quantidade_tributaria": 6,
                  "unidade_comercial": "M3",
                  "unidade_tributaria": "M3",
                  "valor_desconto": 0.0,
                  "valor_frete": 0.0,
                  "valor_seguro": 0.0,
                  "valor_total_produto": "98.97",
                  "valor_unitario_comercial": 16.49485,
                  "valor_unitario_tributario": 16.49485,
                  "tributacao": {
                    "valor_aproximado_total": 269.64,
                    "cofins": {
                      "aliquota_cofins": "7.60",
                      "aliquota_cofins_reais": 0,
                      "aliquota_cofins_st_reais": 0,
                      "aliquota_st": 0.0,
                      "situacao_tributaria": "01",
                      "valor_base_calculo": 989.69,
                      "valor_base_calculo_st": 0.0,
                      "valor_cofins": 75.2,
                      "valor_cofins_st": 0.0
                    },
                    "icms": {
                      "aliquota_consumidor_final": 0,
                      "aliquota_fcp": 0,
                      "aliquota_fcp_st": 0,
                      "aliquota_fcp_st_retido": 0,
                      "aliquota_icms": "18.00",
                      "aliquota_icms_simples_nacional": 0,
                      "aliquota_icms_st": 0.0,
                      "aliquota_interestadual": 0.0,
                      "aliquota_interna_interestadual": 0.0,
                      "base_icmsst_retido": 0,
                      "codigo_origem_produto": 3,
                      "credito_icms_simples_nacional": 0,
                      "modalidade_base_calculo": 3,
                      "modalidade_base_calculo_st": "3",
                      "motivo_desoneracao": "",
                      "perc_diferimento": 0.0,
                      "perc_fcp_interestadual": 0.0,
                      "perc_mva_icms_st": 0.0,
                      "perc_provisorio_interestadual": 0.0,
                      "perc_reducao_base_calculo": 0.0,
                      "perc_reducao_base_calculo_st": 0.0,
                      "situacao_simples_nacional": 0,
                      "situacao_tributaria": "00",
                      "valor_base_calculo": 989.69,
                      "valor_base_calculo_fcp": 0,
                      "valor_base_calculo_fcp_st": 0.0,
                      "valor_base_calculo_fcp_st_retido": 0.0,
                      "valor_base_calculo_st": 0.0,
                      "valor_base_calculo_uf_dest": 0.0,
                      "valor_fcp": 0.0,
                      "valor_fcp_interestadual": 0.0,
                      "valor_fcp_st": 0.0,
                      "valor_fcp_st_retido": 0.0,
                      "valor_icms": 178.14,
                      "valor_icms_desonerado": 0.0,
                      "valor_icms_diferido": 0.0,
                      "valor_icms_operacao": 0.0,
                      "valor_icms_st": 0.0,
                      "valor_icmsst_retido": 0,
                      "valor_uf_destinatario_interestadual": 0.0,
                      "valor_uf_rementente": 0.0,
                      "valor_uf_remetente_interestadual": 0.0
                    },
                    "importacao": {
                      "base_calculo_importacao": "",
                      "valor_despesas_aduaneiras": "",
                      "valor_imposto_importacao": "",
                      "valor_iof": ""
                    },
                    "ipi": {
                      "aliquota_ipi": "0.00",
                      "cnpj_produtor": "",
                      "codigo_enquadramento": 999,
                      "codigo_selo_controle": 0,
                      "quantidade_selo_controle": 0,
                      "situacao_tributaria": "01",
                      "valor_base_calculo": "989.69",
                      "valor_ipi": "0.00",
                      "valor_unidade": ""
                    },
                    "pis": {
                      "aliquota_pis": 1.65,
                      "aliquota_pis_reais": 0,
                      "aliquota_pis_reais_st": 0,
                      "aliquota_st": 0.0,
                      "situacao_tributaria": "01",
                      "valor_base_calculo": 989.69,
                      "valor_base_calculo_st": 0.0,
                      "valor_pis": 16.3,
                      "valor_pis_st": 0.0
                    }
                  },
                  "declaracao_importacao": [
                    {
                      "cnpj": "",
                      "codigo_exportador": "",
                      "data_desembaraco": "",
                      "data_importacao": "",
                      "documento_importacao": "",
                      "forma_importacao": "",
                      "local_desembaraco": "",
                      "uf_adquirente": "",
                      "uf_desembaraco": "",
                      "valor_afrmm": "",
                      "via_transporte": "",
                      "adicoes": [
                        {
                          "codigo_fabricante": "",
                          "numero_adicao": "",
                          "numero_drawback": "",
                          "numero_sequencial": "",
                          "valor_desconto": ""
                        }
                      ]
                    }
                  ]
                }
              ],
              "retencao_tributos": {
                "base_calculo_retencao_previdencia": 0.0,
                "valor_base_calculo_irrf": 0.0,
                "valor_irrf": 0.0,
                "valor_retencao_previdencia": 0.0,
                "valor_retido_cofins": 0.0,
                "valor_retido_csll": 0.0,
                "valor_retido_pis": 0.0
              },
              "transporte": {
                "codigo_modalidade": 9,
                "retencao_icms": {
                  "aliquota_retencao": 0.0,
                  "cfop": "",
                  "codigo_municipio": "",
                  "uf": "",
                  "valor_base_calculo": 0.0,
                  "valor_retido": 0.0,
                  "valor_servico": 0.0
                },
                "transportadora": {
                  "cnpj_cpf": "",
                  "endereco_completo": "",
                  "inscricao_estadual": "",
                  "municipio": "",
                  "razao_social": "",
                  "uf": ""
                },
                "veiculo": {
                  "placa": "",
                  "rntc": "",
                  "uf": ""
                },
                "volume_transportado": [
                  {
                    "especie": "Cilindro",
                    "marca": 0,
                    "numeracao_volumes": 0,
                    "peso_bruto": "450.780",
                    "peso_liquido": "66.780",
                    "quantidade_volumes": 1
                  }
                ]
              }
            }
          ]
        }
      }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfe_batch"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 1099,
    <span class="s2">"key"</span>: null,
    <span class="s2">"nfes"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: 10990,
        <span class="s2">"status"</span>: <span class="s2">"processing"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="emiss-o-h-brida-de-nfc-e">Emissão Híbrida de NFC-e</h2>

<p>Antes de emitir um lote de NFC-e, é necessário ter um Código de Segurança do Contribuinte, também conhecido como CSC e seu respectivo token identificador. Ambos valores são utilizados na geração do QR Code e na garantia da autoria e da autenticidade do DANFE NFC-e.</p>

<p>É possível ter até dois CSC ativos por ambiente, que podem ser gerados e gerenciados na SEFAZ do Estado do contribuinte.</p>

<p>O CSC e o IdToken são obrigatórios, no entanto, é possível armazená-los no cadastro da organização. Dessa forma, não há necessidade de enviá-los nos dados_gerais. Contudo, se enviados serão utilizados na emissão.</p>

<p>Para emitir um lote de NFC-e, é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations/{organization_id}/emit_nfce</h6>
    </div>
</div>

<aside class="warning">
  Todos os campos de texto da NFC-e não aceitam caracteres acentuados como, por exemplo &ldquo;á&rdquo;, &ldquo;é&rdquo;, &ldquo;â&rdquo;, &ldquo;ã&rdquo; etc. Também não aceitam &ldquo;ç&rdquo;.
</aside>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/emit_nfce <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
        "nfce_batch": {
          "lote": "1",
          "serie": "1",
          "uf": "53",
          "nfces": [
            {
              "dados_gerais": {
                "csc": "000001",
                "id_token": "A16A5A2DI8FA443FB8710D9AB8EB5432",
                "codigo_mun_ocorrencia": "5300108",
                "data_saida_entrada": null,
                "destino_operacao": null,
                "finalidade_nfe": "1",
                "indicador_presenca": "1",
                "natureza_operacao": "saida",
                "tipo_operacao": "1",
                "uf": "53"
              },
              "cliente": {
                "pessoa_fisica_juridica": "person",
                "cpf_cnpj": "86152288843",
                "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                "email": "teste@teste.com",
                "endereco": {
                  "bairro": "Bairro teste",
                  "cep": "05685040",
                  "codigo_municipio": "5300108",
                  "codigo_pais": "1058",
                  "complemento": "",
                  "logradouro": "Rua do Consultor",
                  "nome_municipio": "Brasilia",
                  "nome_pais": "Brasil",
                  "numero": "14",
                  "telefone": "",
                  "uf": "DF"
                }
              },
              "forma_de_pagamento": [
                {
                  "tipo_de_pagamento": "03",
                  "valor_do_pagamento": 15.00,
                  "cnpj_credenciadora": "27.197.888/0186-02",
                  "bandeira_operadora": "01",
                  "numero_autorizacao_operacao": "1",
                  "tipo_de_integracao": "1"
                },
                {
                  "tipo_de_pagamento": null,
                  "cnpj_credenciadora": null,
                  "bandeira_operadora": null,
                  "tipo_de_integracao": null,
                  "numero_autorizacao_operacao": null,
                  "tipo_de_pagamento": "01",
                  "valor_do_pagamento": 85.0
                }
              ],
              "produtos": [
                {
                  "cest": "1300402",
                  "cfop": "5103",
                  "cnpj_fabricante_mercadoria": null,
                  "codigo_beneficio_fiscal": null,
                  "codigo_ean": "7891000315507",
                  "codigo_produto": "14600",
                  "declaracao_importacao": [],
                  "descricao": "NOTA FISCAL EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                  "ean_unidade_trib": "7891000315507",
                  "extipi": "22",
                  "imposto_devolvido": null,
                  "ind_valor_total": null,
                  "informacoes_adicionais": "teste",
                  "ncm": "22086000",
                  "num_controle_fci": null,
                  "num_item_pedido": "1",
                  "num_pedido": "5100003910",
                  "outras_despesas": 0.0,
                  "producao_escala": null,
                  "quantidade_comercial": 10.0,
                  "quantidade_tributaria": 10.0,
                  "tributacao": {
                    "cofins": {
                      "aliquota_cofins": 7.6,
                      "aliquota_cofins_reais": null,
                      "aliquota_cofins_reais_st": null,
                      "aliquota_st": null,
                      "quantidade_vendida": null,
                      "quantidade_vendida_st": null,
                      "situacao_tributaria": "01",
                      "valor_base_calculo": 10.0,
                      "valor_base_calculo_st": null,
                      "valor_cofins": 7.6,
                      "valor_cofins_st": null
                    },
                    "icms": {
                      "aliquota_consumidor_final": null,
                      "aliquota_fcp": null,
                      "aliquota_fcp_st": null,
                      "aliquota_fcp_st_retido": null,
                      "aliquota_icms": 18.0,
                      "aliquota_icms_simples_nacional": null,
                      "aliquota_icms_st": 31.0,
                      "aliquota_interestadual": 0.0,
                      "aliquota_interna_interestadual": 0.0,
                      "base_calculo_icmsst_destino": null,
                      "base_calculo_icmsst_remetente": null,
                      "base_calculo_operacao_propria": null,
                      "base_icmsst_retido": null,
                      "codigo_origem_produto": 0,
                      "credito_icms_simples_nacional": null,
                      "modalidade_base_calculo": "1",
                      "modalidade_base_calculo_st": 4,
                      "motivo_desoneracao": "teste",
                      "perc_diferimento": 0.0,
                      "perc_fcp_interestadual": 0.0,
                      "perc_mva_icms_st": 29.04,
                      "perc_provisorio_interestadual": 0.0,
                      "perc_reducao_base_calculo": 0.0,
                      "perc_reducao_base_calculo_st": 0.0,
                      "situacao_simples_nacional": null,
                      "situacao_tributaria": "00",
                      "uf_icmsst_devido": null,
                      "valor_base_calculo": 100.0,
                      "valor_base_calculo_fcp": null,
                      "valor_base_calculo_fcp_dest": null,
                      "valor_base_calculo_fcp_st": null,
                      "valor_base_calculo_fcp_st_retido": null,
                      "valor_base_calculo_st": 0.0,
                      "valor_base_calculo_uf_dest": 0.0,
                      "valor_fcp": null,
                      "valor_fcp_interestadual": 0.0,
                      "valor_fcp_st": null,
                      "valor_fcp_st_retido": null,
                      "valor_icms": 18.0,
                      "valor_icms_desonerado": 0.0,
                      "valor_icms_diferido": 0.0,
                      "valor_icms_operacao": 0.0,
                      "valor_icms_st": 0.0,
                      "valor_icmsst_retido": null,
                      "valor_icmsst_retido_destino": null,
                      "valor_icmsst_retido_remetente": null,
                      "valor_uf_destinatario_interestadual": 0.0,
                      "valor_uf_remetente_interestadual": 0.0
                    },
                    "pis": {
                      "aliquota_pis": 1.65,
                      "aliquota_pis_reais": null,
                      "aliquota_pis_reais_st": null,
                      "aliquota_st": null,
                      "quantidade_vendida": null,
                      "quantidade_vendida_st": null,
                      "situacao_tributaria": "01",
                      "valor_base_calculo": 100.0,
                      "valor_base_calculo_st": null,
                      "valor_pis": 1.65,
                      "valor_pis_st": null
                    },
                    "valor_aproximado_total": 27.25
                  },
                  "unidade_comercial": "UN",
                  "unidade_tributaria": "UN",
                  "valor_desconto": 0.0,
                  "valor_frete": 0.0,
                  "valor_seguro": 0.0,
                  "valor_total_produto": 100.0,
                  "valor_unitario_comercial": 10.0,
                  "valor_unitario_tributario": 10.0
                }
              ],
              "transporte": {
                "volume_transportado": [
                  {
                    "especie": "A Granel",
                    "lacres": [],
                    "marca": "0",
                    "numeracao_volumes": "333",
                    "peso_bruto": 0.0,
                    "peso_liquido": 0.0,
                    "quantidade_volumes": 1
                  }
                ]
              }
            }
          ]
        }
      }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfce_batch"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 1099,
    <span class="s2">"key"</span>: null,
    <span class="s2">"nfces"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: 10990,
        <span class="s2">"status"</span>: <span class="s2">"processing"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

          <h1 id="autoriza-o-de-xml">Autorização de XML</h1>

<h2 id="autoriza-o-de-xml-de-nf-e">Autorização de XML de NF-e</h2>

<p>Para autorizar o XML de uma NF-e, é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations/{organization_id}/nfe/authorize</h6>
    </div>
</div>

<aside class="warning">
  Todos os campos de texto da NF-e não aceitam caracteres acentuados como, por exemplo &ldquo;á&rdquo;, &ldquo;é&rdquo;, &ldquo;â&rdquo;, &ldquo;ã&rdquo; etc. Também não aceitam &ldquo;ç&rdquo;.
</aside>

<p>Os campos utilizados para esse tipo de emissão são os mesmos praticados na Emissão de NF-e, com exceção do <strong>xml_assinado</strong>.</p>

<aside class="notice">
    <b>Atenção</b>: É importante que os campos <b>nfe_numero</b> e <b>serie</b> contidos em dados_gerais sejam os mesmos que foram utilizados para compôr o XML enviado no <b>xml_assinado</b>. Caso contrário, as respostas obtidas na SEFAZ não serão persistidos na NF-e.
</aside>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe/authorize <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
    "nfe": {
      "contingencia": false,
      "xml_assinado": "&lt;enviNFe xmlns="http://www.portalfiscal.inf.br/nfe" versao="4.00"&gt;...&lt;/enviNFe&gt;",
      "cliente": {
        "cpf_cnpj": "46728754000163",
        "email": "teste@nexaas.com.br",
        "indicador_inscricao_estadual": 1,
        "inscricao_estadual": "407056228113",
        "inscricao_municipal": "",
        "inscricao_suframa": "",
        "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
        "pessoa_fisica_juridica": "company",
        "endereco": {
          "bairro": "MEDEIROS",
          "cep": "13212255",
          "codigo_municipio": "3525904",
          "codigo_pais": "1058",
          "complemento": "",
          "logradouro": "AV GUILHERME PORCARI",
          "nome_municipio": "JUNDIAI",
          "nome_pais": "BRASIL",
          "numero": "S N",
          "telefone": "99999999",
          "uf": "SP"
        }
      },
      "cobranca": {
        "duplicatas": [
          {
            "data_vencimento": "",
            "numero": "",
            "valor": ""
          }
        ],
        "fatura": {
          "numero_fatura": "",
          "valor_desconto": 0,
          "valor_liquido": 0,
          "valor_original": 0
        }
      },
      "dados_gerais": {
        "codigo_mun_ocorrencia": "3525904",
        "data_saida_entrada": "2018-09-28T17:07:35-03:00",
        "destino_operacao": "1",
        "finalidade_nfe": "1",
        "indicador_consumidor_final": "0",
        "indicador_presenca": "9",
        "natureza_operacao": "Venda merc. adq. rec. terc. efet. fora estab.",
        "tipo_operacao": "1",
        "uf": 35,
        "nfe_numero": 101,
        "serie": 1
      },
      "forma_de_pagamento": [
        {
          "tipo_de_pagamento": "01",
          "valor_do_pagamento": 50
        },
        {
          "tipo_de_integracao": "2",
          "tipo_de_pagamento": "03",
          "valor_do_pagamento": 8.97
        },
        {
          "bandeira_operadora": "02",
          "cnpj_credenciadora": "99999999999999",
          "numero_autorizacao_operacao": "99999999999999999999",
          "tipo_de_integracao": "1",
          "tipo_de_pagamento": "03",
          "valor_do_pagamento": 40
        }
      ],
      "informacoes_adicionais": {
        "informacoes_contribuinte": "",
        "informacoes_fisco": "Cliente: 112. Remessa: 000061074-0123"
      },
      "lista_autorizacao": [],
      "produtos": [
        {
          "cest": "",
          "cfop": 5104,
          "cnpj_fabricante_mercadoria": "99999999999999999",
          "codigo_beneficio_fiscal": "foo",
          "codigo_ean": "",
          "codigo_produto": "123456",
          "descricao": "NITROGENIO CIL 50L 10M3",
          "ean_unidade_trib": "",
          "informacoes_adicionais": "",
          "ncm": 28043000,
          "num_item_pedido": 1,
          "num_pedido": "S0100249134",
          "outras_despesas": 0,
          "producao_escala": "S",
          "quantidade_comercial": 6,
          "quantidade_tributaria": 6,
          "unidade_comercial": "M3",
          "unidade_tributaria": "M3",
          "valor_desconto": 0,
          "valor_frete": 0,
          "valor_seguro": 0,
          "valor_total_produto": "98.97",
          "valor_unitario_comercial": 16.49485,
          "valor_unitario_tributario": 16.49485,
          "tributacao": {
            "valor_aproximado_total": 269.64,
            "cofins": {
              "aliquota_cofins": "7.60",
              "aliquota_cofins_reais": 0,
              "aliquota_cofins_st_reais": 0,
              "aliquota_st": 0,
              "situacao_tributaria": "01",
              "valor_base_calculo": 989.69,
              "valor_base_calculo_st": 0,
              "valor_cofins": 75.2,
              "valor_cofins_st": 0
            },
            "icms": {
              "aliquota_consumidor_final": 0,
              "aliquota_fcp": 0,
              "aliquota_fcp_st": 0,
              "aliquota_fcp_st_retido": 0,
              "aliquota_icms": "18.00",
              "aliquota_icms_simples_nacional": 0,
              "aliquota_icms_st": 0,
              "aliquota_interestadual": 0,
              "aliquota_interna_interestadual": 0,
              "base_icmsst_retido": 0,
              "codigo_origem_produto": 3,
              "credito_icms_simples_nacional": 0,
              "modalidade_base_calculo": 3,
              "modalidade_base_calculo_st": "3",
              "motivo_desoneracao": "",
              "perc_diferimento": 0,
              "perc_fcp_interestadual": 0,
              "perc_mva_icms_st": 0,
              "perc_provisorio_interestadual": 0,
              "perc_reducao_base_calculo": 0,
              "perc_reducao_base_calculo_st": 0,
              "situacao_simples_nacional": 0,
              "situacao_tributaria": "00",
              "valor_base_calculo": 989.69,
              "valor_base_calculo_fcp": 0,
              "valor_base_calculo_fcp_st": 0,
              "valor_base_calculo_fcp_st_retido": 0,
              "valor_base_calculo_st": 0,
              "valor_base_calculo_uf_dest": 0,
              "valor_fcp": 0,
              "valor_fcp_interestadual": 0,
              "valor_fcp_st": 0,
              "valor_fcp_st_retido": 0,
              "valor_icms": 178.14,
              "valor_icms_desonerado": 0,
              "valor_icms_diferido": 0,
              "valor_icms_operacao": 0,
              "valor_icms_st": 0,
              "valor_icmsst_retido": 0,
              "valor_uf_destinatario_interestadual": 0,
              "valor_uf_rementente": 0,
              "valor_uf_remetente_interestadual": 0
            },
            "importacao": {
              "base_calculo_importacao": "",
              "valor_despesas_aduaneiras": "",
              "valor_imposto_importacao": "",
              "valor_iof": ""
            },
            "ipi": {
              "aliquota_ipi": "0.00",
              "cnpj_produtor": "",
              "codigo_enquadramento": 999,
              "codigo_selo_controle": 0,
              "quantidade_selo_controle": 0,
              "situacao_tributaria": "01",
              "valor_base_calculo": "989.69",
              "valor_ipi": "0.00",
              "valor_unidade": ""
            },
            "pis": {
              "aliquota_pis": 1.65,
              "aliquota_pis_reais": 0,
              "aliquota_pis_reais_st": 0,
              "aliquota_st": 0,
              "situacao_tributaria": "01",
              "valor_base_calculo": 989.69,
              "valor_base_calculo_st": 0,
              "valor_pis": 16.3,
              "valor_pis_st": 0
            }
          },
          "declaracao_importacao": [
            {
              "cnpj": "",
              "codigo_exportador": "",
              "data_desembaraco": "",
              "data_importacao": "",
              "documento_importacao": "",
              "forma_importacao": "",
              "local_desembaraco": "",
              "uf_adquirente": "",
              "uf_desembaraco": "",
              "valor_afrmm": "",
              "via_transporte": "",
              "adicoes": [
                {
                  "codigo_fabricante": "",
                  "numero_adicao": "",
                  "numero_drawback": "",
                  "numero_sequencial": "",
                  "valor_desconto": ""
                }
              ]
            }
          ]
        }
      ],
      "retencao_tributos": {
        "base_calculo_retencao_previdencia": 0,
        "valor_base_calculo_irrf": 0,
        "valor_irrf": 0,
        "valor_retencao_previdencia": 0,
        "valor_retido_cofins": 0,
        "valor_retido_csll": 0,
        "valor_retido_pis": 0
      },
      "transporte": {
        "codigo_modalidade": 9,
        "retencao_icms": {
          "aliquota_retencao": 0,
          "cfop": "",
          "codigo_municipio": "",
          "uf": "",
          "valor_base_calculo": 0,
          "valor_retido": 0,
          "valor_servico": 0
        },
        "transportadora": {
          "cnpj_cpf": "",
          "endereco_completo": "",
          "inscricao_estadual": "",
          "municipio": "",
          "razao_social": "",
          "uf": ""
        },
        "veiculo": {
          "placa": "",
          "rntc": "",
          "uf": ""
        },
        "volume_transportado": [
          {
            "especie": "Cilindro",
            "marca": 0,
            "numeracao_volumes": 0,
            "peso_bruto": "450.780",
            "peso_liquido": "66.780",
            "quantidade_volumes": 1
          }
        ]
      }
    }
  }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfe"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 10990,
    <span class="s2">"status"</span>: <span class="s2">"processing"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="autoriza-o-de-xml-de-nfc-e">Autorização de XML de NFC-e</h2>

<p>Para autorizar o XML de uma NFC-e, é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations/{organization_id}/nfce/authorize</h6>
    </div>
</div>

<aside class="warning">
  Todos os campos de texto da NFC-e não aceitam caracteres acentuados como, por exemplo &ldquo;á&rdquo;, &ldquo;é&rdquo;, &ldquo;â&rdquo;, &ldquo;ã&rdquo; etc. Também não aceitam &ldquo;ç&rdquo;.
</aside>

<p>Os campos utilizados para esse tipo de emissão são os mesmos praticados na Emissão de NFC-e, com exceção do <strong>xml_assinado</strong>.</p>

<aside class="notice">
    <b>Atenção</b>: É importante que os campos <b>nfe_numero</b> e <b>serie</b> contidos em dados_gerais sejam os mesmos que foram utilizados para compôr o XML enviado no <b>xml_assinado</b>. Caso contrário, as respostas obtidas na SEFAZ não serão persistidos na NFC-e.
</aside>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce/authorize <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
    "nfce": {
      "xml_assinado": "&lt;enviNFe xmlns="http://www.portalfiscal.inf.br/nfe" versao="4.00"&gt;...&lt;/enviNFe&gt;",
      "cliente": {
        "cpf_cnpj": "46728754000163",
        "email": "teste@nexaas.com.br",
        "indicador_inscricao_estadual": 1,
        "inscricao_estadual": "407056228113",
        "inscricao_municipal": "",
        "inscricao_suframa": "",
        "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
        "pessoa_fisica_juridica": "company",
        "endereco": {
          "bairro": "MEDEIROS",
          "cep": "13212255",
          "codigo_municipio": "3525904",
          "codigo_pais": "1058",
          "complemento": "",
          "logradouro": "AV GUILHERME PORCARI",
          "nome_municipio": "JUNDIAI",
          "nome_pais": "BRASIL",
          "numero": "S N",
          "telefone": "99999999",
          "uf": "SP"
        }
      },
      "cobranca": {
        "duplicatas": [
          {
            "data_vencimento": "",
            "numero": "",
            "valor": ""
          }
        ],
        "fatura": {
          "numero_fatura": "",
          "valor_desconto": 0,
          "valor_liquido": 0,
          "valor_original": 0
        }
      },
      "dados_gerais": {
        "codigo_mun_ocorrencia": "3525904",
        "data_saida_entrada": "2018-09-28T17:07:35-03:00",
        "destino_operacao": "1",
        "finalidade_nfe": "1",
        "indicador_consumidor_final": "0",
        "indicador_presenca": "9",
        "natureza_operacao": "Venda merc. adq. rec. terc. efet. fora estab.",
        "tipo_operacao": "1",
        "uf": 35,
        "nfe_numero": 101,
        "serie": 1
      },
      "forma_de_pagamento": [
        {
          "tipo_de_pagamento": "01",
          "valor_do_pagamento": 50
        },
        {
          "tipo_de_integracao": "2",
          "tipo_de_pagamento": "03",
          "valor_do_pagamento": 8.97
        },
        {
          "bandeira_operadora": "02",
          "cnpj_credenciadora": "99999999999999",
          "numero_autorizacao_operacao": "99999999999999999999",
          "tipo_de_integracao": "1",
          "tipo_de_pagamento": "03",
          "valor_do_pagamento": 40
        }
      ],
      "informacoes_adicionais": {
        "informacoes_contribuinte": "",
        "informacoes_fisco": "Cliente: 112. Remessa: 000061074-0123"
      },
      "lista_autorizacao": [],
      "produtos": [
        {
          "cest": "",
          "cfop": 5104,
          "cnpj_fabricante_mercadoria": "99999999999999999",
          "codigo_beneficio_fiscal": "foo",
          "codigo_ean": "",
          "codigo_produto": "123456",
          "descricao": "NITROGENIO CIL 50L 10M3",
          "ean_unidade_trib": "",
          "informacoes_adicionais": "",
          "ncm": 28043000,
          "num_item_pedido": 1,
          "num_pedido": "S0100249134",
          "outras_despesas": 0,
          "producao_escala": "S",
          "quantidade_comercial": 6,
          "quantidade_tributaria": 6,
          "unidade_comercial": "M3",
          "unidade_tributaria": "M3",
          "valor_desconto": 0,
          "valor_frete": 0,
          "valor_seguro": 0,
          "valor_total_produto": "98.97",
          "valor_unitario_comercial": 16.49485,
          "valor_unitario_tributario": 16.49485,
          "tributacao": {
            "valor_aproximado_total": 269.64,
            "cofins": {
              "aliquota_cofins": "7.60",
              "aliquota_cofins_reais": 0,
              "aliquota_cofins_st_reais": 0,
              "aliquota_st": 0,
              "situacao_tributaria": "01",
              "valor_base_calculo": 989.69,
              "valor_base_calculo_st": 0,
              "valor_cofins": 75.2,
              "valor_cofins_st": 0
            },
            "icms": {
              "aliquota_consumidor_final": 0,
              "aliquota_fcp": 0,
              "aliquota_fcp_st": 0,
              "aliquota_fcp_st_retido": 0,
              "aliquota_icms": "18.00",
              "aliquota_icms_simples_nacional": 0,
              "aliquota_icms_st": 0,
              "aliquota_interestadual": 0,
              "aliquota_interna_interestadual": 0,
              "base_icmsst_retido": 0,
              "codigo_origem_produto": 3,
              "credito_icms_simples_nacional": 0,
              "modalidade_base_calculo": 3,
              "modalidade_base_calculo_st": "3",
              "motivo_desoneracao": "",
              "perc_diferimento": 0,
              "perc_fcp_interestadual": 0,
              "perc_mva_icms_st": 0,
              "perc_provisorio_interestadual": 0,
              "perc_reducao_base_calculo": 0,
              "perc_reducao_base_calculo_st": 0,
              "situacao_simples_nacional": 0,
              "situacao_tributaria": "00",
              "valor_base_calculo": 989.69,
              "valor_base_calculo_fcp": 0,
              "valor_base_calculo_fcp_st": 0,
              "valor_base_calculo_fcp_st_retido": 0,
              "valor_base_calculo_st": 0,
              "valor_base_calculo_uf_dest": 0,
              "valor_fcp": 0,
              "valor_fcp_interestadual": 0,
              "valor_fcp_st": 0,
              "valor_fcp_st_retido": 0,
              "valor_icms": 178.14,
              "valor_icms_desonerado": 0,
              "valor_icms_diferido": 0,
              "valor_icms_operacao": 0,
              "valor_icms_st": 0,
              "valor_icmsst_retido": 0,
              "valor_uf_destinatario_interestadual": 0,
              "valor_uf_rementente": 0,
              "valor_uf_remetente_interestadual": 0
            },
            "importacao": {
              "base_calculo_importacao": "",
              "valor_despesas_aduaneiras": "",
              "valor_imposto_importacao": "",
              "valor_iof": ""
            },
            "ipi": {
              "aliquota_ipi": "0.00",
              "cnpj_produtor": "",
              "codigo_enquadramento": 999,
              "codigo_selo_controle": 0,
              "quantidade_selo_controle": 0,
              "situacao_tributaria": "01",
              "valor_base_calculo": "989.69",
              "valor_ipi": "0.00",
              "valor_unidade": ""
            },
            "pis": {
              "aliquota_pis": 1.65,
              "aliquota_pis_reais": 0,
              "aliquota_pis_reais_st": 0,
              "aliquota_st": 0,
              "situacao_tributaria": "01",
              "valor_base_calculo": 989.69,
              "valor_base_calculo_st": 0,
              "valor_pis": 16.3,
              "valor_pis_st": 0
            }
          },
          "declaracao_importacao": [
            {
              "cnpj": "",
              "codigo_exportador": "",
              "data_desembaraco": "",
              "data_importacao": "",
              "documento_importacao": "",
              "forma_importacao": "",
              "local_desembaraco": "",
              "uf_adquirente": "",
              "uf_desembaraco": "",
              "valor_afrmm": "",
              "via_transporte": "",
              "adicoes": [
                {
                  "codigo_fabricante": "",
                  "numero_adicao": "",
                  "numero_drawback": "",
                  "numero_sequencial": "",
                  "valor_desconto": ""
                }
              ]
            }
          ]
        }
      ],
      "retencao_tributos": {
        "base_calculo_retencao_previdencia": 0,
        "valor_base_calculo_irrf": 0,
        "valor_irrf": 0,
        "valor_retencao_previdencia": 0,
        "valor_retido_cofins": 0,
        "valor_retido_csll": 0,
        "valor_retido_pis": 0
      },
      "transporte": {
        "codigo_modalidade": 9,
        "retencao_icms": {
          "aliquota_retencao": 0,
          "cfop": "",
          "codigo_municipio": "",
          "uf": "",
          "valor_base_calculo": 0,
          "valor_retido": 0,
          "valor_servico": 0
        },
        "transportadora": {
          "cnpj_cpf": "",
          "endereco_completo": "",
          "inscricao_estadual": "",
          "municipio": "",
          "razao_social": "",
          "uf": ""
        },
        "veiculo": {
          "placa": "",
          "rntc": "",
          "uf": ""
        },
        "volume_transportado": [
          {
            "especie": "Cilindro",
            "marca": 0,
            "numeracao_volumes": 0,
            "peso_bruto": "450.780",
            "peso_liquido": "66.780",
            "quantidade_volumes": 1
          }
        ]
      }
    }
  }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfce"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 10990,
    <span class="s2">"status"</span>: <span class="s2">"processing"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

          <h1 id="autoriza-o-de-xml-em-lote">Autorização de XML em lote</h1>

<h2 id="autoriza-o-de-xml-em-lote-de-nf-e">Autorização de XML em lote de NF-e</h2>

<p>Para autorizar o XML de um lote de NF-e, é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations/{organization_id}/nfe_batch/authorize</h6>
    </div>
</div>

<aside class="warning">
  Todos os campos de texto da NF-e não aceitam caracteres acentuados como, por exemplo &ldquo;á&rdquo;, &ldquo;é&rdquo;, &ldquo;â&rdquo;, &ldquo;ã&rdquo; etc. Também não aceitam &ldquo;ç&rdquo;.
</aside>

<p>Os campos utilizados para esse tipo de emissão são os mesmos praticados na Emissão de NF-e em lote, com exceção do <strong>xml_assinado</strong>.</p>

<aside class="notice">
    <b>Atenção</b>: É importante que os campos <b>nfe_numero</b> e <b>serie</b> contidos em dados_gerais de cada NF-e sejam os mesmos que foram utilizados para compôr o XML do lote enviado no <b>xml_assinado</b>. Caso contrário, as respostas obtidas na SEFAZ não serão persistidos na NF-e.
</aside>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe_batch/authorize <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
        "nfe_batch": {
          "lote": 1,
          "serie": 1,
          "sincronicidade": 0,
          "uf": 35,
          "xml_assinado": "&lt;enviNFe xmlns="http://www.portalfiscal.inf.br/nfe" versao="4.00"&gt;...&lt;/enviNFe&gt;",
          "nfes": [
            {
              "cliente": {
                "cpf_cnpj": "46728754000163",
                "email": "teste@nexaas.com.br",
                "indicador_inscricao_estadual": 1,
                "inscricao_estadual": "407056228113",
                "inscricao_municipal": "",
                "inscricao_suframa": "",
                "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                "pessoa_fisica_juridica": "company",
                "endereco": {
                  "bairro": "MEDEIROS",
                  "cep": "13212255",
                  "codigo_municipio": "3525904",
                  "codigo_pais": "1058",
                  "complemento": "",
                  "logradouro": "AV GUILHERME PORCARI",
                  "nome_municipio": "JUNDIAI",
                  "nome_pais": "BRASIL",
                  "numero": "S N",
                  "telefone": "99999999",
                  "uf": "SP"
                }
              },
              "cobranca": {
                "duplicatas": [
                  {
                    "data_vencimento": "",
                    "numero": "",
                    "valor": ""
                  }
                ],
                "fatura": {
                  "numero_fatura": "",
                  "valor_desconto": 0,
                  "valor_liquido": 0,
                  "valor_original": 0
                }
              },
              "dados_gerais": {
                "codigo_mun_ocorrencia": "3525904",
                "data_saida_entrada": "2018-09-28T17:07:35-03:00",
                "destino_operacao": "1",
                "finalidade_nfe": "1",
                "indicador_consumidor_final": "0",
                "indicador_presenca": "9",
                "natureza_operacao": "Venda merc. adq. rec. terc. efet. fora estab.",
                "tipo_operacao": "1",
                "uf": 35
              },
              "forma_de_pagamento": [
                {
                  "tipo_de_pagamento": "01",
                  "valor_do_pagamento": 50.0
                },
                {
                  "tipo_de_integracao": "2",
                  "tipo_de_pagamento": "03",
                  "valor_do_pagamento": 8.97
                },
                {
                  "bandeira_operadora": "02",
                  "cnpj_credenciadora": "99999999999999",
                  "numero_autorizacao_operacao": "99999999999999999999",
                  "tipo_de_integracao": "1",
                  "tipo_de_pagamento": "03",
                  "valor_do_pagamento": 40.0
                }
              ],
              "informacoes_adicionais": {
                "informacoes_contribuinte": "",
                "informacoes_fisco": "Cliente: 112. Remessa: 000061074-0123"
              },
              "lista_autorizacao": [],
              "produtos": [
                {
                  "cest": "",
                  "cfop": 5104,
                  "cnpj_fabricante_mercadoria": "99999999999999999",
                  "codigo_beneficio_fiscal": "foo",
                  "codigo_ean": "",
                  "codigo_produto": "123456",
                  "descricao": "NITROGENIO CIL 50L 10M3",
                  "ean_unidade_trib": "",
                  "informacoes_adicionais": "",
                  "ncm": 28043000,
                  "num_item_pedido": 1,
                  "num_pedido": "S0100249134",
                  "outras_despesas": 0.0,
                  "producao_escala": "S",
                  "quantidade_comercial": 6,
                  "quantidade_tributaria": 6,
                  "unidade_comercial": "M3",
                  "unidade_tributaria": "M3",
                  "valor_desconto": 0.0,
                  "valor_frete": 0.0,
                  "valor_seguro": 0.0,
                  "valor_total_produto": "98.97",
                  "valor_unitario_comercial": 16.49485,
                  "valor_unitario_tributario": 16.49485,
                  "tributacao": {
                    "valor_aproximado_total": 269.64,
                    "cofins": {
                      "aliquota_cofins": "7.60",
                      "aliquota_cofins_reais": 0,
                      "aliquota_cofins_st_reais": 0,
                      "aliquota_st": 0.0,
                      "situacao_tributaria": "01",
                      "valor_base_calculo": 989.69,
                      "valor_base_calculo_st": 0.0,
                      "valor_cofins": 75.2,
                      "valor_cofins_st": 0.0
                    },
                    "icms": {
                      "aliquota_consumidor_final": 0,
                      "aliquota_fcp": 0,
                      "aliquota_fcp_st": 0,
                      "aliquota_fcp_st_retido": 0,
                      "aliquota_icms": "18.00",
                      "aliquota_icms_simples_nacional": 0,
                      "aliquota_icms_st": 0.0,
                      "aliquota_interestadual": 0.0,
                      "aliquota_interna_interestadual": 0.0,
                      "base_icmsst_retido": 0,
                      "codigo_origem_produto": 3,
                      "credito_icms_simples_nacional": 0,
                      "modalidade_base_calculo": 3,
                      "modalidade_base_calculo_st": "3",
                      "motivo_desoneracao": "",
                      "perc_diferimento": 0.0,
                      "perc_fcp_interestadual": 0.0,
                      "perc_mva_icms_st": 0.0,
                      "perc_provisorio_interestadual": 0.0,
                      "perc_reducao_base_calculo": 0.0,
                      "perc_reducao_base_calculo_st": 0.0,
                      "situacao_simples_nacional": 0,
                      "situacao_tributaria": "00",
                      "valor_base_calculo": 989.69,
                      "valor_base_calculo_fcp": 0,
                      "valor_base_calculo_fcp_st": 0.0,
                      "valor_base_calculo_fcp_st_retido": 0.0,
                      "valor_base_calculo_st": 0.0,
                      "valor_base_calculo_uf_dest": 0.0,
                      "valor_fcp": 0.0,
                      "valor_fcp_interestadual": 0.0,
                      "valor_fcp_st": 0.0,
                      "valor_fcp_st_retido": 0.0,
                      "valor_icms": 178.14,
                      "valor_icms_desonerado": 0.0,
                      "valor_icms_diferido": 0.0,
                      "valor_icms_operacao": 0.0,
                      "valor_icms_st": 0.0,
                      "valor_icmsst_retido": 0,
                      "valor_uf_destinatario_interestadual": 0.0,
                      "valor_uf_rementente": 0.0,
                      "valor_uf_remetente_interestadual": 0.0
                    },
                    "importacao": {
                      "base_calculo_importacao": "",
                      "valor_despesas_aduaneiras": "",
                      "valor_imposto_importacao": "",
                      "valor_iof": ""
                    },
                    "ipi": {
                      "aliquota_ipi": "0.00",
                      "cnpj_produtor": "",
                      "codigo_enquadramento": 999,
                      "codigo_selo_controle": 0,
                      "quantidade_selo_controle": 0,
                      "situacao_tributaria": "01",
                      "valor_base_calculo": "989.69",
                      "valor_ipi": "0.00",
                      "valor_unidade": ""
                    },
                    "pis": {
                      "aliquota_pis": 1.65,
                      "aliquota_pis_reais": 0,
                      "aliquota_pis_reais_st": 0,
                      "aliquota_st": 0.0,
                      "situacao_tributaria": "01",
                      "valor_base_calculo": 989.69,
                      "valor_base_calculo_st": 0.0,
                      "valor_pis": 16.3,
                      "valor_pis_st": 0.0
                    }
                  },
                  "declaracao_importacao": [
                    {
                      "cnpj": "",
                      "codigo_exportador": "",
                      "data_desembaraco": "",
                      "data_importacao": "",
                      "documento_importacao": "",
                      "forma_importacao": "",
                      "local_desembaraco": "",
                      "uf_adquirente": "",
                      "uf_desembaraco": "",
                      "valor_afrmm": "",
                      "via_transporte": "",
                      "adicoes": [
                        {
                          "codigo_fabricante": "",
                          "numero_adicao": "",
                          "numero_drawback": "",
                          "numero_sequencial": "",
                          "valor_desconto": ""
                        }
                      ]
                    }
                  ]
                }
              ],
              "retencao_tributos": {
                "base_calculo_retencao_previdencia": 0.0,
                "valor_base_calculo_irrf": 0.0,
                "valor_irrf": 0.0,
                "valor_retencao_previdencia": 0.0,
                "valor_retido_cofins": 0.0,
                "valor_retido_csll": 0.0,
                "valor_retido_pis": 0.0
              },
              "transporte": {
                "codigo_modalidade": 9,
                "retencao_icms": {
                  "aliquota_retencao": 0.0,
                  "cfop": "",
                  "codigo_municipio": "",
                  "uf": "",
                  "valor_base_calculo": 0.0,
                  "valor_retido": 0.0,
                  "valor_servico": 0.0
                },
                "transportadora": {
                  "cnpj_cpf": "",
                  "endereco_completo": "",
                  "inscricao_estadual": "",
                  "municipio": "",
                  "razao_social": "",
                  "uf": ""
                },
                "veiculo": {
                  "placa": "",
                  "rntc": "",
                  "uf": ""
                },
                "volume_transportado": [
                  {
                    "especie": "Cilindro",
                    "marca": 0,
                    "numeracao_volumes": 0,
                    "peso_bruto": "450.780",
                    "peso_liquido": "66.780",
                    "quantidade_volumes": 1
                  }
                ]
              }
            }
          ]
        }
      }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfe_batch"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 1099,
    <span class="s2">"key"</span>: null,
    <span class="s2">"nfes"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: 10990,
        <span class="s2">"status"</span>: <span class="s2">"processing"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="autoriza-o-de-xml-em-lote-de-nfc-e">Autorização de XML em lote de NFC-e</h2>

<p>Para autorizar o XML de um lote de NFC-e, é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations/{organization_id}/nfce_batch/authorize</h6>
    </div>
</div>

<aside class="warning">
  Todos os campos de texto da NFC-e não aceitam caracteres acentuados como, por exemplo &ldquo;á&rdquo;, &ldquo;é&rdquo;, &ldquo;â&rdquo;, &ldquo;ã&rdquo; etc. Também não aceitam &ldquo;ç&rdquo;.
</aside>

<p>Os campos utilizados para esse tipo de emissão são os mesmos praticados na Emissão de NFC-e em lote, com exceção do <strong>xml_assinado</strong>.</p>

<aside class="notice">
    <b>Atenção</b>: É importante que os campos <b>nfe_numero</b> e <b>serie</b> contidos em dados_gerais de cada NFC-e sejam os mesmos que foram utilizados para compôr o XML do lote enviado no <b>xml_assinado</b>. Caso contrário, as respostas obtidas na SEFAZ não serão persistidos na NFC-e.
</aside>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce_batch/authorize <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
        "nfce_batch": {
          "lote": 1,
          "serie": 1,
          "sincronicidade": 0,
          "uf": 35,
          "xml_assinado": "&lt;enviNFe xmlns="http://www.portalfiscal.inf.br/nfe" versao="4.00"&gt;...&lt;/enviNFe&gt;",
          "nfces": [
            {
              "cliente": {
                "cpf_cnpj": "46728754000163",
                "email": "teste@nexaas.com.br",
                "indicador_inscricao_estadual": 1,
                "inscricao_estadual": "407056228113",
                "inscricao_municipal": "",
                "inscricao_suframa": "",
                "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                "pessoa_fisica_juridica": "company",
                "endereco": {
                  "bairro": "MEDEIROS",
                  "cep": "13212255",
                  "codigo_municipio": "3525904",
                  "codigo_pais": "1058",
                  "complemento": "",
                  "logradouro": "AV GUILHERME PORCARI",
                  "nome_municipio": "JUNDIAI",
                  "nome_pais": "BRASIL",
                  "numero": "S N",
                  "telefone": "99999999",
                  "uf": "SP"
                }
              },
              "cobranca": {
                "duplicatas": [
                  {
                    "data_vencimento": "",
                    "numero": "",
                    "valor": ""
                  }
                ],
                "fatura": {
                  "numero_fatura": "",
                  "valor_desconto": 0,
                  "valor_liquido": 0,
                  "valor_original": 0
                }
              },
              "dados_gerais": {
                "codigo_mun_ocorrencia": "3525904",
                "data_saida_entrada": "2018-09-28T17:07:35-03:00",
                "destino_operacao": "1",
                "finalidade_nfe": "1",
                "indicador_consumidor_final": "0",
                "indicador_presenca": "9",
                "natureza_operacao": "Venda merc. adq. rec. terc. efet. fora estab.",
                "tipo_operacao": "1",
                "uf": 35
              },
              "forma_de_pagamento": [
                {
                  "tipo_de_pagamento": "01",
                  "valor_do_pagamento": 50.0
                },
                {
                  "tipo_de_integracao": "2",
                  "tipo_de_pagamento": "03",
                  "valor_do_pagamento": 8.97
                },
                {
                  "bandeira_operadora": "02",
                  "cnpj_credenciadora": "99999999999999",
                  "numero_autorizacao_operacao": "99999999999999999999",
                  "tipo_de_integracao": "1",
                  "tipo_de_pagamento": "03",
                  "valor_do_pagamento": 40.0
                }
              ],
              "informacoes_adicionais": {
                "informacoes_contribuinte": "",
                "informacoes_fisco": "Cliente: 112. Remessa: 000061074-0123"
              },
              "lista_autorizacao": [],
              "produtos": [
                {
                  "cest": "",
                  "cfop": 5104,
                  "cnpj_fabricante_mercadoria": "99999999999999999",
                  "codigo_beneficio_fiscal": "foo",
                  "codigo_ean": "",
                  "codigo_produto": "123456",
                  "descricao": "NITROGENIO CIL 50L 10M3",
                  "ean_unidade_trib": "",
                  "informacoes_adicionais": "",
                  "ncm": 28043000,
                  "num_item_pedido": 1,
                  "num_pedido": "S0100249134",
                  "outras_despesas": 0.0,
                  "producao_escala": "S",
                  "quantidade_comercial": 6,
                  "quantidade_tributaria": 6,
                  "unidade_comercial": "M3",
                  "unidade_tributaria": "M3",
                  "valor_desconto": 0.0,
                  "valor_frete": 0.0,
                  "valor_seguro": 0.0,
                  "valor_total_produto": "98.97",
                  "valor_unitario_comercial": 16.49485,
                  "valor_unitario_tributario": 16.49485,
                  "tributacao": {
                    "valor_aproximado_total": 269.64,
                    "cofins": {
                      "aliquota_cofins": "7.60",
                      "aliquota_cofins_reais": 0,
                      "aliquota_cofins_st_reais": 0,
                      "aliquota_st": 0.0,
                      "situacao_tributaria": "01",
                      "valor_base_calculo": 989.69,
                      "valor_base_calculo_st": 0.0,
                      "valor_cofins": 75.2,
                      "valor_cofins_st": 0.0
                    },
                    "icms": {
                      "aliquota_consumidor_final": 0,
                      "aliquota_fcp": 0,
                      "aliquota_fcp_st": 0,
                      "aliquota_fcp_st_retido": 0,
                      "aliquota_icms": "18.00",
                      "aliquota_icms_simples_nacional": 0,
                      "aliquota_icms_st": 0.0,
                      "aliquota_interestadual": 0.0,
                      "aliquota_interna_interestadual": 0.0,
                      "base_icmsst_retido": 0,
                      "codigo_origem_produto": 3,
                      "credito_icms_simples_nacional": 0,
                      "modalidade_base_calculo": 3,
                      "modalidade_base_calculo_st": "3",
                      "motivo_desoneracao": "",
                      "perc_diferimento": 0.0,
                      "perc_fcp_interestadual": 0.0,
                      "perc_mva_icms_st": 0.0,
                      "perc_provisorio_interestadual": 0.0,
                      "perc_reducao_base_calculo": 0.0,
                      "perc_reducao_base_calculo_st": 0.0,
                      "situacao_simples_nacional": 0,
                      "situacao_tributaria": "00",
                      "valor_base_calculo": 989.69,
                      "valor_base_calculo_fcp": 0,
                      "valor_base_calculo_fcp_st": 0.0,
                      "valor_base_calculo_fcp_st_retido": 0.0,
                      "valor_base_calculo_st": 0.0,
                      "valor_base_calculo_uf_dest": 0.0,
                      "valor_fcp": 0.0,
                      "valor_fcp_interestadual": 0.0,
                      "valor_fcp_st": 0.0,
                      "valor_fcp_st_retido": 0.0,
                      "valor_icms": 178.14,
                      "valor_icms_desonerado": 0.0,
                      "valor_icms_diferido": 0.0,
                      "valor_icms_operacao": 0.0,
                      "valor_icms_st": 0.0,
                      "valor_icmsst_retido": 0,
                      "valor_uf_destinatario_interestadual": 0.0,
                      "valor_uf_rementente": 0.0,
                      "valor_uf_remetente_interestadual": 0.0
                    },
                    "importacao": {
                      "base_calculo_importacao": "",
                      "valor_despesas_aduaneiras": "",
                      "valor_imposto_importacao": "",
                      "valor_iof": ""
                    },
                    "ipi": {
                      "aliquota_ipi": "0.00",
                      "cnpj_produtor": "",
                      "codigo_enquadramento": 999,
                      "codigo_selo_controle": 0,
                      "quantidade_selo_controle": 0,
                      "situacao_tributaria": "01",
                      "valor_base_calculo": "989.69",
                      "valor_ipi": "0.00",
                      "valor_unidade": ""
                    },
                    "pis": {
                      "aliquota_pis": 1.65,
                      "aliquota_pis_reais": 0,
                      "aliquota_pis_reais_st": 0,
                      "aliquota_st": 0.0,
                      "situacao_tributaria": "01",
                      "valor_base_calculo": 989.69,
                      "valor_base_calculo_st": 0.0,
                      "valor_pis": 16.3,
                      "valor_pis_st": 0.0
                    }
                  },
                  "declaracao_importacao": [
                    {
                      "cnpj": "",
                      "codigo_exportador": "",
                      "data_desembaraco": "",
                      "data_importacao": "",
                      "documento_importacao": "",
                      "forma_importacao": "",
                      "local_desembaraco": "",
                      "uf_adquirente": "",
                      "uf_desembaraco": "",
                      "valor_afrmm": "",
                      "via_transporte": "",
                      "adicoes": [
                        {
                          "codigo_fabricante": "",
                          "numero_adicao": "",
                          "numero_drawback": "",
                          "numero_sequencial": "",
                          "valor_desconto": ""
                        }
                      ]
                    }
                  ]
                }
              ],
              "retencao_tributos": {
                "base_calculo_retencao_previdencia": 0.0,
                "valor_base_calculo_irrf": 0.0,
                "valor_irrf": 0.0,
                "valor_retencao_previdencia": 0.0,
                "valor_retido_cofins": 0.0,
                "valor_retido_csll": 0.0,
                "valor_retido_pis": 0.0
              },
              "transporte": {
                "codigo_modalidade": 9,
                "retencao_icms": {
                  "aliquota_retencao": 0.0,
                  "cfop": "",
                  "codigo_municipio": "",
                  "uf": "",
                  "valor_base_calculo": 0.0,
                  "valor_retido": 0.0,
                  "valor_servico": 0.0
                },
                "transportadora": {
                  "cnpj_cpf": "",
                  "endereco_completo": "",
                  "inscricao_estadual": "",
                  "municipio": "",
                  "razao_social": "",
                  "uf": ""
                },
                "veiculo": {
                  "placa": "",
                  "rntc": "",
                  "uf": ""
                },
                "volume_transportado": [
                  {
                    "especie": "Cilindro",
                    "marca": 0,
                    "numeracao_volumes": 0,
                    "peso_bruto": "450.780",
                    "peso_liquido": "66.780",
                    "quantidade_volumes": 1
                  }
                ]
              }
            }
          ]
        }
      }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfce_batch"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 1099,
    <span class="s2">"key"</span>: null,
    <span class="s2">"nfces"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: 10990,
        <span class="s2">"status"</span>: <span class="s2">"processing"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

          <h1 id="campos-da-emiss-o-de-nota">Campos da emissão de nota</h1>

<h2 id="emiss-o-s-ncrona">Emissão síncrona</h2>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>engine_de_calculo</td>
<td>-</td>
<td>Não</td>
<td>Texto</td>
<td>-</td>
<td>Campo interno do Emites para indicar a engine de cálculo a ser utilizada caso habilitada</td>
</tr>
<tr>
<td><strong>nfe</strong> ou <strong>nfce</strong></td>
<td>NF-e</td>
<td>Sim</td>
<td>Objeto</td>
<td></td>
<td>Conjunto de informações de apenas um documento.</td>
</tr>
</tbody></table>

<h2 id="emiss-o-em-lote">Emissão em lote</h2>

<p>A emissão em lote gera um pacote de transmissão de diversas notas fiscais eletrônicas, que são processadas em conjunto. Isto permite maior agilidade para emissão de um grande volume de notas. Cada lote pode conter até 50 NF-e ou NFC-e. Os atributos do lote da nota são:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>lote</td>
<td>idLote</td>
<td>Sim</td>
<td>Numérico</td>
<td>De 1 a 15 dígitos</td>
<td>Identificador de controle do envio do lote. Deve ser um número sequencial e autoincremental, sendo um identificador único do lote.</td>
</tr>
<tr>
<td>sincronicidade</td>
<td>indSinc</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígitos</td>
<td>0 = Não<br>1 = Empresa solicita processamento síncrono do Lote de NF-e (sem a geração de Recibo para consulta futura)<br>O processamento síncrono do Lote corresponde a entrega da resposta do processamento das NF-e do Lote, sem a geração de um Recibo de Lote para consulta futura. A resposta de forma síncrona pela SEFAZ Autorizadora só ocorrerá se:<br>- a empresa solicitar e constar unicamente uma NF-e</td>
</tr>
<tr>
<td>uf</td>
<td>-</td>
<td>Sim</td>
<td>Numérico</td>
<td>2 dígitos</td>
<td>Campo interno do Emites para indicar o estado de emissão da NF-e/NFC-e e direcionar ao servidor da SEFAZ correspondente</td>
</tr>
<tr>
<td>serie</td>
<td>serie</td>
<td>Sim</td>
<td>Numérico</td>
<td>Até 3 dígitos</td>
<td>Série do Lote de Documentos Fiscais</td>
</tr>
<tr>
<td>engine_de_calculo</td>
<td>-</td>
<td>Não</td>
<td>Texto</td>
<td>-</td>
<td>Campo interno do Emites para indicar a engine de cálculo a ser utilizada caso habilitada</td>
</tr>
<tr>
<td><strong>nfes</strong> ou <strong>nfces</strong></td>
<td>NF-e</td>
<td>Sim</td>
<td>Array</td>
<td>Até 50 itens</td>
<td>Conjunto de documentos fiscais transmitidos, máximo de 50 documentos.</td>
</tr>
</tbody></table>

<aside class="notice">
  Os requisítos descritos abaixo são para o envio de documentos individuais e lotes.
</aside>

<h2 id="dados_gerais-xml-ide">dados_gerais (XML: ide)</h2>

<p>Contém informações gerais e metadados sobre a NF-e. Seus atributos são:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>chave_de_acesso</td>
<td>chNFe</td>
<td>Não</td>
<td>Numérico</td>
<td>44 dígitos</td>
<td>Número da chave de acesso do Documento Fiscal<br> Se não informado, a chave de acesso será gerada internamente pelo Emites</td>
</tr>
<tr>
<td>nfe_numero</td>
<td>nNF</td>
<td>Não</td>
<td>Numérico</td>
<td>1 a 9 dígitos</td>
<td>Número do Documento Fiscal<br> Se não informado, a numeração será gerada a partir da sequência da série cadastrada.</td>
</tr>
<tr>
<td>uf</td>
<td>cUF</td>
<td>Sim</td>
<td>Numérico</td>
<td>2 dígitos</td>
<td>Código da UF do emitente do Documento Fiscal.</td>
</tr>
<tr>
<td>codigo_mun_ocorrencia</td>
<td>cMunFG</td>
<td>Sim</td>
<td>Numérico</td>
<td>7 dígitos</td>
<td>Código do Município de Ocorrência do Fato Gerador.</td>
</tr>
<tr>
<td>data_saida_entrada</td>
<td>dhSaiEnt</td>
<td>Não</td>
<td>Data</td>
<td>aaaa-mm-ddThh:mm:ss-03:00</td>
<td>Data e hora de Saída ou da Entrada da Mercadoria/Produto.</td>
</tr>
<tr>
<td>tipo_operacao</td>
<td>tpNF</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>Tipo de Operação, sendo 0 = Entrada e 1 = Saída.</td>
</tr>
<tr>
<td>destino_operacao</td>
<td>idDest</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>Identificador de Local de destino da operação (1 - Interna; 2 - Interestadual; 3 - Exterior).</td>
</tr>
<tr>
<td>natureza_operacao</td>
<td>natOp</td>
<td>Sim</td>
<td>Texto  e/ou número</td>
<td>1 a 60 caracteres</td>
<td>Informar a natureza da operação de que decorrer a saída ou a entrada, tais como venda, compra, transferência, devolução, importação, consignação, remessa (para fins de demonstração, de industrialização ou outra), conforme previsto na alínea &lsquo;i&rsquo;, inciso I, do art. 19 do Convênio s/nº de 15 de dezembro de 1970.</td>
</tr>
<tr>
<td>codigo_natureza_operacao</td>
<td>-</td>
<td>Condicional</td>
<td>Texto</td>
<td>3 caracteres</td>
<td><strong>* Quando existir engine de cálculo o campo será obrigatório.</strong><br><br>Código da natureza da operação utilizado das Regras de Tributação<br>001 = Compra para Comercialização;<br>002 = Venda de Mercadoria;<br>005 = Devolução de Compra de Mercadoria;<br>006 = Remessa para Conserto;<br>012 = Devolução de Venda de Mercadoria;</td>
</tr>
<tr>
<td>indicador_consumidor_final</td>
<td>indFinal</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>Indica se a NF-e foi emitida para consumidor final, sendo 0 = Não e 1 = Sim.</td>
</tr>
<tr>
<td>indicador_presenca</td>
<td>indPres</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>Indicador de presença do comprador no estabelecimento comercial no momento da operação. Seleção entre:<br>0 = Não se aplica (por exemplo, Nota Fiscal complementar ou de ajuste);<br>1 = Operação presencial;<br>2 = Operação não presencial, pela Internet;<br>3   = Operação não presencial, Teleatendimento;<br>4 = NFC-e em operação com entrega a domicílio;<br>9 = Operação não presencial, outros.<br></td>
</tr>
<tr>
<td>finalidade_nfe</td>
<td>finNFe</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>Finalidade de emissão da NF-e. Seleção entre:   1 - NF-e normal   2 - NF-e complementar   3 - NF-e de ajuste</td>
</tr>
<tr>
<td>csc</td>
<td>-</td>
<td>Não</td>
<td>Numérico</td>
<td>6 dígitos</td>
<td>Identificador do CSC <br><strong>* Somente para NFC-e. Não obrigatório caso seja informado no cadastro da organização.</strong></td>
</tr>
<tr>
<td>id_token</td>
<td>-</td>
<td>Não</td>
<td>Texto e/ou número</td>
<td>36 caracteres</td>
<td>Código de Segurança do Contribuinte (antigo Token)<br><strong>* Somente para NFC-e. Não obrigatório caso seja informado no cadastro da organização.</strong></td>
</tr>
<tr>
<td>tp_emis</td>
<td>tpEmis</td>
<td>Sim quando Contingência</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>4=EPEC; <br>6= SVC-AN; <br>7=SVC-RS. <br><br>(Default: 1=Normal)</td>
</tr>
<tr>
<td>just_contingencia</td>
<td>xJust</td>
<td>Sim quando Contingência</td>
<td>Texto e/ou número</td>
<td>15 a 256 caracteres</td>
<td>Justificativa da entrada em contingência</td>
</tr>
<tr>
<td>data_hora_contingencia</td>
<td>dhCont</td>
<td>Sim quando Contingência</td>
<td>Data</td>
<td>aaaa-mm-ddThh:mm:ss-03:00</td>
<td>Data e Hora da entrada em contingência</td>
</tr>
</tbody></table>

<h2 id="cliente-xml-dest">cliente (XML: dest)</h2>

<p>Contém informações sobre o destinatário da aquisição dos produtos do emitente (nota de saída) ou venda dos produtos para o emitente (nota de entrada). Seus atributos são:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>cpf_cnpj</td>
<td>CPF<br/><br/>CNPJ<br/><br/>idEstrangeiro</td>
<td>Sim</td>
<td>Numérico</td>
<td>11 dígitos<br/><br/>14 dígitos<br/><br/>5 a 20 dígitos</td>
<td>CPF ou CNPJ do destinatário, somente números. </br></br></br></br><strong>OBS:</strong> No caso de operação com o exterior, ou para comprador estrangeiro informar o número do passaporte ou outro documento legal para identificar pessoa estrangeira.</td>
</tr>
<tr>
<td>nome</td>
<td>xNome</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td>Razão social ou nome do destinatário</td>
</tr>
<tr>
<td>pessoa_fisica_juridica</td>
<td>-</td>
<td>Sim</td>
<td>Texto</td>
<td>-</td>
<td>Campo de controle do Emites para indicar se o destinatário é pessoa física (“person”) / jurídica (“company”) / estrangeiro (&ldquo;foreign&rdquo;).</td>
</tr>
<tr>
<td>inscricao_estadual</td>
<td>IE</td>
<td>Não</td>
<td>Numérico</td>
<td>Até 14 dígitos</td>
<td>Informar somente os algarismos, sem ponto, hífen, barra, etc.</td>
</tr>
<tr>
<td>inscricao_suframa</td>
<td>ISUF</td>
<td>Não</td>
<td>Numérico</td>
<td>De 8 a 9 dígitos</td>
<td>Obrigatório nas operações que se beneficiam de incentivos fiscais existentes nas áreas sob controle da SUFRAMA. A omissão desta informação impede o processamento da operação pelo Sistema de Mercadoria Nacional da SUFRAMA e a liberação da Declaração de Ingresso, prejudicando a comprovação do ingresso / internamento da mercadoria nestas áreas.</td>
</tr>
<tr>
<td>inscricao_municipal</td>
<td>IM</td>
<td>Não</td>
<td>Texto</td>
<td>Até 15 caracteres</td>
<td></td>
</tr>
<tr>
<td>indicador_inscricao_estadual</td>
<td>indIEDest</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>Indica se o destinatário é contribuinte do ICMS. Seleção entre:<br>1 = Contribuinte ICMS (informar a IE do destinatário);<br> 2  = Contribuinte isento de Inscrição no cadastro de Contribuintes do ICMS;<br>9 = Não Contribuinte, que pode ou não possuir Inscrição Estadual no Cadastro de Contribuintes do ICMS.<br><strong>Para NFC-e esse campo sempre terá o valor 9, por isso pode ser ignorado.<strong></td>
</tr>
<tr>
<td>email</td>
<td>email</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>regime_tributario_diferenciado</td>
<td>-</td>
<td>Não</td>
<td>Texto</td>
<td>De 3 a 4 caracteres</td>
<td>Trata-se de um atributo específico para uso do engine de cálculo TaxRules da TaxWeb. <br>Preencher se a organização não tiver nenhum regime tributário diferenciado. <br><strong>Valores válidos: LFEM, LFDES e ISENLF.</strong><br><br><i>É importante que o regime tributário diferenciado (emitente) também esteja configurado na organização.</i></td>
</tr>
</tbody></table>

<h3 id="endereco-xml-enderdest">endereco (XML: enderDest)</h3>

<p>Grupo de informações relacionadas ao endereço do destinatário. Seus atributos são:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>logradouro</td>
<td>xLgr</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>numero</td>
<td>nro</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>complemento</td>
<td>xCpl</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>bairro</td>
<td>xBairro</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>codigo_municipio</td>
<td>cMun</td>
<td>Sim</td>
<td>Numérico</td>
<td>7 dígitos</td>
<td></td>
</tr>
<tr>
<td>nome_municipio</td>
<td>xMun</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>cep</td>
<td>CEP</td>
<td>Sim</td>
<td>Numérico</td>
<td>8 dígitos</td>
<td></td>
</tr>
<tr>
<td>uf</td>
<td>UF</td>
<td>Sim</td>
<td>Texto</td>
<td>2 caracteres</td>
<td></td>
</tr>
<tr>
<td>codigo_pais</td>
<td>cPais</td>
<td>Condicional</td>
<td>Numérico</td>
<td>4 dígitos</td>
<td>Condicional em razão do desejo do contribuinte ou do valor máximo do documento, conforme cada UF</td>
</tr>
<tr>
<td>nome_pais</td>
<td>xPais</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>telefone</td>
<td>fone</td>
<td>Não</td>
<td>Numérico</td>
<td>De 6 a 14 carateres</td>
<td></td>
</tr>
</tbody></table>

<h2 id="retirada-xml-retirada">retirada (XML: retirada)</h2>

<p>Grupo de informações relacionadas aos campos para complementação das informações de identificação do estabelecimento:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>cpf_cnpj</td>
<td>CPF<br/><br/>CNPJ<br/></td>
<td>Sim</td>
<td>Numérico</td>
<td>11 dígitos<br/><br/>14 dígitos<br/></td>
<td>CPF ou CNPJ do destinatário, somente números.</td>
</tr>
<tr>
<td>razao_social</td>
<td>xNome</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td>Nome (pessoa física) ou Razão Social (Pessoa Jurídica).</td>
</tr>
<tr>
<td>email</td>
<td>email</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>inscricao_estadual</td>
<td>IE</td>
<td>Não</td>
<td>Texto e/ou número</td>
<td>De 2 a 14 caracteres</td>
<td></td>
</tr>
</tbody></table>

<h3 id="endereco-xml-n-a">endereco (XML: N/A)</h3>

<p>Grupo de informações relacionadas ao endereço do local de retirada:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>logradouro</td>
<td>xLgr</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>numero</td>
<td>nro</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>complemento</td>
<td>xCpl</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>bairro</td>
<td>xBairro</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>codigo_municipio</td>
<td>cMun</td>
<td>Sim</td>
<td>Numérico</td>
<td>7 dígitos</td>
<td></td>
</tr>
<tr>
<td>nome_municipio</td>
<td>xMun</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>uf</td>
<td>UF</td>
<td>Sim</td>
<td>Texto</td>
<td>2 caracteres</td>
<td></td>
</tr>
<tr>
<td>cep</td>
<td>CEP</td>
<td>Sim</td>
<td>Numérico</td>
<td>8 dígitos</td>
<td></td>
</tr>
<tr>
<td>codigo_pais</td>
<td>cPais</td>
<td>Não</td>
<td>Numérico</td>
<td>4 dígitos</td>
<td></td>
</tr>
<tr>
<td>nome_pais</td>
<td>xPais</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>telefone</td>
<td>fone</td>
<td>Não</td>
<td>Numérico</td>
<td>De 6 a 14 carateres</td>
<td></td>
</tr>
</tbody></table>

<h2 id="entrega-xml-entrega">entrega (XML: entrega)</h2>

<p>Grupo de informações relacionadas aos campos para complementação das informações de identificação do estabelecimento:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>cpf_cnpj</td>
<td>CPF<br/><br/>CNPJ<br/></td>
<td>Sim</td>
<td>Numérico</td>
<td>11 dígitos<br/><br/>14 dígitos<br/></td>
<td>CPF ou CNPJ do destinatário, somente números.</td>
</tr>
<tr>
<td>razao_social</td>
<td>xNome</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td>Nome (pessoa física) ou Razão Social (Pessoa Jurídica).</td>
</tr>
<tr>
<td>email</td>
<td>email</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>inscricao_estadual</td>
<td>IE</td>
<td>Não</td>
<td>Texto e/ou número</td>
<td>De 2 a 14 caracteres</td>
<td></td>
</tr>
</tbody></table>

<h3 id="endereco-xml-n-a">endereco (XML: N/A)</h3>

<p>Grupo de informações relacionadas ao endereço do local da entrega:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>logradouro</td>
<td>xLgr</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>numero</td>
<td>nro</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>complemento</td>
<td>xCpl</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>bairro</td>
<td>xBairro</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>codigo_municipio</td>
<td>cMun</td>
<td>Sim</td>
<td>Numérico</td>
<td>7 dígitos</td>
<td></td>
</tr>
<tr>
<td>nome_municipio</td>
<td>xMun</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>uf</td>
<td>UF</td>
<td>Sim</td>
<td>Texto</td>
<td>2 caracteres</td>
<td></td>
</tr>
<tr>
<td>cep</td>
<td>CEP</td>
<td>Sim</td>
<td>Numérico</td>
<td>8 dígitos</td>
<td></td>
</tr>
<tr>
<td>codigo_pais</td>
<td>cPais</td>
<td>Não</td>
<td>Numérico</td>
<td>4 dígitos</td>
<td></td>
</tr>
<tr>
<td>nome_pais</td>
<td>xPais</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>telefone</td>
<td>fone</td>
<td>Não</td>
<td>Numérico</td>
<td>De 6 a 14 carateres</td>
<td></td>
</tr>
</tbody></table>

<h2 id="lista_autorizacao-xml-autxml">lista_autorizacao (XML: autXML)</h2>

<p>Conjunto de pessoas ou empresas autorizadas a obter o XML. Seus atributos são:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>Número do CNPJ ou CPF</td>
<td>CNPJ</td>
<td>Sim</td>
<td>Numérico</td>
<td>14 dígitos</td>
<td>Deve ser informado o CNPJ ou CPF</td>
</tr>
<tr>
<td></td>
<td>CPF</td>
<td>Sim</td>
<td>Numérico</td>
<td>11 dígitos</td>
<td></td>
</tr>
</tbody></table>

<h2 id="produto-xml-prod">produto (XML: prod)</h2>

<p>Contém informações sobre os produtos contidos na NF-e. No XML, o nó  prod  é subitem do nó  det  e pode conter uma ou mais ocorrência. Seus atributos são:</p>

<aside class="notice">
  Campos decimais devem ser separados por ponto
</aside>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>codigo_produto</td>
<td>cProd</td>
<td>Sim</td>
<td>Texto e/ou número</td>
<td>Até 60 caracteres</td>
<td>Codificação própria da empresa. Preencher com CFOP, caso se trate de itens não relacionados com mercadorias/produtos e se o contribuinte não possuir codificação própria. Caso preenchido com CFOP, utilizar o formato &ldquo;CFOP9999&rdquo;.</td>
</tr>
<tr>
<td>codigo_ean</td>
<td>cEAN</td>
<td>Não</td>
<td>Numérico</td>
<td>8, 12, 13 ou 14 dígitos</td>
<td>Código de barras. Preencher com o código de barra GTIN-8, GTIN-12, GTIN-13 ou GTIN-14 (antigos códigos EAN, UPC e DUN- 14). Não informar este campo se o produto não possuir este código.</td>
</tr>
<tr>
<td>descricao</td>
<td>xProd</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 120 caracteres</td>
<td>Descrição do produto.</td>
</tr>
<tr>
<td>ncm</td>
<td>NCM</td>
<td>Sim</td>
<td>Numérico</td>
<td>8 dígitos</td>
<td>Nomenclatura comum do Mercosul. Itens específicos que não possuem NCM podem informar somente o código “00”.</td>
</tr>
<tr>
<td>exncm</td>
<td>-</td>
<td>Não</td>
<td>Numérico</td>
<td>2 dígitos</td>
<td>Trata-se de um atributo específico para uso do engine de cálculo TaxRules da TaxWeb destinado à detalhar a característica do produto. (Ex. pauta fiscal etc).</td>
</tr>
<tr>
<td>cest</td>
<td>CEST</td>
<td>Não</td>
<td>Numérico</td>
<td>7 dígitos</td>
<td>Código Especificador de Substituição Tributária.</td>
</tr>
<tr>
<td>extipi</td>
<td>EXTIPI</td>
<td>Não</td>
<td>Numérico</td>
<td>De 2 a 3 dígitos</td>
<td></td>
</tr>
<tr>
<td>cfop</td>
<td>CFOP</td>
<td>Sim</td>
<td>Numérico</td>
<td>4 dígitos</td>
<td>Código Fiscal de Operações e Prestações.</td>
</tr>
<tr>
<td>produto_especifico</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>unidade_comercial</td>
<td>uCom</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 6 caracteres</td>
<td>Unidade de comercialização do produto.</td>
</tr>
<tr>
<td>quantidade_comercial</td>
<td>qCom</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 11 dígitos, 4 casas decimais</td>
<td>Quantidade de comercialização do produto.</td>
</tr>
<tr>
<td>valor_unitario_comercial</td>
<td>vUnCom</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 11 dígitos, 4 casas decimais</td>
<td>Valor unitário de comercialização.</td>
</tr>
<tr>
<td>ean_unidade_trib</td>
<td>cEANTrib</td>
<td>Não</td>
<td>Numérico</td>
<td>8, 12, 13 ou 14 dígitos</td>
<td></td>
</tr>
<tr>
<td>unidade_tributaria</td>
<td>uTrib</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 6 caracteres</td>
<td>Unidade tributável do produto.</td>
</tr>
<tr>
<td>quantidade_tributaria</td>
<td>qTrib</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 11 dígitos, 4 casas decimais</td>
<td>Quantidade tributável do produto.</td>
</tr>
<tr>
<td>valor_unitario_tributario</td>
<td>vUnTrib</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 11 dígitos, 10 casas decimais</td>
<td>Valor unitário de tributação.</td>
</tr>
<tr>
<td>valor_frete</td>
<td>vFrete</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_seguro</td>
<td>vSeg</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_desconto</td>
<td>vDesc</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_total_produto</td>
<td>vProd</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>outras_despesas</td>
<td>vOutro</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td>Outras despesas acessórias.</td>
</tr>
<tr>
<td>num_pedido</td>
<td>xPed</td>
<td>Não</td>
<td>Texto e/ou número</td>
<td>Até 15 caracteres</td>
<td>Número do pedido de compra, se houver.</td>
</tr>
<tr>
<td>num_item_pedido</td>
<td>nItemPed</td>
<td>Não</td>
<td>Numérico</td>
<td>Até 6 dígitos</td>
<td>Item do pedido de compra.</td>
</tr>
<tr>
<td>num_controle_fci</td>
<td>nFCI</td>
<td>Não</td>
<td>Texto</td>
<td>Até 36 caracteres</td>
<td>Número de controle da FCI - Ficha de Conteúdo de Importação.</td>
</tr>
<tr>
<td>ind_valor_total</td>
<td>indTotal</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>Informa se o valor dos produtos compõem o valor total da nota. Seleção entre:<br>0 = Valor do item não compõem o valor total da NF-e;<br>1 = Valor do item compõem o valor total da NF-e.<br></td>
</tr>
<tr>
<td>producao_escala</td>
<td>indEscala</td>
<td>Não</td>
<td>Texto</td>
<td>1 dígito</td>
<td>S - Produzido em Escala Relevante;<br>N – Produzido em Escala NÃO Relevante.</td>
</tr>
<tr>
<td>cnpj_fabricante_mercadoria</td>
<td>CNPJFab</td>
<td>Não</td>
<td>Numérico</td>
<td>14 dígitos</td>
<td>S - Produzido em Escala Relevante;<br>N – Produzido em Escala NÃO Relevante.</td>
</tr>
<tr>
<td>codigo_beneficio_fiscal</td>
<td>cBenef</td>
<td>Não</td>
<td>Texto</td>
<td>10 dígitos</td>
<td>Código de Benefício Fiscal utilizado pela UF, aplicado ao item.</td>
</tr>
<tr>
<td>aplicacao</td>
<td>-</td>
<td>Não</td>
<td>Texto</td>
<td>1 dígito</td>
<td>Aplicação do Produto (<i>Trata-se de um atributo específico para uso do engine de cálculo TaxRules da TaxWeb.</i>). Seleção entre:<br>I - Industrialização<br>C - Comercialização<br>U - Uso e Consumo<br>A - Ativo Imobilizado</td>
</tr>
<tr>
<td>fabricacao</td>
<td>-</td>
<td>Não</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>Indica onde ocorreu a fabricação do produto (<i>Trata-se de um atributo específico para uso do engine de cálculo TaxRules da TaxWeb.</i>). Seleção entre:<br>0 - Própria<br>1 - Terceiros</td>
</tr>
<tr>
<td>indFarmaciaPopular</td>
<td>-</td>
<td>Não</td>
<td>Texto</td>
<td>1 dígito</td>
<td>(<i>Trata-se de um atributo específico para uso do engine de cálculo TaxRules da TaxWeb.</i>). Seleção entre:<br>S - Sim<br>N - Não</td>
</tr>
<tr>
<td>praticaRepasse</td>
<td>-</td>
<td>Não</td>
<td>Texto</td>
<td>1 dígito</td>
<td>(<i>Trata-se de um atributo específico para uso do engine de cálculo TaxRules da TaxWeb.</i>). Seleção entre:<br>S - Sim<br>N - Não</td>
</tr>
<tr>
<td>praticaPMC</td>
<td>-</td>
<td>Não</td>
<td>Texto</td>
<td>1 dígito</td>
<td>(<i>Trata-se de um atributo específico para uso do engine de cálculo TaxRules da TaxWeb.</i>). Seleção entre:<br>S - Sim<br>N - Não</td>
</tr>
<tr>
<td>listaCMED</td>
<td>-</td>
<td>Não</td>
<td>Texto</td>
<td>-</td>
<td>Valor do medicamento da lista, expresso em reais. (<i>Trata-se de um atributo específico para uso do engine de cálculo TaxRules da TaxWeb.</i>).</td>
</tr>
<tr>
<td>listaFarmaceutica</td>
<td>-</td>
<td>Não</td>
<td>Texto</td>
<td>1 dígito</td>
<td>(<i>Trata-se de um atributo específico para uso do engine de cálculo TaxRules da TaxWeb.</i>). Seleção entre: <br>S - Sim<br>N - Não</td>
</tr>
<tr>
<td>tpProdMed</td>
<td>-</td>
<td>Não</td>
<td>Texto</td>
<td>1 dígito</td>
<td>(<i>Trata-se de um atributo específico para uso do engine de cálculo TaxRules da TaxWeb.</i>). Seleção entre: <br>0 - Similar<br>1 - Genérico<br>2 - Referência<br>3 - Outros</td>
</tr>
<tr>
<td>cdu1</td>
<td>-</td>
<td>Não</td>
<td>Texto</td>
<td>2 caracteres</td>
<td>Sigla dos Estados do Brasil. Ex.: RJ <br> (<i>Trata-se de um atributo específico para uso do engine de cálculo TaxRules da TaxWeb.</i>).</td>
</tr>
<tr>
<td>vlUltimaEntrada</td>
<td>-</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td>Valor da última entrada. <br> (<i>Trata-se de um atributo específico para uso do engine de cálculo TaxRules da TaxWeb.</i>).</td>
</tr>
</tbody></table>

<h2 id="tributa-o-xml-imposto">tributação (XML: imposto)</h2>

<p>Grupo de informações relacionadas à tributação de ICMS, IPI, PIS, COFINS e Importação.</p>

<aside class="notice">
  Campos decimais devem ser separados por ponto
</aside>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>valor_aproximado_total</td>
<td>vTotTrib</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td>Valor aproximado total de tributos federais, estaduais e municipais para o produto.<br><i>Caso o valor esteja ausente, o Emites informará os valores de tributos calculados para cada item.</i></td>
</tr>
</tbody></table>

<h3 id="icms-xml-icms">icms (XML: ICMS)</h3>

<p>Informações relacionadas ao ICMS. Os atributos são variáveis de acordo com a situação tributária. Atributos comuns a todas as situações tributárias</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>situacao_tributaria</td>
<td>CST</td>
<td>Sim</td>
<td>Numérico</td>
<td>2 dígitos</td>
<td></td>
</tr>
<tr>
<td>codigo_origem_produto</td>
<td>orig</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>Origem da mercadoria. Seleção entre:<br>  0 = Nacional, exceto as indicadas nos códigos 3, 4, 5 e 8;  <br>1 = Estrangeira - Importação direta, exceto a indicada no código 6;  <br>2 = Estrangeira - Adquirida no mercado interno, exceto a indicada no código 7;  <br>3 = Nacional, mercadoria ou bem com Conteúdo de Importação superior a 40% e inferior ou igual a 70%;  <br>4 = Nacional, cuja produção tenha sido feita em conformidade com os processos produtivos básicos de que tratam as legislações citadas nos Ajustes;  <br>5 = Nacional, mercadoria ou bem com Conteúdo de Importação inferior ou igual a 40%;  <br>6 = Estrangeira - Importação direta, sem similar nacional, constante em lista da CAMEX e gás natural;  <br>7 = Estrangeira - Adquirida no mercado interno, sem similar nacional, constante lista CAMEX e gás natural.  <br>8 = Nacional, mercadoria ou bem com Conteúdo de Importação superior a 70%.</td>
</tr>
</tbody></table>

<h3 id="icms-interestadual-xml-icmsufdest">ICMS interestadual (XML: ICMSUFDest)</h3>

<p>Grupo a ser informado nas vendas interestaduais para consumidor final, não contribuinte de ICMS.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>valor_base_calculo_uf_dest</td>
<td>vBCUFDest</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_interna_interestadual</td>
<td>pICMSUFDest</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_interestadual</td>
<td>pICMSInter</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_provisorio_interestadual</td>
<td>pICMSInterPart</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_uf_remetente_interestadual</td>
<td>vICMSUFRemet</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_uf_destinatario_interestadual</td>
<td>vICMSUFDest</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_fcp_interestadual</td>
<td>pFCPUFDest</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_fcp_interestadual</td>
<td>vFCPUFDest</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="icmsst-xml-icmsst-situacao_tributaria-41-e-60">ICMSST (XML: ICMSST) | situacao_tributaria = 41 e 60</h3>

<p>41 = Não Tributado (v2.0);<br>
60 = cobrado anteriormente por substituição tributária (Incluído NT 2016/002);</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>base_calculo_icmsst_remetente</td>
<td>vBCSTRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_consumidor_final</td>
<td>pST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms_substituto</td>
<td>vICMSSubstituto</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td>Valor do ICMS Próprio do Substituto cobrado em operação anterior</td>
</tr>
<tr>
<td>valor_icmsst_retido_remetente</td>
<td>vICMSSTRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_base_calculo_fcp_st_retido</td>
<td>vBCFCPSTRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_fcp_st_retido</td>
<td>pFCPSTRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_fcp_st_retido</td>
<td>vFCPSTRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>base_calculo_icmsst_destino</td>
<td>vBCSTDest</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icmsst_retido_destino</td>
<td>vICMSSTDest</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_reducao_base_calculo_efetivo</td>
<td>pRedBCEfet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td>Opcional a critério da UF.</td>
</tr>
<tr>
<td>valor_base_calculo_efetivo</td>
<td>vBCEfet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td>Opcional a critério da UF.</td>
</tr>
<tr>
<td>aliquota_efetiva</td>
<td>pICMSEfet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td>Opcional a critério da UF.</td>
</tr>
<tr>
<td>valor_efetivo</td>
<td>vICMSEfet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td>Opcional a critério da UF.</td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-00">situacao_tributaria = 00</h3>

<p>Tributada integralmente.</p>

<table><thead>
<tr>
<th>Campo no XML</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>modalidade_base_calculo</td>
<td>modBC</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>0=Margem Valor Agregado (%);  <br>1=Pauta (Valor);  <br>2=Preço Tabelado Máx. (valor);  <br>3=Valor da operação.</td>
</tr>
<tr>
<td>valor_base_calculo</td>
<td>vBC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_icms</td>
<td>pICMS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms</td>
<td>vICMS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_fcp</td>
<td>pFCP</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_fcp</td>
<td>vFCP</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-10">situacao_tributaria = 10</h3>

<p>Tributada com cobrança de ICMS por ST.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>modalidade_base_calculo</td>
<td>modBC</td>
<td>Sim</td>
<td>Numérico</td>
<td>Numérico</td>
<td>1 dígito 0=Margem Valor Agregado (%); <br>1=Pauta (Valor); <br>2=Preço Tabelado Máx. (valor); <br>3=Valor da operação.</td>
</tr>
<tr>
<td>valor_base_calculo</td>
<td>vBC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_icms</td>
<td>pICMS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms</td>
<td>vICMS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>modalidade_base_calculo_st</td>
<td>modBCST</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>0=Preço tabelado ou máximo sugerido; <br>1=Lista Negativa (valor); <br>2=Lista Positiva (valor); <br>3=Lista Neutra (valor);  4=Margem Valor Agregado (%); 5=Pauta (valor).</td>
</tr>
<tr>
<td>valor_base_calculo_st</td>
<td>vBCST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_reducao_base_calculo_st</td>
<td>pRedBCST</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_mva_icms_st</td>
<td>pMVAST</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_icms_st</td>
<td>pICMSST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms_st</td>
<td>vICMSST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_base_calculo_fcp</td>
<td>vBCFCP</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_fcp</td>
<td>pFCP</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_fcp</td>
<td>vFCP</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_base_calculo_fcp_st</td>
<td>vBCFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_fcp_st</td>
<td>pFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_fcp_st</td>
<td>vFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h4 id="com-partilha-do-icms-entre-a-uf-de-origem-e-a-uf-de-destino-ou-a-uf-definida-na-legisla-o">com partilha do ICMS entre a UF de origem e a UF de destino ou a UF definida na legislação</h4>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>base_calculo_operacao_propria</td>
<td>pBCOp</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td>Percentual para determinação do valor da Base de Cálculo da operação própria.</td>
</tr>
<tr>
<td>uf_icmsst_devido</td>
<td>UFST</td>
<td>Sim</td>
<td>Texto</td>
<td>2 carac.</td>
<td>Sigla da UF para qual é devido o ICMS ST da operação.</td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-20">situacao_tributaria = 20</h3>

<p>Com redução de base de cálculo.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>modalidade_base_calculo</td>
<td>modBC</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>0=Margem Valor Agregado (%);<br>1=Pauta (Valor);<br>2=Preço Tabelado Máx. (valor);<br>3=Valor da operação.</td>
</tr>
<tr>
<td>valor_base_calculo</td>
<td>vBC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_reducao_base_calculo</td>
<td>pRedBC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_icms</td>
<td>pICMS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms</td>
<td>vICMS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms_desonerado</td>
<td>vICMSDeson</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>motivo_desoneracao</td>
<td>motDesICMS</td>
<td>Não</td>
<td>Numérico</td>
<td>2 dígitos</td>
<td>Informar o motivo da desoneração: <br>1 = Táxi<br> 3 = Produto Agropecuário <br>4 = Frotista/Locadora <br>5 = Diplomático/Consular <br>6 = Utilitários e Motocicletas da Amazônia Ocidental e Áreas de Livre Comércio <br>7 = SUFRAMA <br>8 = Venda a Órgão Público <br>9 = Outros <br>10 = Deficiente Condutor <br>11 = Deficiente Não Condutor <br>12 = Órgão de fomento e desenvolvimento agropecuário</td>
</tr>
<tr>
<td>valor_base_calculo_fcp</td>
<td>vBCFCP</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_fcp</td>
<td>pFCP</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_fcp</td>
<td>vFCP</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-30">situacao_tributaria = 30</h3>

<p>Isenta e não tributada e com cobrança de ICMS por ST.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>valor_icms_desonerado</td>
<td>vICMSDeson</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>motivo_desoneracao</td>
<td>motDesICMS</td>
<td>Não</td>
<td>Numérico</td>
<td>2 dígitos</td>
<td>Informar o motivo da desoneração: <br>1 = Táxi <br>3 = Produto Agropecuário <br>4 = Frotista/Locadora <br>5 = Diplomático/Consular <br>6 = Utilitários e  Motocicletas da Amazônia Ocidental e Áreas de Livre Comércio <br>7 = SUFRAMA <br>8 = Venda a Órgão Público <br>9 = Outros <br>10 = Deficiente Condutor <br>11 = Deficiente Não Condutor <br>12 = Órgão de fomento e desenvolvimento agropecuário</td>
</tr>
<tr>
<td>modalidade_base_calculo_st</td>
<td>modBCST</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>0=Preço tabelado ou máximo sugerido;<br>1=Lista Negativa (valor);<br>2=Lista Positiva (valor);<br>3=Lista Neutra (valor);<br>4=Margem Valor Agregado (%);<br>5=Pauta (valor).</td>
</tr>
<tr>
<td>valor_base_calculo_st</td>
<td>vBCST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_reducao_base_calculo_st</td>
<td>pRedBCST</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_mva_icms_st</td>
<td>pMVAST</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_icms_st</td>
<td>pICMSST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms_st</td>
<td>vICMSST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_base_calculo_fcp_st</td>
<td>vBCFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_fcp_st</td>
<td>pFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_fcp_st</td>
<td>vFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-40-41-e-50">situacao_tributaria = 40, 41 e 50</h3>

<p>40 =  Isenta
41 =  Não tributada
50 =  Suspensão</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>valor_icms_desonerado</td>
<td>vICMSDeson</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>motivo_desoneracao</td>
<td>motDesICMS</td>
<td>Não</td>
<td>Numérico</td>
<td>2 dígitos</td>
<td>Informar o motivo da desoneração:<br>1 = Táxi<br>3 = Produto Agropecuário<br>4 = Frotista/Locadora<br>5 = Diplomático/Consular<br>6 = Utilitários e Motocicletas da Amazônia Ocidental e Áreas de Livre Comércio<br>7 = SUFRAMA<br>8 = Venda a Órgão Público<br>9 = Outros<br>10 = Deficiente Condutor<br>11 = Deficiente Não Condutor<br>12 = Órgão de fomento e desenvolvimento agropecuário<br></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-41-e-icmsst-devido-para-a-uf-de-destino">situacao_tributaria = 41 e ICMSST devido para a UF de destino</h3>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>base_calculo_icmsst_remetente</td>
<td>vBCSTRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icmsst_retido_remetente</td>
<td>vICMSSTRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>base_calculo_icmsst_destino</td>
<td>vBCSTDest</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icmsst_retido_destino</td>
<td>vICMSSTDest</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-51">situacao_tributaria = 51</h3>

<p>Diferido.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>modalidade_base_calculo</td>
<td>modBC</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>0=Margem Valor Agregado (%);<br>1=Pauta (Valor);<br>2=Preço Tabelado Máx. (valor);<br>3=Valor da operação.<br></td>
</tr>
<tr>
<td>valor_base_calculo</td>
<td>vBC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_reducao_base_calculo</td>
<td>pRedBC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_icms</td>
<td>pICMS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms</td>
<td>vICMS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms_operacao</td>
<td>vICMSOp</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td>Valor como se não tivesse o diferimento.</td>
</tr>
<tr>
<td>perc_diferimento</td>
<td>pDif</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td>No caso de diferimento total, informar o percentual de diferimento &ldquo;100&rdquo;.</td>
</tr>
<tr>
<td>valor_icms_diferido</td>
<td>vICMSDif</td>
<td>Não</td>
<td></td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_base_calculo_fcp</td>
<td>vBCFCP</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_fcp</td>
<td>pFCP</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_fcp</td>
<td>vFCP</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-60">situacao_tributaria = 60</h3>

<p>Cobrado anteriormente por ST.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>base_icmsst_retido</td>
<td>vBCSTRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td>Valor da Base de Cálculo do ICMS ST cobrado anteriormente por ST. O valor pode ser omitido quando a legislação não exigir a sua informação.</td>
</tr>
<tr>
<td>aliquota_consumidor_final</td>
<td>pST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms_substituto</td>
<td>vICMSSubstituto</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td>Valor do ICMS Próprio do Substituto cobrado em operação anterior</td>
</tr>
<tr>
<td>valor_icmsst_retido</td>
<td>vICMSSTRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td>Valor do ICMS ST cobrado anteriormente por ST. O valor pode ser omitido quando a legislação não exigir a sua informação.</td>
</tr>
<tr>
<td>valor_base_calculo_fcp_st_retido</td>
<td>vBCFCPSTRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_fcp_st_retido</td>
<td>pFCPSTRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_fcp_st_retido</td>
<td>vFCPSTRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-70-e-90">situacao_tributaria = 70 e 90</h3>

<p>70 = Com redução da base de cálculo e cobrança por ST
90 = Outras</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>modalidade_base_calculo</td>
<td>modBC</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>0=Margem Valor Agregado (%);<br>1=Pauta (Valor);<br>2=Preço Tabelado Máx. (valor);<br>3=Valor da operação.</td>
</tr>
<tr>
<td>valor_base_calculo</td>
<td>vBC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_reducao_base_calculo</td>
<td>pRedBC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_icms</td>
<td>pICMS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms</td>
<td>vICMS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms_desonerado</td>
<td>vICMSDeson</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>motivo_desoneracao</td>
<td>motDesICMS</td>
<td>Não</td>
<td>Numérico</td>
<td>2 dígitos</td>
<td>Informar o motivo da desoneração: <br>1 = Táxi<br>3 = Produto Agropecuário<br>4 = Frotista/Locadora<br>5 = Diplomático/Consular<br>6 = Utilitários e Motocicletas da Amazônia Ocidental e Áreas de Livre Comércio<br>7 = SUFRAMA<br>8 = Venda a Órgão Público<br>9 = Outros<br>10 = Deficiente Condutor<br>11 = Deficiente Não Condutor<br>12 = Órgão de fomento e desenvolvimento agropecuário<br></td>
</tr>
<tr>
<td>modalidade_base_calculo_st</td>
<td>modBCST</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>0=Preço tabelado ou máximo sugerido;<br>1=Lista Negativa (valor);<br>2=Lista Positiva (valor);<br>3=Lista Neutra (valor);<br>4=Margem Valor Agregado (%);<br>5=Pauta (valor).<br></td>
</tr>
<tr>
<td>valor_base_calculo_st</td>
<td>vBCST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_reducao_base_calculo_st</td>
<td>pRedBCST</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_mva_icms_st</td>
<td>pMVAST</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_icms_st</td>
<td>pICMSST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms_st</td>
<td>vICMSST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_base_calculo_fcp</td>
<td>vBCFCP</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_fcp</td>
<td>pFCP</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_fcp</td>
<td>vFCP</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_base_calculo_fcp_st</td>
<td>vBCFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_fcp_st</td>
<td>pFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_fcp_st</td>
<td>vFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h4 id="com-partilha-do-icms-entre-a-uf-de-origem-e-a-uf-de-destino-ou-a-uf-definida-na-legisla-o">com partilha do ICMS entre a UF de origem e a UF de destino ou a UF definida na legislação</h4>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>base_calculo_operacao_propria</td>
<td>pBCOp</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td>Percentual para determinação do valor da Base de Cálculo da operação própria.</td>
</tr>
<tr>
<td>uf_icmsst_devido</td>
<td>UFST</td>
<td>Sim</td>
<td>Texto</td>
<td>2 carac.</td>
<td>Sigla da UF para qual é devido o ICMS ST da operação.</td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-101">situacao_tributaria = 101</h3>

<p>Tributada com permissão de crédito.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>situacao_simples_nacional</td>
<td>CSOSN</td>
<td>Sim</td>
<td>Numérico</td>
<td>3 dígitos</td>
<td>situacao_simples_nacional</td>
</tr>
<tr>
<td>aliquota_icms_simples_nacional</td>
<td>pCredSN</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td>aliquota_icms_simples_nacional</td>
</tr>
<tr>
<td>credito_icms_simples_nacional</td>
<td>vCredICMSSN</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td>credito_icms_simples_nacional</td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-102">situacao_tributaria = 102</h3>

<p>Tributada sem permissão de crédito.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>situacao_simples_nacional</td>
<td>CSOSN</td>
<td>Sim</td>
<td>Numérico</td>
<td>3 dígitos</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-103">situacao_tributaria = 103</h3>

<p>Isenção de ICMS.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>situacao_simples_nacional</td>
<td>CSOSN</td>
<td>Sim</td>
<td>Numérico</td>
<td>3 dígitos</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-201">situacao_tributaria = 201</h3>

<p>Tributada com permissão de crédito e com cobrança de ICMS por ST.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>situacao_simples_nacional</td>
<td>CSOSN</td>
<td>Sim</td>
<td>Numérico</td>
<td>3 dígitos</td>
<td></td>
</tr>
<tr>
<td>aliquota_icms_simples_nacional</td>
<td>pCredSN</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>credito_icms_simples_nacional</td>
<td>vCredICMSSN</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>modalidade_base_calculo_st</td>
<td>modBCST</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>0=Preço tabelado ou máximo sugerido;<br>1=Lista Negativa (valor);<br>2=Lista Positiva (valor);<br>3=Lista Neutra (valor);<br>4=Margem Valor Agregado (%);<br>5=Pauta (valor).</td>
</tr>
<tr>
<td>valor_base_calculo_st</td>
<td>vBCST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_reducao_base_calculo_st</td>
<td>pRedBCST</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_mva_icms_st</td>
<td>pMVAST</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_icms_st</td>
<td>pICMSST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms_st</td>
<td>vICMSST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_base_calculo_fcp_st</td>
<td>vBCFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_fcp_st</td>
<td>pFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_fcp_st</td>
<td>vFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_icms_simples_nacional</td>
<td>pCredSN</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>credito_icms_simples_nacional</td>
<td>vCredICMSSN</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-202">situacao_tributaria = 202</h3>

<p>Tributada sem permissão de crédito e com cobrança de ICMS por ST.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>situacao_simples_nacional</td>
<td>CSOSN</td>
<td>Sim</td>
<td>Numérico</td>
<td>3 dígitos</td>
<td></td>
</tr>
<tr>
<td>modalidade_base_calculo_st</td>
<td>modBCST</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>0=Preço tabelado ou máximo sugerido;<br>1=Lista Negativa (valor);<br>2=Lista Positiva (valor);<br>3=Lista Neutra (valor);<br>4=Margem Valor Agregado (%);<br>5=Pauta (valor).</td>
</tr>
<tr>
<td>valor_base_calculo_st</td>
<td>vBCST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_reducao_base_calculo_st</td>
<td>pRedBCST</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_mva_icms_st</td>
<td>pMVAST</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_icms_st</td>
<td>pICMSST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms_st</td>
<td>vICMSST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_base_calculo_fcp_st</td>
<td>vBCFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_fcp_st</td>
<td>pFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_fcp_st</td>
<td>vFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-203">situacao_tributaria = 203</h3>

<p>Isenção de ICMS pela faixa de receita bruta e com cobrança de ICMS por ST.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>situacao_simples_nacional</td>
<td>CSOSN</td>
<td>Sim</td>
<td>Numérico</td>
<td>3 dígitos</td>
<td></td>
</tr>
<tr>
<td>modalidade_base_calculo_st</td>
<td>modBCST</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>0=Preço tabelado ou máximo sugerido;<br>1=Lista Negativa (valor);<br>2=Lista Positiva (valor);<br>3=Lista Neutra (valor);<br>4=Margem Valor Agregado (%);<br>5=Pauta (valor).</td>
</tr>
<tr>
<td>valor_base_calculo_st</td>
<td>vBCST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_reducao_base_calculo_st</td>
<td>pRedBCST</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_mva_icms_st</td>
<td>pMVAST</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_icms_st</td>
<td>pICMSST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms_st</td>
<td>vICMSST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_base_calculo_fcp_st</td>
<td>vBCFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_fcp_st</td>
<td>pFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_fcp_st</td>
<td>vFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-300">situacao_tributaria = 300</h3>

<p>Imune.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>situacao_simples_nacional</td>
<td>CSOSN</td>
<td>Sim</td>
<td>Numérico</td>
<td>3 dígitos</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-400">situacao_tributaria = 400</h3>

<p>Não tributada</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>situacao_simples_nacional</td>
<td>CSOSN</td>
<td>Sim</td>
<td>Numérico</td>
<td>3 dígitos</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-500">situacao_tributaria = 500</h3>

<p>ICMS cobrado anteriormente por ST ou antecipação.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>situacao_simples_nacional</td>
<td>CSOSN</td>
<td>Sim</td>
<td>Numérico</td>
<td>3 dígitos</td>
<td></td>
</tr>
<tr>
<td>base_icmsst_retido</td>
<td>vBCSTRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td>Valor da Base de Cálculo do ICMS ST cobrado anteriormente por ST. O valor pode ser omitido quando a legislação não exigir a sua informação.</td>
</tr>
<tr>
<td>valor_icmsst_retido</td>
<td>vICMSSTRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td>Valor do ICMS ST cobrado anteriormente por ST. O valor pode ser omitido quando a legislação não exigir a sua informação.</td>
</tr>
<tr>
<td>aliquota_consumidor_final</td>
<td>pST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms_substituto</td>
<td>vICMSSubstituto</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td>Valor do ICMS Próprio do Substituto cobrado em operação anterior</td>
</tr>
<tr>
<td>valor_base_calculo_fcp_st_retido</td>
<td>vBCFCPSTRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_fcp_st_retido</td>
<td>pFCPSTRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_fcp_st_retido</td>
<td>vFCPSTRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-900">situacao_tributaria = 900</h3>

<p>Outros.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>situacao_simples_nacional</td>
<td>CSOSN</td>
<td>Sim</td>
<td>Numérico</td>
<td>3 dígitos</td>
<td></td>
</tr>
<tr>
<td>aliquota_icms_simples_nacional</td>
<td>pCredSN</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>credito_icms_simples_nacional</td>
<td>vCredICMSSN</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>modalidade_base_calculo</td>
<td>modBC</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>0=Margem Valor Agregado (%);<br>1=Pauta (Valor);<br>2=Preço Tabelado Máx. (valor);<br>3=Valor da operação.</td>
</tr>
<tr>
<td>valor_base_calculo</td>
<td>vBC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_reducao_base_calculo</td>
<td>pRedBC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_icms</td>
<td>pICMS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms</td>
<td>vICMS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>modalidade_base_calculo_st</td>
<td>modBCST</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>0=Preço tabelado ou máximo sugerido;<br>1=Lista Negativa (valor);<br>2=Lista Positiva (valor);<br>3=Lista Neutra (valor);<br>4=Margem Valor Agregado (%);<br>5=Pauta (valor).</td>
</tr>
<tr>
<td>valor_base_calculo_st</td>
<td>vBCST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_reducao_base_calculo_st</td>
<td>pRedBCST</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>perc_mva_icms_st</td>
<td>pMVAST</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_icms_st</td>
<td>pICMSST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms_st</td>
<td>vICMSST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_icms_operacao</td>
<td>vICMSOp</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td>Valor como se não tivesse o diferimento.</td>
</tr>
<tr>
<td>valor_base_calculo_fcp_st</td>
<td>vBCFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_fcp_st</td>
<td>pFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_fcp_st</td>
<td>vFCPST</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="ipi-xml-ipi">ipi (XML: IPI)</h3>

<p>Atributos comuns a todas as situações tributárias</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>situacao_tributaria</td>
<td>CST</td>
<td>Sim</td>
<td>Numérico</td>
<td>2 dígitos</td>
<td></td>
</tr>
<tr>
<td>cnpj_produtor</td>
<td>CNPJProd</td>
<td>Não</td>
<td>Numérico</td>
<td>14 dígitos</td>
<td></td>
</tr>
<tr>
<td>codigo_selo_controle</td>
<td>cSelo</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td>Código do selo de controle IPI</td>
</tr>
<tr>
<td>quantidade_selo_controle</td>
<td>qSelo</td>
<td>Não</td>
<td>Numérico</td>
<td>Até 12 dígitos</td>
<td>Quantidade de selo de controle</td>
</tr>
<tr>
<td>codigo_enquadramento</td>
<td>cEnq</td>
<td>Sim</td>
<td>Numérico</td>
<td>Até 3 dígitos</td>
<td>Geralmente o valor informado é 999</td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-00-49-50-e-99">situacao_tributaria = 00, 49, 50 e 99</h3>

<p>00 = Entrada com recuperação de crédito.
49 = Outras entradas
50 = Saída tributada
99 = Outra saídas</p>

<h3 id="c-lculo-por-al-quota">Cálculo por alíquota</h3>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>valor_base_calculo</td>
<td>vBC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_ipi</td>
<td>pIPI</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_ipi</td>
<td>vIPI</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="c-lculo-por-valor">Cálculo por valor</h3>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>valor_unidade</td>
<td>vUnid</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 11 dígitos, de 0 a 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_ipi</td>
<td>vIPI</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-01">situacao_tributaria = 01</h3>

<p>Entrada tributada com alíquota zero. Não possui campos para informar alíquota.</p>

<h3 id="situacao_tributaria-02">situacao_tributaria = 02</h3>

<p>Entrada Isenta. Não possui campos para informar alíquota.</p>

<h3 id="situacao_tributaria-03">situacao_tributaria = 03</h3>

<p>Entrada não-tributada. Não possui campos para informar alíquota.</p>

<h3 id="situacao_tributaria-04">situacao_tributaria = 04</h3>

<p>Entrada imune. Não possui campos para informar alíquota.</p>

<h3 id="situacao_tributaria-05">situacao_tributaria = 05</h3>

<p>Entrada com suspensão. Não possui campos para informar alíquota.</p>

<h3 id="situacao_tributaria-51">situacao_tributaria = 51</h3>

<p>Saída tributada com alíquota zero. Não possui campos para informar alíquota.</p>

<h3 id="situacao_tributaria-52">situacao_tributaria = 52</h3>

<p>Saída isenta. Não possui campos para informar alíquota.</p>

<h3 id="situacao_tributaria-53">situacao_tributaria = 53</h3>

<p>Saída não-tributada. Não possui campos para informar alíquota.</p>

<h3 id="situacao_tributaria-54">situacao_tributaria = 54</h3>

<p>Saída imune. Não possui campos para informar alíquota.</p>

<h3 id="situacao_tributaria-55">situacao_tributaria = 55</h3>

<p>Saída com suspensão. Não possui campos para informar alíquota.</p>

<h3 id="imposto_devolvido-xml-impostodevol">imposto_devolvido (XML: impostoDevol)</h3>

<p>O motivo da devolução deverá ser informado pela empresa no campo de Informações Adicionais do Produto.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>perc_mercadoria_devolvida</td>
<td>pDevol</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_ipi_devolvido</td>
<td>vIPIDevol</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="pis-xml-pis">pis (XML: PIS)</h3>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>situacao_tributaria</td>
<td>CST</td>
<td>Sim</td>
<td>Numérico</td>
<td>2 dígitos</td>
<td>Atributos comuns a todas as situações tributárias</td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-01-e-02">situacao_tributaria = 01 e 02</h3>

<p>01 = Operação Tributável com Alíquota Básica
02 = Operação Tributável com Alíquota Diferenciada</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>valor_base_calculo</td>
<td>vBC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_pis</td>
<td>pPIS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_pis</td>
<td>vPIS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-03">situacao_tributaria = 03</h3>

<p>Operação Tributável com Alíquota por Unidade de Medida de Produto.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>aliquota_pis_reais</td>
<td>vAliqProd</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 11 dígitos, de 0 a 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>quantidade_vendida</td>
<td>qBCProd</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 12 dígitos, de 0 a 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_pis</td>
<td>vPIS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-04-06-07-08-09">situacao_tributaria = 04, 06, 07, 08, 09</h3>

<p>04 = Operação Tributável Monofásica - Revenda a Alíquota Zero
06 = Operação Tributável a Alíquota Zero
07 = Operação Isenta da Contribuição
08 = Operação sem Incidência da Contribuição
09 = Operação com Suspensão da Contribuição</p>

<p>Não há campos para informar alíquota.</p>

<h3 id="situacao_tributaria-05">situacao_tributaria = 05</h3>

<p>Operação Tributável por Substituição Tributária.</p>

<h3 id="c-lculo-por-percentual">Cálculo por percentual</h3>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>valor_base_calculo_st</td>
<td>vBC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_st</td>
<td>pPIS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_pis_st</td>
<td>vPIS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="c-lculo-por-valor">Cálculo por valor</h3>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>aliquota_pis_reais_st</td>
<td>vAliqProd</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 11 dígitos, de 0 a 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>quantidade_vendida_st</td>
<td>qBCProd</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 12 dígitos, de 0 a 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_pis_st</td>
<td>vPIS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-49-50-51-52-53-54-55-56-60-61-62-63-64-65-66-67-70-71-72-73-74-75-98-99">situacao_tributaria = 49, 50, 51, 52, 53, 54, 55, 56, 60, 61, 62, 63, 64, 65, 66, 67, 70, 71, 72, 73, 74, 75, 98, 99</h3>

<p>49 = Outras Operações de Saída
50 = Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno
51 = Operação com Direito a Crédito – Vinculada Exclusivamente a Receita Não Tributada no Mercado Interno
52 = Operação com Direito a Crédito - Vinculada Exclusivamente a Receita de Exportação
53 = Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno
54 = Operação com Direito a Crédito - Vinculada a Receitas Tributadas no Mercado Interno e de Exportação
55 = Operação com Direito a Crédito - Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação
56 = Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação
60 = Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Tributada no Mercado Interno
61 = Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Não-Tributada no Mercado Interno
62 = Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita de Exportação
63 = Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno
64 = Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas no Mercado Interno e de Exportação
65 = Crédito Presumido - Operação de Aquisição Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação
66 = Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação
67 = Crédito Presumido - Outras Operações
70 = Operação de Aquisição sem Direito a Crédito
71 = Operação de Aquisição com Isenção
72 = Operação de Aquisição com Suspensão
73 = Operação de Aquisição a Alíquota Zero
74 = Operação de Aquisição sem Incidência da Contribuição
75 = Operação de Aquisição por Substituição Tributária
98 = Outras Operações de Entrada
99 = Outras Operações</p>

<h3 id="c-lculo-por-percentual">Cálculo por percentual</h3>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>valor_base_calculo</td>
<td>vBC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_pis</td>
<td>pPIS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_pis</td>
<td>vPIS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="c-lculo-por-valor">Cálculo por valor</h3>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>aliquota_pis_reais</td>
<td>vAliqProd</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 11 dígitos, de 0 a 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>quantidade_vendida</td>
<td>qBCProd</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 12 dígitos, de 0 a 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_pis</td>
<td>vPIS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="cofins-xml-cofins">cofins (XML: COFINS)</h3>

<p>Atributos comuns a todas as situações tributárias</p>

<h3 id="situacao_tributaria">situacao_tributaria</h3>

<table><thead>
<tr>
<th>Campo XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>CST</td>
<td>Sim</td>
<td>Numérico</td>
<td>2 dígitos</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-01-e-02">situacao_tributaria = 01 e 02</h3>

<p>01 = Operação Tributável com Alíquota Básica
02 = Operação Tributável com Alíquota Diferenciada</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>valor_base_calculo</td>
<td>vBC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_cofins</td>
<td>pCOFINS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_cofins</td>
<td>vCOFINS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-03">situacao_tributaria = 03</h3>

<p>Operação Tributável com Alíquota por Unidade de Medida de Produto.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>aliquota_cofins_reais</td>
<td>vAliqProd</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 11 dígitos, de 0 a 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>quantidade_vendida</td>
<td>qBCProd</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 12 dígitos, de 0 a 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_cofins</td>
<td>vCOFINS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-04-06-07-08-09">situacao_tributaria = 04, 06, 07, 08, 09</h3>

<p>04 = Operação Tributável Monofásica - Revenda a Alíquota Zero
06 = Operação Tributável a Alíquota Zero
07 = Operação Isenta da Contribuição
08 = Operação sem Incidência da Contribuição
09 = Operação com Suspensão da Contribuição</p>

<p>Não há campos para informar alíquota.</p>

<h3 id="situacao_tributaria-05">situacao_tributaria = 05</h3>

<p>Operação Tributável por Substituição Tributária.</p>

<h3 id="c-lculo-por-percentual">Cálculo por percentual</h3>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>valor_base_calculo_st</td>
<td>vBC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_st</td>
<td>pCOFINS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_cofins_st</td>
<td>vCOFINS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="c-lculo-por-valor">Cálculo por valor</h3>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>aliquota_cofins_reais_st</td>
<td>vAliqProd</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 11 dígitos, de 0 a 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>quantidade_vendida_st</td>
<td>qBCProd</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 12 dígitos, de 0 a 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_cofins_st</td>
<td>vCOFINS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="situacao_tributaria-49-50-51-52-53-54-55-56-60-61-62-63-64-65-66-67-70-71-72-73-74-75-98-99">situacao_tributaria = 49, 50, 51, 52, 53, 54, 55, 56, 60, 61, 62, 63, 64, 65, 66, 67, 70, 71, 72, 73, 74, 75, 98, 99</h3>

<p>49 = Outras Operações de Saída
50 = Operação com Direito a Crédito - Vinculada Exclusivamente a Receita Tributada no Mercado Interno
51 = Operação com Direito a Crédito – Vinculada Exclusivamente a Receita Não Tributada no Mercado Interno
52 = Operação com Direito a Crédito - Vinculada Exclusivamente a Receita de Exportação
53 = Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno
54 = Operação com Direito a Crédito - Vinculada a Receitas Tributadas no Mercado Interno e de Exportação
55 = Operação com Direito a Crédito - Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação
56 = Operação com Direito a Crédito - Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação
60 = Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Tributada no Mercado Interno
61 = Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita Não-Tributada no Mercado Interno
62 = Crédito Presumido - Operação de Aquisição Vinculada Exclusivamente a Receita de Exportação
63 = Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno
64 = Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas no Mercado Interno e de Exportação
65 = Crédito Presumido - Operação de Aquisição Vinculada a Receitas Não-Tributadas no Mercado Interno e de Exportação
66 = Crédito Presumido - Operação de Aquisição Vinculada a Receitas Tributadas e Não-Tributadas no Mercado Interno, e de Exportação
67 = Crédito Presumido - Outras Operações
70 = Operação de Aquisição sem Direito a Crédito
71 = Operação de Aquisição com Isenção
72 = Operação de Aquisição com Suspensão
73 = Operação de Aquisição a Alíquota Zero
74 = Operação de Aquisição sem Incidência da Contribuição
75 = Operação de Aquisição por Substituição Tributária
98 = Outras Operações de Entrada
99 = Outras Operações</p>

<h3 id="c-lculo-por-percentual">Cálculo por percentual</h3>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>valor_base_calculo</td>
<td>vBC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_cofins</td>
<td>pCOFINS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_cofins</td>
<td>vCOFINS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="c-lculo-por-valor">Cálculo por valor</h3>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>aliquota_cofins_reais</td>
<td>vAliqProd</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 11 dígitos, de 0 a 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>quantidade_vendida</td>
<td>qBCProd</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 12 dígitos, de 0 a 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_cofins</td>
<td>vCOFINS</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="importacao-xml-ii">importacao (XML: II)</h3>

<p>Contém informações sobre imposto de importação. Informar apenas quando o item for sujeito ao II.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>base_calculo_importacao</td>
<td>vBC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_despesas_aduaneiras</td>
<td>vDespAdu</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td><strong>Obrigatório quando usar engine de cálculo taxweb</strong></td>
</tr>
<tr>
<td>valor_imposto_importacao</td>
<td>vII</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_iof</td>
<td>vIOF</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td><strong>Obrigatório quando usar engine de cálculo taxweb</strong></td>
</tr>
</tbody></table>

<h2 id="declaracao_importacao-xml-di">declaracao_importacao (XML: DI)</h2>

<p>Contém informações sobre as declarações de importação contidos na NF-e. No XML, o nó DI é subitem do nó prod e pode conter uma ou mais ocorrência. Seus atributos são:</p>

<aside class="notice">
  Campos decimais devem ser separados por ponto
</aside>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>documento_importacao</td>
<td>nDI</td>
<td>Sim</td>
<td>Numérico</td>
<td>De 1 a 12 dígitos</td>
<td></td>
</tr>
<tr>
<td>data_importacao</td>
<td>dDI</td>
<td>Sim</td>
<td>Data</td>
<td>“AAAA-MM-DD”</td>
<td></td>
</tr>
<tr>
<td>local_desembaraco</td>
<td>xLocDesemb</td>
<td>Sim</td>
<td>Texto</td>
<td>1 a 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>uf_desembaraco</td>
<td>UFDesemb</td>
<td>Sim</td>
<td>Numérico</td>
<td>2 dígitos</td>
<td></td>
</tr>
<tr>
<td>data_desembaraco</td>
<td>dDesemb</td>
<td>Sim</td>
<td>Data</td>
<td>“AAAA-MM-DD”</td>
<td></td>
</tr>
<tr>
<td>via_transporte</td>
<td>tpViaTransp</td>
<td>Sim</td>
<td>Numérico</td>
<td>2 dígitos</td>
<td>1=Marítima;<br>2=Fluvial;<br>3=Lacustre;<br>4=Aérea;<br>5=Postal<br>6=Ferroviária;<br>7=Rodoviária;<br>8=Conduto / Rede Transmissão;<br>9=Meios Próprios;<br>10=Entrada / Saída ficta.<br>11=Courier;<br>12=Handcarry</td>
</tr>
<tr>
<td>valor_afrmm</td>
<td>vAFRMM</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>forma_importacao</td>
<td>tpIntermedio</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td></td>
</tr>
<tr>
<td>cnpj</td>
<td>CNPJ</td>
<td>Não</td>
<td>Numérico</td>
<td>14 dígitos</td>
<td></td>
</tr>
<tr>
<td>uf_adquirente</td>
<td>UFTerceiro</td>
<td>Não</td>
<td>Decimal</td>
<td>2 dígitos</td>
<td></td>
</tr>
<tr>
<td>codigo_exportador</td>
<td>cExportador</td>
<td>Sim</td>
<td>Texto</td>
<td>1 a 60 caracteres</td>
<td></td>
</tr>
</tbody></table>

<h2 id="rastreabilidade-xml-rastro">rastreabilidade (XML: rastro)</h2>

<p>Grupo criado para permitir a rastreabilidade de qualquer produto sujeito a regulações sanitárias, casos de recolhimento/recall, além de defensivos agrícolas, produtos veterinários, odontológicos, medicamentos, bebidas, águas envasadas, embalagens, etc., a partir da indicação de informações de número de lote, data de fabricação/produção, data de validade, etc. <strong>Obrigatório o preenchimento deste grupo no caso de medicamentos e produtos farmacêuticos.</strong></p>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>numero_lote</td>
<td>nLote</td>
<td>Sim</td>
<td>Texto</td>
<td>1 a 20 caracteres</td>
<td></td>
</tr>
<tr>
<td>quantidade_lote</td>
<td>qLote</td>
<td>Sim</td>
<td>Numérico</td>
<td>Até 8 digitos, 3 casas decimais</td>
<td></td>
</tr>
<tr>
<td>data_fabricacao</td>
<td>dFab</td>
<td>Sim</td>
<td>Data</td>
<td>&ldquo;AAAA-MM-DD&rdquo;</td>
<td></td>
</tr>
<tr>
<td>data_validade</td>
<td>dVal</td>
<td>Sim</td>
<td>Data</td>
<td>&ldquo;AAAA-MM-DD&rdquo;</td>
<td></td>
</tr>
<tr>
<td>codigo_agregacao</td>
<td>cAgreg</td>
<td>Não</td>
<td>Numérico</td>
<td>1 a 20 dígitos</td>
<td></td>
</tr>
</tbody></table>

<h2 id="medicamento-xml-med">medicamento (XML: med)</h2>

<p>Contém informações sobre detalhamento de medicamentos e de matérias-primas farmacêuticas</p>

<aside class="notice">
  Campos decimais devem ser separados por ponto
</aside>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>codigo_anvisa</td>
<td>cProdANVISA</td>
<td>Sim</td>
<td>Texto</td>
<td>6 a 13 caracteres</td>
<td></td>
</tr>
<tr>
<td>motivo_isencao</td>
<td>xMotivoIsencao</td>
<td>Não</td>
<td>Texto</td>
<td>1 a 255 caracteres</td>
<td></td>
</tr>
<tr>
<td>preco_maximo</td>
<td>vPMC</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="adicoes-xml-adi">adicoes (XML: adi)</h3>

<p>Contém informações sobre adições de uma declaração de importacao. No XML, o nó adi é subitem do nó DI e pode conter uma ou mais ocorrência. Seus atributos são:</p>

<aside class="notice">
  Campos decimais devem ser separados por ponto
</aside>

<table><thead>
<tr>
<th>Campo</th>
<th>XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>numero_adicao</td>
<td>nAdicao</td>
<td>Sim</td>
<td>Decimal</td>
<td>1 a 3 dígitos</td>
<td></td>
</tr>
<tr>
<td>numero_sequencial</td>
<td>nSeqAdic</td>
<td>Sim</td>
<td>Decimal</td>
<td>1 a 3 dígitos</td>
<td></td>
</tr>
<tr>
<td>codigo_fabricante</td>
<td>cFabricante</td>
<td>Sim</td>
<td>Decimal</td>
<td>1 a 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>valor_desconto</td>
<td>vDescDI</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>numero_drawback</td>
<td>nDraw</td>
<td>Não</td>
<td>Numérico</td>
<td>9 (AANNNNNND) ou 11 dígitos (AAAANNNNNND)</td>
<td></td>
</tr>
</tbody></table>

<h2 id="transporte-xml-transp">transporte (XML: transp)</h2>

<p>Contém informações sobre o frete e o transporte dos produtos ou serviços.</p>

<aside class="notice">
  Campos decimais devem ser separados por ponto
</aside>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>codigo_modalidade</td>
<td>modFrete</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>Seleção entre:<br>0 = Por conta do emitente;<br>1 = Por conta do destinatário/remetente;<br>2 = Por conta de terceiros;<br>9 = Sem frete.<br></td>
</tr>
<tr>
<td>valor_total_frete</td>
<td>vServ</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h3 id="transportadora-xml-transporta">transportadora (XML: transporta)</h3>

<p>Grupo de informações relacionadas à transportadora, caso haja frete.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>razao_social</td>
<td>xNome</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td>Nome (pessoa física) ou Razão Social (Pessoa Jurídica).</td>
</tr>
<tr>
<td>cnpj_cpf</td>
<td>CNPJ ou CPF</td>
<td>Não</td>
<td>Numérico</td>
<td>14 ou 11 dígitos</td>
<td></td>
</tr>
<tr>
<td>inscricao_estadual</td>
<td>IE</td>
<td>Não</td>
<td>Texto e/ou número</td>
<td>De 2 a 14 caracteres</td>
<td>Inscrição Estadual do transportador contribuinte do ICMS, sem caracteres de formatação (ponto, barra, hífen, etc.). Pode ser informado o texto “ISENTO” para transportador isento de inscrição no cadastro de contribuintes ICMS. Não informar a tag para não contribuinte do ICMS. A UF deve ser informada se informado uma IE.</td>
</tr>
<tr>
<td>endereco_completo</td>
<td>xEnder</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>uf</td>
<td>UF</td>
<td>Não</td>
<td>Texto</td>
<td>2 caracteres</td>
<td>Sigla da UF</td>
</tr>
<tr>
<td>municipio</td>
<td>xMun</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
</tbody></table>

<h3 id="retencao_icms-xml-rettransp">retencao_icms (XML: retTransp)</h3>

<p>Informações de retenção de ICMS de transporte.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>cfop</td>
<td>CFOP</td>
<td>Não</td>
<td>Numérico</td>
<td>4 dígitos</td>
<td>CFOP de serviço de transporte.</td>
</tr>
<tr>
<td>valor_base_calculo</td>
<td>vBCRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casa decimais</td>
<td></td>
</tr>
<tr>
<td>aliquota_retencao</td>
<td>pICMSRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 3 dígitos, de 2 a 4 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_retido</td>
<td>vICMSRet</td>
<td>Sim</td>
<td>Decimal</td>
<td>Até 13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>uf</td>
<td>-</td>
<td>Não</td>
<td>Texto</td>
<td>2 caracteres</td>
<td>Sigla da UF</td>
</tr>
<tr>
<td>codigo_municipio</td>
<td>cMunFG</td>
<td>Sim</td>
<td>Numérico</td>
<td>7 dígitos</td>
<td>Código do município de acordo com tabela do IBGE</td>
</tr>
</tbody></table>

<h3 id="veiculo-xml-veictransp">veiculo (XML: veicTransp)</h3>

<p>Dados do veículo utilizado para transporte, caso haja frete. O campo pode ser omitido caso não haja frete.
placa</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>placa</td>
<td>Sim</td>
<td>Texto e/ou número</td>
<td>7 caracteres</td>
<td></td>
<td>Informar em um dos seguintes formatos: XXX9999, XXX999, XX9999 ou XXXX999. Informar a placa em informações complementares quando a placa do veículo tiver lei de formação diversa.</td>
</tr>
<tr>
<td>uf</td>
<td>UF</td>
<td>Sim</td>
<td>Texto</td>
<td>2 caracteres</td>
<td>Sigla da UF</td>
</tr>
<tr>
<td>rntc</td>
<td>RNTC</td>
<td>Não</td>
<td>Texto</td>
<td>Até 20 caracteres</td>
<td>Registro Nacional de Transporte de Carga.</td>
</tr>
</tbody></table>

<h3 id="volume_transportado-xml-vol">volume_transportado (XML: vol)</h3>

<p>Informações dos volumes transportados, se houver. Uma nota comporta até 5.000 volumes. Cada volume deve possuir os conjuntos de campos a seguir:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>quantidade_volumes</td>
<td>qVol</td>
<td>Não</td>
<td>Numérico</td>
<td>Até 15 dígitos</td>
<td></td>
</tr>
<tr>
<td>especie</td>
<td>esp</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>marca</td>
<td>marca</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
<tr>
<td>numeracao_volumes</td>
<td>nVol</td>
<td>Não</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td>Numeração dos volumes transportados</td>
</tr>
<tr>
<td>peso_liquido</td>
<td>peslL</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 12 dígitos, 3 casas decimais</td>
<td>Peso líquido em quilogramas (kG).</td>
</tr>
<tr>
<td>peso_bruto</td>
<td>pesoB</td>
<td>Não</td>
<td>Decimal</td>
<td>Até 12 dígitos, 3 casas decimais</td>
<td>Peso bruto em quilogramas (kG).</td>
</tr>
</tbody></table>

<h3 id="lacres-xml-lacres">lacres (XML: lacres)</h3>

<p>Cada volume transportador pode conter lacres, sendo até 5.000 por volume.</p>

<h3 id="item-da-cole-o-array-de-lacres">Item da coleção (array) de lacres</h3>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>Número do lacre</td>
<td>nLacre</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
</tbody></table>

<h2 id="cobranca-xml-cobr">cobranca (XML: cobr)</h2>

<p>Informações opcionais de cobrança. Seus atributos são:</p>

<aside class="notice">
  Campos decimais devem ser separados por ponto
</aside>

<h3 id="fatura-xml-fat">fatura (XML: fat)</h3>

<p>Subgrupo de informações relacionadas aos dados da fatura. Possui somente uma ocorrência. Apresenta os seguintes atributos:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>numero_fatura</td>
<td>nFat</td>
<td>Não</td>
<td>Texto e/ou número</td>
<td>Até 60 caracteres</td>
<td>Número da fatura.</td>
</tr>
<tr>
<td>valor_original</td>
<td>vOrig</td>
<td>Não</td>
<td>Decimal</td>
<td>13 dígitos, 2 casas decimais</td>
<td>Valor original (bruto) da fatura.</td>
</tr>
<tr>
<td>valor_desconto</td>
<td>vDesc</td>
<td>Não</td>
<td>Decimal</td>
<td>13 dígitos, 2 casas decimais</td>
<td>Valor aplicado de desconto.</td>
</tr>
<tr>
<td>valor_liquido</td>
<td>vLiq</td>
<td>Não</td>
<td>Decimal</td>
<td>13 dígitos, 2 casas decimais</td>
<td>Valor líquido da fatura.</td>
</tr>
</tbody></table>

<h3 id="duplicata-xml-dup">duplicata (XML: dup)</h3>

<p>Subgrupo de informações relacionadas às duplicatas (parcelas da compra). Pode conter até 200 ocorrências e possui os seguintes atributos:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>numero</td>
<td>nDup</td>
<td>Não</td>
<td>Texto e/ou número</td>
<td>Até 60 caracteres</td>
<td>Número da duplicata.</td>
</tr>
<tr>
<td>data_vencimento</td>
<td>dVenc</td>
<td>Não</td>
<td>Data</td>
<td>AAAA-MM-DD</td>
<td>Data de vencimento da duplicata</td>
</tr>
<tr>
<td>valor</td>
<td>vDup</td>
<td>Sim</td>
<td>Decimal</td>
<td>13 dígitos, 2 casas decimais</td>
<td>Valor da duplicata.</td>
</tr>
</tbody></table>

<h2 id="documentos_referenciados-xml-nfref">documentos_referenciados (XML: NFref)</h2>

<p>Este campo é utilizado para referenciar uma Nota Fiscal, modelo 1 ou 1-A, ou NF-e emitida anteriormente e vinculada à NF-e que está sendo emitida. Cabe observar que esta informação será utilizada quando o regulamento do ICMS determinar indicação dos dados de outra nota fiscal referente àquela operação, como, por exemplo, nos casos de devolução de mercadoria, complementação de imposto etc.</p>

<p>Seus atributos são:</p>

<h3 id="tipo_documento">tipo_documento</h3>

<p>Campo interno do Emites para indicar o tipo do documento. Os valores podem ser: NF-e, NF ou Cupom.</p>

<h3 id="tipo_documento-nfe">tipo_documento = “NFe”</h3>

<p>Para notas fiscais eletrônicas relacionadas, é necessário somente a chave de acesso.</p>

<h3 id="chave_acesso">chave_acesso</h3>

<p>Referencia uma NF-e (modelo 55) emitida anteriormente, vinculada à NF-e atual, ou uma NFC-e (modelo 65).</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>refNFe</td>
<td>Sim</td>
<td>Numérico</td>
<td>44 dígitos</td>
<td></td>
</tr>
</tbody></table>

<h3 id="tipo_documento-nf">tipo_documento = “NF”</h3>

<p>Para notas fiscais físicas, os atributos são:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>codigo_uf_emitente</td>
<td>cUF</td>
<td>Sim</td>
<td>Numérico</td>
<td>2 dígitos</td>
<td>Código de acordo com tabela IBGE</td>
</tr>
<tr>
<td>ano_mes_emissao</td>
<td>AAMM</td>
<td>Sim</td>
<td>Numérico</td>
<td>ano (AA) e mês (MM) de emissão da NF</td>
<td></td>
</tr>
<tr>
<td>modelo_documento</td>
<td>mod</td>
<td>Sim</td>
<td>Numérico</td>
<td>2 dígitos</td>
<td>01 = modelo 01</td>
</tr>
<tr>
<td>numero_documento</td>
<td>nNF</td>
<td>Sim</td>
<td>Numérico</td>
<td>Até 9 dígitos</td>
<td></td>
</tr>
<tr>
<td>serie_documento</td>
<td>serie</td>
<td>Sim</td>
<td>Numérico</td>
<td>Até 3 dígitos</td>
<td>Informar zero se não utilizada a série do documento fiscal.</td>
</tr>
<tr>
<td>cnpj_emitente</td>
<td>CNPJ</td>
<td>Sim</td>
<td>Numérico</td>
<td>14 dígitos</td>
<td></td>
</tr>
</tbody></table>

<h3 id="tipo_documento-cupom">tipo_documento = “Cupom”</h3>

<p>Além dos campos similares à nota fiscal física, o cupom fiscal tem os seguintes atributos:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>numero_ecf</td>
<td>nECF</td>
<td>Sim</td>
<td>Numérico</td>
<td>3 dígitos</td>
<td>Número de ordem sequencial de ECF.</td>
</tr>
<tr>
<td>numero_coo</td>
<td>nCOO</td>
<td>Sim</td>
<td>Numérico</td>
<td>6 dígitos</td>
<td>Número do Contador de Ordem de Operação (COO).</td>
</tr>
</tbody></table>

<h2 id="retencao_tributos-xml-rettrib">retencao_tributos (XML: retTrib)</h2>

<aside class="notice">
  Campos decimais devem ser separados por ponto
</aside>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>valor_retido_pis</td>
<td>vRetPIS</td>
<td>Não</td>
<td>Decimal</td>
<td>13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_retido_cofins</td>
<td>vRetCOFINS</td>
<td>Não</td>
<td>Decimal</td>
<td>13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_retido_csll</td>
<td>vRetCSLL</td>
<td>Não</td>
<td>Decimal</td>
<td>13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_base_calculo_irrf</td>
<td>vBCIRRF</td>
<td>Não</td>
<td>Decimal</td>
<td>13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_irrf</td>
<td>vIRRF</td>
<td>Não</td>
<td>Decimal</td>
<td>13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>base_calculo_retencao_previdencia</td>
<td>vBCRetPrev</td>
<td>Não</td>
<td>Decimal</td>
<td>13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
<tr>
<td>valor_retencao_previdencia</td>
<td>vRetPrev</td>
<td>Não</td>
<td>Decimal</td>
<td>13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h2 id="exporta-xml-exporta">exporta (XML: exporta)</h2>

<p>Informações de comércio exterior.</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>uf_embarque</td>
<td>UFSaidaPais</td>
<td>Sim</td>
<td>Texto</td>
<td>2 caracteres</td>
<td>Sigla da UF de Embarque ou de transposição de fronteira.</td>
</tr>
<tr>
<td>local_embarque</td>
<td>xLocExporta</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td>Descrição do Local de Embarque ou de transposição de fronteira.</td>
</tr>
<tr>
<td>local_despacho</td>
<td>xLocDespacho</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td>Descrição do local de despacho.</td>
</tr>
</tbody></table>

<h2 id="forma_de_pagamento-xml-pag">forma_de_pagamento (XML: pag)</h2>

<p>Grupo de Detalhamento da Forma de Pagamento. No XML, o nó detPag é subitem do nó pag e pode conter uma ou mais ocorrência. Seus atributos são:</p>

<aside class="notice">
  Campos decimais devem ser separados por ponto
</aside>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>tipo_de_pagamento</td>
<td>tPag</td>
<td>Sim</td>
<td>Texto</td>
<td>2 caracteres</td>
<td>01=Dinheiro;<br>02=Cheque;<br>03=Cartão de Crédito;<br>04=Cartão de Débito;<br>05=Crédito Loja;<br>10=Vale Alimentação;<br>11=Vale Refeição;<br>12=Vale Presente;<br>13=Vale Combustível;<br>14=Duplicata Mercantil;<br>15=Boleto Bancário;<br>90= Sem pagamento;<br>99=Outros.</td>
</tr>
<tr>
<td>valor_do_pagamento</td>
<td>vPag</td>
<td>Sim</td>
<td>Decimal</td>
<td>13 dígitos, 2 casas decimais</td>
<td></td>
</tr>
</tbody></table>

<h2 id="cartao-xml-card">cartao (XML: card)</h2>

<p>Grupo de Cartões. No XML, o nó card é subitem do nó detPag e pode conter apenas uma ocorrência. Seus atributos são:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>tipo_de_integracao</td>
<td>tpIntegra</td>
<td>Sim</td>
<td>Numérico</td>
<td>1 dígito</td>
<td>1=Pagamento integrado com o sistema de automação da empresa (Ex.: equipamento TEF, Comércio Eletrônico);<br>2= Pagamento não integrado com o sistema de automação da empresa (Ex.: equipamento POS);</td>
</tr>
<tr>
<td>cnpj_credenciadora</td>
<td>CNPJ</td>
<td>Condicional*</td>
<td>Numérico</td>
<td>14 dígitos</td>
<td></td>
</tr>
<tr>
<td>bandeira_operadora</td>
<td>tBand</td>
<td>Condicional*</td>
<td>Numérico</td>
<td>2 caracteres</td>
<td>01=Visa;<br>02=Mastercard;<br>03=American Express;<br>04=Sorocred;<br>05=Diners Club;<br>06=Elo;<br>07=Hipercard;<br>08=Aura;<br>09=Cabal;<br>99=Outros.</td>
</tr>
<tr>
<td>numero_autorizacao_operacao</td>
<td>cAut</td>
<td>Condicional*</td>
<td>Numérico</td>
<td>Até 20 caracteres</td>
<td></td>
</tr>
</tbody></table>

<p>*Obrigatório para emissões realizadas nas seguintes UFs: CE; PE; RN; AL; BA; ES; MS; PB; PR; RJ; TO.</p>

<h2 id="informacoes_adicionais-xml-infadic">informacoes_adicionais (XML: infAdic)</h2>

<p>Grupo de informações adicionais da NF-e. Seus atributos são:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>informacoes_contribuinte</td>
<td>infCpl</td>
<td>Não</td>
<td>Texto</td>
<td>Até 2.000 caracteres</td>
<td>Informações complementares de interesse do Contribuinte.</td>
</tr>
<tr>
<td>informacoes_fisco</td>
<td>infAdFisco</td>
<td>Não</td>
<td>Texto</td>
<td>Até 2.000 caracteres</td>
<td>Informações adicionais de interesse do Fisco.</td>
</tr>
</tbody></table>

<h2 id="responsavel_tecnico-xml-infresptec">responsavel_tecnico (XML: infRespTec)</h2>

<aside class="warning">
  Esses campos não devem ser enviados na requisição.
</aside>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>cnpj</td>
<td>CNPJ</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>CNPJ da pessoa jurídica responsável pelo sistema utilizado na emissão do documento fiscal eletrônico</td>
</tr>
<tr>
<td>contato</td>
<td>xContato</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Nome da pessoa a ser contatada na empresa desenvolvedora do sistema utilizado na emissão do documento fiscal eletrônico</td>
</tr>
<tr>
<td>email</td>
<td>email</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>E-mail da pessoa a ser contatada na empresa desenvolvedora do sistema.</td>
</tr>
<tr>
<td>fone</td>
<td>fone</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>O telefone da pessoa a ser contatada na empresa desenvolvedora do sistema.</td>
</tr>
<tr>
<td>id_csrt</td>
<td>idCSRT</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Identificador do CSRT utilizado para montar o hash do CSRT</td>
</tr>
<tr>
<td>hash_csrt</td>
<td>hashCSRT</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody></table>

<h2 id="resposta_emissao-xml-n-a">resposta_emissao (XML: N/A)</h2>

<p>Grupo informativo de resposta da emissao da NF-e.</p>

<aside class="warning">
  Esses campos não devem ser enviados na requisição.
</aside>

<table><thead>
<tr>
<th>Campo</th>
<th>Campo no XML</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>data_emissao</td>
<td>dhRecbto</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Preenchido com a data e hora do processamento</td>
</tr>
<tr>
<td>codigo_verificacao</td>
<td>digVal</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Digest Value da NF-e processada</td>
</tr>
<tr>
<td>numero_protocolo</td>
<td>nProt</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Número do Protocolo da NF-e</td>
</tr>
<tr>
<td>chave_acesso</td>
<td>chNFe</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Chave de Acesso da NF-e</td>
</tr>
<tr>
<td>erros</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Lista erros da emissão, podendo ser uma mensagem de rejeição da SEFAZ ou uma lista de erros de validação de Schema</td>
</tr>
</tbody></table>

          <h1 id="lista">Lista</h1>

<h2 id="lista-de-nf-e">Lista de NF-e</h2>

<p>Para obter uma lista de NF-e é necessário realizar a seguinte requisição:  </p>

<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/api/v1/organizations/{organization_id}/nfe</h6>
  </div>
</div>

<h3 id="filtro-de-nf-e">Filtro de NF-e</h3>

<p>É possível obter registros específicos usando alguns filtros.</p>

<table><thead>
<tr>
<th>Nome</th>
<th>Obrigatório</th>
<th>Localização</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td>identifier</td>
<td>não</td>
<td>query</td>
<td>Número ou Chave de Acesso da NF-e. <br>Se o valor enviado possuir 44 dígitos será utilizado o atributo <strong>chave de acesso</strong> para a busca, caso contrário será utilizado o atributo <strong>número</strong></td>
</tr>
<tr>
<td>status</td>
<td>não</td>
<td>query</td>
<td>Situação da NF-e na API.<br>Valores válidos: <strong>proccessing, succeeded, denegated, rejected, cancelled, error, cancel_rejected, corrected, correction_rejected, not_sent</strong>.<br> <strong>Deixe em branco ou não envie o parâmetro para listar todas as situações</strong></td>
</tr>
<tr>
<td>sort_type</td>
<td>não</td>
<td>query</td>
<td>Atributo utilizado para ordenar os resultados. <br> Valores válidos: <strong>created_at</strong> e <strong>updated_at</strong><br>Valor padrão: <strong>created_at</strong></td>
</tr>
<tr>
<td>sort_direction</td>
<td>não</td>
<td>query</td>
<td>Sentido que os resultados serão listados.<br> Valores válidos: <strong>desc</strong> e <strong>asc</strong><br>Valor padrão: <strong>desc</strong></td>
</tr>
<tr>
<td>starting_at</td>
<td>não</td>
<td>query</td>
<td>Data inicial (utiliza data de emissão da NF-e).<br>Formato: <strong>DD/MM/AAAA</strong></td>
</tr>
<tr>
<td>ending_at</td>
<td>não</td>
<td>query</td>
<td>Data final (utiliza data de emissão da NF-e).<br>Formato: <strong>DD/MM/AAAA</strong></td>
</tr>
<tr>
<td>page</td>
<td>não</td>
<td>query</td>
<td>Indica o número da página de registros que será retornada.<br>Valor padrão: <strong>1</strong></td>
</tr>
<tr>
<td>per_page</td>
<td>não</td>
<td>query</td>
<td>Indica a quantidade de registros a serem retornados.<br>Valor padrão: <strong>10</strong></td>
</tr>
<tr>
<td>remote_id</td>
<td>não</td>
<td>query</td>
<td>Identificador de requisição. A responsabilidade de gerar e controlar esse identificador é exclusiva do cliente.</td>
</tr>
</tbody></table>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

<span class="c"># Sem o uso dos filtros</span>
curl -X GET <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

<span class="c"># Utilizando os parâmetros para filtrar resultados</span>
curl -X GET <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe?identifier<span class="o">=</span>123&amp;starting_at<span class="o">=</span>01/01/2019&amp;status<span class="o">=</span>succeeded <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>


EXEMPLO DE RESPOSTA:

<span class="o">{</span>
  <span class="s2">"nfe"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"id"</span>: 10990,
        <span class="s2">"status"</span>: <span class="s2">"succeeded"</span>,
        <span class="s2">"data"</span>: <span class="o">{</span>...<span class="o">}</span>,
        <span class="s2">"danfe_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfe/pdf_files/000/015/761/original/danfe.pdf?153719"</span>,
        <span class="s2">"xml_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfe/xml_files/000/015/761/original/nfce.xml?15379"</span>,
        <span class="s2">"taxrules_calculation_log"</span>: null
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<h2 id="lista-de-nfc-e">Lista de NFC-e</h2>

<p>Para obter uma lista de NFC-e é necessário realizar a seguinte requisição:  </p>

<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/api/v1/organizations/{organization_id}/nfce</h6>
  </div>
</div>

<h3 id="filtro-de-nfc-e">Filtro de NFC-e</h3>

<p>É possível obter registros específicos usando alguns filtros.</p>

<table><thead>
<tr>
<th>Nome</th>
<th>Obrigatório</th>
<th>Localização</th>
<th>Descrição</th>
</tr>
</thead><tbody>
<tr>
<td>identifier</td>
<td>não</td>
<td>query</td>
<td>Número ou Chave de Acesso da NFC-e. <br>Se o valor enviado possuir 44 dígitos será utilizado o atributo <strong>chave de acesso</strong> para a busca, caso contrário será utilizado o atributo <strong>número</strong></td>
</tr>
<tr>
<td>status</td>
<td>não</td>
<td>query</td>
<td>Situação da NFC-e na API.<br>Valores válidos: <strong>proccessing, succeeded, denegated, rejected, cancelled, error, cancel_rejected, corrected, correction_rejected, not_sent</strong>.<br> <strong>Deixe em branco ou não envie o parâmetro para listar todas as situações</strong></td>
</tr>
<tr>
<td>sort_type</td>
<td>não</td>
<td>query</td>
<td>Atributo utilizado para ordenar os resultados. <br> Valores válidos: <strong>created_at</strong> e <strong>updated_at</strong><br>Valor padrão: <strong>created_at</strong></td>
</tr>
<tr>
<td>sort_direction</td>
<td>não</td>
<td>query</td>
<td>Sentido que os resultados serão listados.<br> Valores válidos: <strong>desc</strong> e <strong>asc</strong><br>Valor padrão: <strong>desc</strong></td>
</tr>
<tr>
<td>starting_at</td>
<td>não</td>
<td>query</td>
<td>Data inicial (utiliza data de emissão da NFC-e).<br>Formato: <strong>DD/MM/AAAA</strong></td>
</tr>
<tr>
<td>ending_at</td>
<td>não</td>
<td>query</td>
<td>Data final (utiliza data de emissão da NFC-e).<br>Formato: <strong>DD/MM/AAAA</strong></td>
</tr>
<tr>
<td>page</td>
<td>não</td>
<td>query</td>
<td>Indica o número da página de registros que será retornada.<br>Valor padrão: <strong>1</strong></td>
</tr>
<tr>
<td>per_page</td>
<td>não</td>
<td>query</td>
<td>Indica a quantidade de registros a serem retornados.<br>Valor padrão: <strong>10</strong></td>
</tr>
<tr>
<td>remote_id</td>
<td>não</td>
<td>query</td>
<td>Identificador de requisição. A responsabilidade de gerar e controlar esse identificador é exclusiva do cliente.</td>
</tr>
</tbody></table>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

<span class="c"># Sem o uso dos filtros</span>
curl -X GET <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

<span class="c"># Utilizando os parâmetros para filtrar resultados</span>
curl -X GET <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce?identifier<span class="o">=</span>123&amp;starting_at<span class="o">=</span>01/01/2019&amp;status<span class="o">=</span>succeeded <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

EXEMPLO DE RESPOSTA:

<span class="o">{</span>
  <span class="s2">"nfce"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"id"</span>: 10990,
        <span class="s2">"status"</span>: <span class="s2">"succeeded"</span>,
        <span class="s2">"data"</span>: <span class="o">{</span>...<span class="o">}</span>,
        <span class="s2">"danfe_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfce/pdf_files/000/015/761/original/danfe.pdf?153719"</span>,
        <span class="s2">"xml_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfce/xml_files/000/015/761/original/nfce.xml?15379"</span>,
        <span class="s2">"taxrules_calculation_log"</span>: null
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>

          <h1 id="consulta">Consulta</h1>

<h3 id="para-consultar-uma-nf-e-necess-rio-realizar-a-seguinte-requisi-o">Para consultar uma NF-e é necessário realizar a seguinte requisição:</h3>

<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/api/v1/organizations/{organization_id}/nfe/{nfe_id}  </h6>
  </div>
</div>

<p>ou pela chave de acesso:</p>

<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/api/v1/organizations/{organization_id}/nfe/{chave_acesso}  </h6>
  </div>
</div>

<h3 id="e-para-consultar-uma-nfc-e-a-seguinte">E para consultar uma NFC-e, a seguinte:</h3>

<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/api/v1/organizations/{organization_id}/nfce/{nfce_id}  </h6>
  </div>
</div>

<p>ou pela chave de acesso:</p>

<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/api/v1/organizations/{organization_id}/nfce/{chave_acesso}  </h6>
  </div>
</div>

<h3 id="para-consultar-o-valor-total-por-c-digo-de-opera-o-cfop-em-um-determinado-per-odo-fixo">Para consultar o Valor Total por código de operação (CFOP) em um determinado período fixo:</h3>

<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/api/v1/organizations/{organization_id}/document_totals</h6>
  </div>
</div>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"cfop"</span>: <span class="s2">"5000"</span>,
  <span class="s2">"date"</span>: <span class="s2">"20/08/2019"</span>,
  <span class="s2">"date_type"</span>: <span class="s2">"day"</span>
<span class="o">}</span>
</code></pre>

<h2 id="consulta-nf-e-emitida">Consulta NF-e Emitida</h2>

<p>Segue abaixo um exemplo de requisição de emissão em lote com sucesso que será utilizado para posterior consulta:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe_batch <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
        "nfe_batch": {
          "lote": 1,
          "sincronicidade": 0,
          "serie": 611,
          "uf": 53,
          "nfes": [
            {
              "dados_gerais": {
                "uf": 53,
                "codigo_mun_ocorrencia": "5300108",
                "natureza_operacao": "saida",
                "tipo_operacao": 1,
                "indicador_consumidor_final": 0,
                "indicador_presenca": 0,
                "forma_contingencia": "",
                "finalidade_nfe": 1,
                "destino_operacao": "1"
              },
              "cliente": {
                "cpf_cnpj": "68763591669",
                "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                "pessoa_fisica_juridica": "person",
                "telefone": "21988766743",
                "inscricao_estadual": "0736913700156",
                "inscricao_municipal": "",
                "inscricao_suframa": "",
                "indicador_inscricao_estadual": 1,
                "email": "teste@teste.com",
                "endereco": {
                  "logradouro": "Rua do Consultor",
                  "complemento": "BL A",
                  "numero": "14",
                  "bairro": "Bairro teste",
                  "codigo_municipio": "5300108",
                  "nome_municipio": "Brasilia",
                  "codigo_pais": "1058",
                  "nome_pais": "Brasil",
                  "uf": "DF",
                  "cep": "05685040"
                }
              },
              "produtos": [
                {
                  "codigo_produto": 14589,
                  "codigo_ean": 7891125063000,
                  "descricao": "VODKA NATASHA 1L UN 1X1000ML",
                  "cfop": 5403,
                  "valor_unitario_comercial": 10.38,
                  "valor_unitario_tributario": 10.38,
                  "valor_total_produto": "62.28",
                  "valor_desconto": 10.90,
                  "quantidade_comercial": 6,
                  "quantidade_tributaria": 6,
                  "unidade_comercial": "UN",
                  "unidade_tributaria": "UN",
                  "num_pedido": 5100003910,
                  "num_item_pedido": 1,
                  "ean_unidade_trib": 7891125063000,
                  "extipi": 22,
                  "ncm": 22086000,
                  "cest": 1300402,
                  "producao_escala": "s",
                  "valor_frete": 10,
                  "valor_seguro": 11.50,
                  "outras_despesas": 20,
                  "tributacao": {
                    "valor_aproximado_total": 50.21,
                    "icms": {
                      "situacao_tributaria": "10",
                      "modalidade_base_calculo": 3,
                      "codigo_origem_produto": 0,
                      "valor_base_calculo": 62.32,
                      "aliquota_icms": 29,
                      "valor_icms": 18.07,
                      "modalidade_base_calculo_st": 4,
                      "valor_base_calculo_st": 80.41,
                      "perc_mva_icms_st": 29.0400,
                      "aliquota_icms_st": 31,
                      "valor_icms_st": 6.86,
                      "valor_fcp_interestadual": 19.61
                    },
                    "ipi": {
                      "situacao_tributaria": "99",
                      "codigo_enquadramento": 999,
                      "valor_ipi": 14.4
                    },
                    "pis": {
                      "situacao_tributaria": "01",
                      "valor_base_calculo": 62.32,
                      "aliquota_pis": 1.65,
                      "valor_pis": 1.03
                    },
                    "cofins": {
                      "situacao_tributaria": "01",
                      "valor_base_calculo": "129.62",
                      "aliquota_cofins": "7.60",
                      "valor_cofins": "9.85"
                    }
                  }
                }
              ],
              "forma_de_pagamento": [
                {
                  "tipo_de_pagamento": "01",
                  "valor_do_pagamento": 114.14
                }
              ],
              "transporte": {
                "valor_total_frete": 0,
                "codigo_modalidade": 9,
                "codigo_transportadora": 1,
                "transportadora": {
                  "cnpj_cpf": 81043396000156,
                  "razao_social": "teste",
                  "inscricao_estadual": "",
                  "insencao_icms": "",
                  "endereco_completo": "rua teste, 111",
                  "municipio": "Brasilia",
                  "uf": "DF"
                },
                "volume_transportado": [
                  {
                    "quantidade_volumes": 5,
                    "numeracao_volumes": 333,
                    "marca": "teste",
                    "especie": "pacote",
                    "peso_liquido": "3000",
                    "peso_bruto": "4050"
                  }
                ]
              }
            }
          ]
        }
      }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfe_batch"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 169,
    <span class="s2">"key"</span>: null,
    <span class="s2">"nfes"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: 350, <span class="c"># Identificador da NF-e</span>
        <span class="s2">"status"</span>: <span class="s2">"processing"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>A resposta conterá os mesmos campos que foram enviados na requisição, e adicionalmente campos exclusivos específicos sobre o status da NF-e:</p>

<p>Para consultar a NF-e criada, é necessário realizar a seguinte requisição utilizando o identificador da NF-e contido na resposta:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X GET <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe/350 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>


EXEMPLO DE RESPOSTA:

<span class="o">{</span>
  <span class="s2">"nfe"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 350,
    <span class="s2">"status"</span>: <span class="s2">"succeeded"</span>,
    <span class="s2">"data"</span>: <span class="o">{</span>
      ...
      <span class="s2">"resposta_emissao"</span>: <span class="o">{</span>
        <span class="s2">"data_emissao"</span>: <span class="s2">"2019-02-21T16:30:12.000-03:00"</span>,
        <span class="s2">"codigo_verificacao"</span>: <span class="s2">"d0X2SUrxM6IDrmJnIA36/D5LKrE="</span>,
        <span class="s2">"numero_protocolo"</span>: <span class="s2">"3531900003011886"</span>,
        <span class="s2">"chave_acesso"</span>: <span class="s2">"53190222769530000131556110000002001616311935"</span>
      <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"danfe_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfe/pdf_files/000/015/350/original/danfe.pdf?153719"</span>,
    <span class="s2">"xml_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfe/xml_files/000/015/350/original/nfe.xml?15379"</span>,
    <span class="s2">"taxrules_calculation_log"</span>: null
  <span class="o">}</span>
<span class="o">}</span>

EXEMPLO DE REQUISIÇÃO USANDO A CHAVE DE ACESSO

curl -X GET <span class="se">\</span>
  https://app.emites.com.br/api/v1/organizations/11/nfe/53190222769530000131556110000002001616311935 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>


EXEMPLO DE RESPOSTA:

<span class="o">{</span>
  <span class="s2">"nfe"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 350,
    <span class="s2">"status"</span>: <span class="s2">"succeeded"</span>,
    <span class="s2">"data"</span>: <span class="o">{</span>
      ...
      <span class="s2">"resposta_emissao"</span>: <span class="o">{</span>
        <span class="s2">"data_emissao"</span>: <span class="s2">"2019-02-21T16:30:12.000-03:00"</span>,
        <span class="s2">"codigo_verificacao"</span>: <span class="s2">"d0X2SUrxM6IDrmJnIA36/D5LKrE="</span>,
        <span class="s2">"numero_protocolo"</span>: <span class="s2">"3531900003011886"</span>,
        <span class="s2">"chave_acesso"</span>: <span class="s2">"53190222769530000131556110000002001616311935"</span>
      <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"danfe_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfe/pdf_files/000/015/350/original/danfe.pdf?153719"</span>,
    <span class="s2">"xml_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfe/xml_files/000/015/350/original/nfe.xml?15379"</span>,
    <span class="s2">"taxrules_calculation_log"</span>: null
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="consulta-nf-e-rejeitada-sefaz">Consulta NF-e Rejeitada (SEFAZ)</h2>

<p>Segue abaixo um exemplo de requisição de emissão em lote com rejeição da SEFAZ que será utilizado para posterior consulta:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe_batch <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
        "nfe_batch": {
          "lote": 1,
          "sincronicidade": 0,
          "serie": 611,
          "uf": 53,
          "nfes": [
            {
              "dados_gerais": {
                "uf": 53,
                "codigo_mun_ocorrencia": "5300108",
                "natureza_operacao": "saida",
                "tipo_operacao": 0, # Alterado para NF-e de Entrada
                "indicador_consumidor_final": 0,
                "indicador_presenca": 0,
                "finalidade_nfe": 1,
                "destino_operacao": "1"
              },
              "cliente": {
                "cpf_cnpj": "68763591669",
                "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                "pessoa_fisica_juridica": "person",
                "telefone": "21988766743",
                "inscricao_estadual": "0736913700156",
                "inscricao_municipal": "",
                "inscricao_suframa": "",
                "indicador_inscricao_estadual": 1,
                "email": "teste@teste.com",
                "endereco": {
                  "logradouro": "Rua do Consultor",
                  "complemento": "BL A",
                  "numero": "14",
                  "bairro": "Bairro teste",
                  "codigo_municipio": "5300108",
                  "nome_municipio": "Brasilia",
                  "codigo_pais": "1058",
                  "nome_pais": "Brasil",
                  "uf": "DF",
                  "cep": "05685040"
                }
              },
              "produtos": [
                {
                  "codigo_produto": 14589,
                  "codigo_ean": 7891125063000,
                  "descricao": "VODKA NATASHA 1L UN 1X1000ML",
                  "cfop": 5403, # CFOP de Saída
                  "valor_unitario_comercial": 10.38,
                  "valor_unitario_tributario": 10.38,
                  "valor_total_produto": "62.28",
                  "valor_desconto": 10.90,
                  "quantidade_comercial": 6,
                  "quantidade_tributaria": 6,
                  "unidade_comercial": "UN",
                  "unidade_tributaria": "UN",
                  "num_pedido": 5100003910,
                  "num_item_pedido": 1,
                  "ean_unidade_trib": 7891125063000,
                  "extipi": 22,
                  "ncm": 22086000,
                  "cest": 1300402,
                  "producao_escala": "s",
                  "valor_frete": 10,
                  "valor_seguro": 11.50,
                  "outras_despesas": 20,
                  "tributacao": {
                    "valor_aproximado_total": 50.21,
                    "icms": {
                      "situacao_tributaria": "10",
                      "modalidade_base_calculo": 3,
                      "codigo_origem_produto": 0,
                      "valor_base_calculo": 62.32,
                      "aliquota_icms": 29,
                      "valor_icms": 18.07,
                      "modalidade_base_calculo_st": 4,
                      "valor_base_calculo_st": 80.41,
                      "perc_mva_icms_st": 29.0400,
                      "aliquota_icms_st": 31,
                      "valor_icms_st": 6.86,
                      "valor_fcp_interestadual": 19.61
                    },
                    "ipi": {
                      "situacao_tributaria": "99",
                      "codigo_enquadramento": 999,
                      "valor_ipi": 14.4
                    },
                    "pis": {
                      "situacao_tributaria": "01",
                      "valor_base_calculo": 62.32,
                      "aliquota_pis": 1.65,
                      "valor_pis": 1.03
                    },
                    "cofins": {
                      "situacao_tributaria": "01",
                      "valor_base_calculo": "129.62",
                      "aliquota_cofins": "7.60",
                      "valor_cofins": "9.85"
                    }
                  }
                }
              ],
              "forma_de_pagamento": [
                {
                  "tipo_de_pagamento": "01",
                  "valor_do_pagamento": 114.14
                }
              ],
              "transporte": {
                "valor_total_frete": 0,
                "codigo_modalidade": 9,
                "codigo_transportadora": 1,
                "transportadora": {
                  "cnpj_cpf": 81043396000156,
                  "razao_social": "teste",
                  "inscricao_estadual": "",
                  "insencao_icms": "",
                  "endereco_completo": "rua teste, 111",
                  "municipio": "Brasilia",
                  "uf": "DF"
                },
                "volume_transportado": [
                  {
                    "quantidade_volumes": 5,
                    "numeracao_volumes": 333,
                    "marca": "teste",
                    "especie": "pacote",
                    "peso_liquido": "3000",
                    "peso_bruto": "4050"
                  }
                ]
              }
            }
          ]
        }
      }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfe_batch"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 170,
    <span class="s2">"key"</span>: null,
    <span class="s2">"nfes"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: 351, <span class="c"># Identificador da NF-e</span>
        <span class="s2">"status"</span>: <span class="s2">"processing"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>A resposta conterá os mesmos campos que foram enviados na requisição, e adicionalmente campos exclusivos específicos sobre o status de rejeição da NF-e:</p>

<p>Para consultar a NF-e criada, é necessário realizar a seguinte requisição utilizando o identificador da NF-e contido na resposta:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X GET <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe/351 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>


EXEMPLO DE RESPOSTA:

<span class="o">{</span>
  <span class="s2">"nfe"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 351,
    <span class="s2">"status"</span>: <span class="s2">"rejected"</span>,
    <span class="s2">"data"</span>: <span class="o">{</span>
      ...
      <span class="s2">"resposta_emissao"</span>: <span class="o">{</span>
        <span class="s2">"erros"</span>: <span class="o">[</span>
          <span class="s2">"519 = Rejeicao: CFOP de saida para NF-e de entrada"</span>
        <span class="o">]</span>
      <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"danfe_url"</span>: <span class="s2">""</span>,
    <span class="s2">"xml_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfe/xml_files/000/015/351/original/nfe.xml?15379"</span>,
    <span class="s2">"taxrules_calculation_log"</span>: null
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="consulta-nf-e-denegada-sefaz">Consulta NF-e Denegada (SEFAZ)</h2>

<p>Segue abaixo um exemplo de requisição de emissão em lote com uma NF-e denegada na SEFAZ que será utilizado para posterior consulta (Só será denegada se houverem irregularidades na SEFAZ com as partes envolvidas na emissão, no caso, emitente ou destinatário):</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe_batch <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
        "nfe_batch": {
          "lote": 1,
          "sincronicidade": 0,
          "serie": 611,
          "uf": 53,
          "nfes": [
            {
              "dados_gerais": {
                "uf": 53,
                "codigo_mun_ocorrencia": "5300108",
                "natureza_operacao": "saida",
                "tipo_operacao": 0, # Alterado para NF-e de Entrada
                "indicador_consumidor_final": 0,
                "indicador_presenca": 0,
                "finalidade_nfe": 1,
                "destino_operacao": "1"
              },
              "cliente": {
                "cpf_cnpj": "68763591669",
                "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                "pessoa_fisica_juridica": "person",
                "telefone": "21988766743",
                "inscricao_estadual": "0736913700156",
                "inscricao_municipal": "",
                "inscricao_suframa": "",
                "indicador_inscricao_estadual": 1,
                "email": "teste@teste.com",
                "endereco": {
                  "logradouro": "Rua do Consultor",
                  "complemento": "BL A",
                  "numero": "14",
                  "bairro": "Bairro teste",
                  "codigo_municipio": "5300108",
                  "nome_municipio": "Brasilia",
                  "codigo_pais": "1058",
                  "nome_pais": "Brasil",
                  "uf": "DF",
                  "cep": "05685040"
                }
              },
              "produtos": [
                {
                  "codigo_produto": 14589,
                  "codigo_ean": 7891125063000,
                  "descricao": "VODKA NATASHA 1L UN 1X1000ML",
                  "cfop": 5403, # CFOP de Saída
                  "valor_unitario_comercial": 10.38,
                  "valor_unitario_tributario": 10.38,
                  "valor_total_produto": "62.28",
                  "valor_desconto": 10.90,
                  "quantidade_comercial": 6,
                  "quantidade_tributaria": 6,
                  "unidade_comercial": "UN",
                  "unidade_tributaria": "UN",
                  "num_pedido": 5100003910,
                  "num_item_pedido": 1,
                  "ean_unidade_trib": 7891125063000,
                  "extipi": 22,
                  "ncm": 22086000,
                  "cest": 1300402,
                  "producao_escala": "s",
                  "valor_frete": 10,
                  "valor_seguro": 11.50,
                  "outras_despesas": 20,
                  "tributacao": {
                    "valor_aproximado_total": 50.21,
                    "icms": {
                      "situacao_tributaria": "10",
                      "modalidade_base_calculo": 3,
                      "codigo_origem_produto": 0,
                      "valor_base_calculo": 62.32,
                      "aliquota_icms": 29,
                      "valor_icms": 18.07,
                      "modalidade_base_calculo_st": 4,
                      "valor_base_calculo_st": 80.41,
                      "perc_mva_icms_st": 29.0400,
                      "aliquota_icms_st": 31,
                      "valor_icms_st": 6.86,
                      "valor_fcp_interestadual": 19.61
                    },
                    "ipi": {
                      "situacao_tributaria": "99",
                      "codigo_enquadramento": 999,
                      "valor_ipi": 14.4
                    },
                    "pis": {
                      "situacao_tributaria": "01",
                      "valor_base_calculo": 62.32,
                      "aliquota_pis": 1.65,
                      "valor_pis": 1.03
                    },
                    "cofins": {
                      "situacao_tributaria": "01",
                      "valor_base_calculo": "129.62",
                      "aliquota_cofins": "7.60",
                      "valor_cofins": "9.85"
                    }
                  }
                }
              ],
              "forma_de_pagamento": [
                {
                  "tipo_de_pagamento": "01",
                  "valor_do_pagamento": 114.14
                }
              ],
              "transporte": {
                "valor_total_frete": 0,
                "codigo_modalidade": 9,
                "codigo_transportadora": 1,
                "transportadora": {
                  "cnpj_cpf": 81043396000156,
                  "razao_social": "teste",
                  "inscricao_estadual": "",
                  "insencao_icms": "",
                  "endereco_completo": "rua teste, 111",
                  "municipio": "Brasilia",
                  "uf": "DF"
                },
                "volume_transportado": [
                  {
                    "quantidade_volumes": 5,
                    "numeracao_volumes": 333,
                    "marca": "teste",
                    "especie": "pacote",
                    "peso_liquido": "3000",
                    "peso_bruto": "4050"
                  }
                ]
              }
            }
          ]
        }
      }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfe_batch"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 170,
    <span class="s2">"key"</span>: null,
    <span class="s2">"nfes"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: 351, <span class="c"># Identificador da NF-e</span>
        <span class="s2">"status"</span>: <span class="s2">"processing"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>A resposta conterá os mesmos campos que foram enviados na requisição, e adicionalmente campos exclusivos específicos sobre o status de rejeição da NF-e:</p>

<p>Para consultar a NF-e criada, é necessário realizar a seguinte requisição utilizando o identificador da NF-e contido na resposta:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X GET <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe/351 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>


EXEMPLO DE RESPOSTA:

<span class="o">{</span>
  <span class="s2">"nfe"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 351,
    <span class="s2">"status"</span>: <span class="s2">"denegated"</span>,
    <span class="s2">"data"</span>: <span class="o">{</span>
      ...
      <span class="s2">"resposta_emissao"</span>: <span class="o">{</span>
        <span class="s2">"erros"</span>: <span class="o">[</span>
          <span class="s2">"303 = Uso Denegado: Destinatário não habilitado a operar na UF"</span>
        <span class="o">]</span>
      <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"danfe_url"</span>: <span class="s2">""</span>,
    <span class="s2">"xml_url"</span>: <span class="s2">""</span>,
    <span class="s2">"taxrules_calculation_log"</span>: null
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="consulta-nf-e-rejeitada-valida-o">Consulta NF-e Rejeitada (Validação)</h2>

<p>Segue abaixo um exemplo de requisição de emissão em lote com rejeição por erro de validação de Schema que será utilizado para posterior consulta:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe_batch <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
        "nfe_batch": {
          "lote": 1,
          "sincronicidade": 0,
          "serie": 611,
          "uf": 53,
          "nfes": [
            {
              "dados_gerais": {
                "uf": 53,
                "codigo_mun_ocorrencia": "5300108",
                "natureza_operacao": "saida",
                "tipo_operacao": 3, # Alterado para valor que não existe
                "indicador_consumidor_final": 0,
                "indicador_presenca": 0,
                "finalidade_nfe": 1,
                "destino_operacao": "1"
              },
              "cliente": {
                "cpf_cnpj": "68763591669",
                "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                "pessoa_fisica_juridica": "person",
                "telefone": "21988766743",
                "inscricao_estadual": "0736913700156",
                "inscricao_municipal": "",
                "inscricao_suframa": "",
                "indicador_inscricao_estadual": 1,
                "email": "teste@teste.com",
                "endereco": {
                  "logradouro": "Rua do Consultor",
                  "complemento": "BL A",
                  "numero": "14",
                  "bairro": "Bairro teste",
                  "codigo_municipio": "5300108",
                  "nome_municipio": "Brasilia",
                  "codigo_pais": "1058",
                  "nome_pais": "Brasil",
                  "uf": "DF",
                  "cep": "05685040"
                }
              },
              "produtos": [
                {
                  "codigo_produto": 14589,
                  "codigo_ean": 7891125063000,
                  "descricao": "VODKA NATASHA 1L UN 1X1000ML",
                  "cfop": 5403,
                  "valor_unitario_comercial": 10.38,
                  "valor_unitario_tributario": 10.38,
                  "valor_total_produto": "62.28",
                  "valor_desconto": 10.90,
                  "quantidade_comercial": 6,
                  "quantidade_tributaria": 6,
                  "unidade_comercial": "UN",
                  "unidade_tributaria": "UN",
                  "num_pedido": 5100003910,
                  "num_item_pedido": 1,
                  "ean_unidade_trib": 7891125063000,
                  "extipi": 22,
                  "ncm": 22086000,
                  "cest": 1300402,
                  "producao_escala": "s",
                  "valor_frete": 10,
                  "valor_seguro": 11.50,
                  "outras_despesas": 20,
                  "tributacao": {
                    "valor_aproximado_total": 50.21,
                    "icms": {
                      "situacao_tributaria": "10",
                      "modalidade_base_calculo": 3,
                      "codigo_origem_produto": 0,
                      "valor_base_calculo": 62.32,
                      "aliquota_icms": 29,
                      "valor_icms": 18.07,
                      "modalidade_base_calculo_st": 4,
                      "valor_base_calculo_st": 80.41,
                      "perc_mva_icms_st": 29.0400,
                      "aliquota_icms_st": 31,
                      "valor_icms_st": 6.86,
                      "valor_fcp_interestadual": 19.61
                    },
                    "ipi": {
                      "situacao_tributaria": "99",
                      "codigo_enquadramento": 999,
                      "valor_ipi": 14.4
                    },
                    "pis": {
                      "situacao_tributaria": "01",
                      "valor_base_calculo": 62.32,
                      "aliquota_pis": 1.65,
                      "valor_pis": 1.03
                    },
                    "cofins": {
                      "situacao_tributaria": "01",
                      "valor_base_calculo": "129.62",
                      "aliquota_cofins": "7.60",
                      "valor_cofins": "9.85"
                    }
                  }
                }
              ],
              "forma_de_pagamento": [
                {
                  "tipo_de_pagamento": "01",
                  "valor_do_pagamento": 114.14
                }
              ],
              "transporte": {
                "valor_total_frete": 0,
                "codigo_modalidade": 9,
                "codigo_transportadora": 1,
                "transportadora": {
                  "cnpj_cpf": 81043396000156,
                  "razao_social": "teste",
                  "inscricao_estadual": "",
                  "insencao_icms": "",
                  "endereco_completo": "rua teste, 111",
                  "municipio": "Brasilia",
                  "uf": "DF"
                },
                "volume_transportado": [
                  {
                    "quantidade_volumes": 5,
                    "numeracao_volumes": 333,
                    "marca": "teste",
                    "especie": "pacote",
                    "peso_liquido": "3000",
                    "peso_bruto": "4050"
                  }
                ]
              }
            }
          ]
        }
      }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfe_batch"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 171,
    <span class="s2">"key"</span>: null,
    <span class="s2">"nfes"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: 352, <span class="c"># Identificador da NF-e</span>
        <span class="s2">"status"</span>: <span class="s2">"processing"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>A resposta conterá os mesmos campos que foram enviados na requisição, e adicionalmente campos exclusivos específicos sobre o status de rejeição causada por erro de validação de Schema da NF-e:</p>

<p>Para consultar a NF-e criada, é necessário realizar a seguinte requisição utilizando o identificador da NF-e contido na resposta:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X GET <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe/352 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>


EXEMPLO DE RESPOSTA:

<span class="o">{</span>
  <span class="s2">"nfe"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 352,
    <span class="s2">"status"</span>: <span class="s2">"rejected"</span>,
    <span class="s2">"data"</span>: <span class="o">{</span>
      ...
      <span class="s2">"resposta_emissao"</span>: <span class="o">{</span>
        <span class="s2">"erros"</span>: <span class="o">[</span>
          <span class="s2">"O campo 'tpNF' contém o valor '3' mas não está entre: '{'0', '1'}'. Verifique o node: dados_gerais.tipo_operacao"</span>,
          <span class="s2">"O valor '3' do campo 'tpNF' não é válido. Verifique o node: dados_gerais.tipo_operacao"</span>
        <span class="o">]</span>
      <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"danfe_url"</span>: <span class="s2">""</span>,
    <span class="s2">"xml_url"</span>: <span class="s2">""</span>,
    <span class="s2">"taxrules_calculation_log"</span>: null
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="consulta-nfc-e-emitida">Consulta NFC-e Emitida</h2>

<p>Segue abaixo um exemplo de requisição de emissão em lote com sucesso que será utilizado para posterior consulta:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce_batch <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
        "nfce_batch": {
          "lote": 1,
          "sincronicidade": 0,
          "uf": "53",
          "serie": 717,
          "nfces": [
            {
              "dados_gerais": {
                "uf": "53",
                "serie": 717,
                "codigo_mun_ocorrencia": "5300108",
                "natureza_operacao": "saida",
                "csc": "000009",
                "id_token": "A16A5A2DD8FA443FV6710F5AB8EB5432",
                "tipo_operacao": "1",
                "destino_operacao": "1",
                "finalidade_nfe": "1",
                "indicador_presenca": "1"
              },
              "produtos": [
                {
                  "informacoes_adicionais": "teste",
                  "codigo_produto": "14600",
                  "codigo_ean": "7891000315507",
                  "descricao": "NOTA FISCAL EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                  "ncm": "22086000",
                  "cest": "1300402",
                  "extipi": "22",
                  "cfop": "5103",
                  "unidade_comercial": "UN",
                  "ean_unidade_trib": "7891000315507",
                  "unidade_tributaria": "UN",
                  "num_pedido": "5100003910",
                  "num_item_pedido": "1",
                  "quantidade_comercial": 739,
                  "valor_unitario_comercial": 0.4086,
                  "quantidade_tributaria": 739,
                  "valor_unitario_tributario": 0.4086,
                  "valor_frete": 0,
                  "valor_seguro": 0,
                  "valor_desconto": 0,
                  "valor_total_produto": 301.96,
                  "outras_despesas": 0,
                  "tributacao": {
                    "valor_aproximado_total": 82.28,
                    "icms": {
                      "aliquota_icms": 18,
                      "valor_base_calculo": 301.96,
                      "valor_icms": 54.35,
                      "modalidade_base_calculo": "1",
                      "codigo_origem_produto": 0,
                      "situacao_tributaria": "00"
                    },
                    "pis": {
                      "valor_base_calculo": 301.96,
                      "situacao_tributaria": "01",
                      "aliquota_pis": 1.65,
                      "valor_pis": 4.98
                    },
                    "cofins": {
                      "valor_base_calculo": 301.96,
                      "situacao_tributaria": "01",
                      "aliquota_cofins": 7.6,
                      "valor_cofins": 22.95
                    }
                  }
                }
              ],
              "forma_de_pagamento": [
                {
                  "tipo_de_pagamento": "03",
                  "valor_do_pagamento": 301.96,
                  "tipo_de_integracao": 1,
                  "cnpj_credenciadora": "64187888000104",
                  "bandeira_operadora": "01",
                  "numero_autorizacao_operacao": "1"
                }
              ]
            }
          ]
        }
      }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfce_batch"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 53,
    <span class="s2">"key"</span>: null,
    <span class="s2">"nfces"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: 109, <span class="c"># Identificador da NFC-e</span>
        <span class="s2">"status"</span>: <span class="s2">"processing"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>A resposta conterá os mesmos campos que foram enviados na requisição, e adicionalmente campos exclusivos específicos sobre o status da NFC-e:</p>

<p>Para consultar a NFC-e criada, é necessário realizar a seguinte requisição utilizando o identificador da NFC-e contido na resposta:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X GET <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce/109 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>


EXEMPLO DE RESPOSTA:

<span class="o">{</span>
  <span class="s2">"nfce"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 109,
    <span class="s2">"status"</span>: <span class="s2">"succeeded"</span>,
    <span class="s2">"data"</span>: <span class="o">{</span>
      ...
      <span class="s2">"resposta_emissao"</span>: <span class="o">{</span>
        <span class="s2">"data_emissao"</span>: <span class="s2">"2019-02-21T12:04:39.000-03:00"</span>,
        <span class="s2">"codigo_verificacao"</span>: <span class="s2">"blHtjEXhgCfW8LknVU9QKfbBM4o="</span>,
        <span class="s2">"numero_protocolo"</span>: <span class="s2">"353190000052272"</span>,
        <span class="s2">"chave_acesso"</span>: <span class="s2">"53190222769530000131657170000000501127125918"</span>
      <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"danfe_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfce/pdf_files/000/015/109/original/danfe.pdf?153719"</span>,
    <span class="s2">"xml_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfce/xml_files/000/015/109/original/nfce.xml?15379"</span>,
    <span class="s2">"taxrules_calculation_log"</span>: null
  <span class="o">}</span>
<span class="o">}</span>

EXEMPLO DE REQUISIÇÃO USANDO CHAVE DE ACESSO

curl -X GET <span class="se">\</span>
  https://app.emites.com.br/api/v1/organizations/11/nfce/53190222769530000131657170000000501127125918 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>


EXEMPLO DE RESPOSTA:

<span class="o">{</span>
  <span class="s2">"nfce"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 109,
    <span class="s2">"status"</span>: <span class="s2">"succeeded"</span>,
    <span class="s2">"data"</span>: <span class="o">{</span>
      ...
      <span class="s2">"resposta_emissao"</span>: <span class="o">{</span>
        <span class="s2">"data_emissao"</span>: <span class="s2">"2019-02-21T12:04:39.000-03:00"</span>,
        <span class="s2">"codigo_verificacao"</span>: <span class="s2">"blHtjEXhgCfW8LknVU9QKfbBM4o="</span>,
        <span class="s2">"numero_protocolo"</span>: <span class="s2">"353190000052272"</span>,
        <span class="s2">"chave_acesso"</span>: <span class="s2">"53190222769530000131657170000000501127125918"</span>
      <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"danfe_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfce/pdf_files/000/015/109/original/danfe.pdf?153719"</span>,
    <span class="s2">"xml_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfce/xml_files/000/015/109/original/nfce.xml?15379"</span>,
    <span class="s2">"taxrules_calculation_log"</span>: null
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="consulta-nfc-e-rejeitada-sefaz">Consulta NFC-e Rejeitada (SEFAZ)</h2>

<p>Segue abaixo um exemplo de requisição de emissão em lote com rejeição da SEFAZ que será utilizado para posterior consulta:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce_batch <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
        "nfce_batch": {
          "lote": 1,
          "sincronicidade": 0,
          "uf": "53",
          "serie": 717,
          "nfces": [
            {
              "dados_gerais": {
                "uf": "53",
                "serie": 717,
                "codigo_mun_ocorrencia": "5300108",
                "natureza_operacao": "saida",
                "csc": "000009",
                "id_token": "A16A5A2DD8FA443FV6710F5AB8EB5432",
                "tipo_operacao": 0, # Alterado para NFC-e de Entrada
                "destino_operacao": "1",
                "finalidade_nfe": "1",
                "indicador_presenca": "1"
              },
              "produtos": [
                {
                  "informacoes_adicionais": "teste",
                  "codigo_produto": "14600",
                  "codigo_ean": "7891000315507",
                  "descricao": "NOTA FISCAL EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                  "ncm": "22086000",
                  "cest": "1300402",
                  "extipi": "22",
                  "cfop": "5103",
                  "unidade_comercial": "UN",
                  "ean_unidade_trib": "7891000315507",
                  "unidade_tributaria": "UN",
                  "num_pedido": "5100003910",
                  "num_item_pedido": "1",
                  "quantidade_comercial": 739,
                  "valor_unitario_comercial": 0.4086,
                  "quantidade_tributaria": 739,
                  "valor_unitario_tributario": 0.4086,
                  "valor_frete": 0,
                  "valor_seguro": 0,
                  "valor_desconto": 0,
                  "valor_total_produto": 301.96,
                  "outras_despesas": 0,
                  "tributacao": {
                    "valor_aproximado_total": 82.28,
                    "icms": {
                      "aliquota_icms": 18,
                      "valor_base_calculo": 301.96,
                      "valor_icms": 54.35,
                      "modalidade_base_calculo": "1",
                      "codigo_origem_produto": 0,
                      "situacao_tributaria": "00"
                    },
                    "pis": {
                      "valor_base_calculo": 301.96,
                      "situacao_tributaria": "01",
                      "aliquota_pis": 1.65,
                      "valor_pis": 4.98
                    },
                    "cofins": {
                      "valor_base_calculo": 301.96,
                      "situacao_tributaria": "01",
                      "aliquota_cofins": 7.6,
                      "valor_cofins": 22.95
                    }
                  }
                }
              ],
              "forma_de_pagamento": [
                {
                  "tipo_de_pagamento": "03",
                  "valor_do_pagamento": 301.96,
                  "tipo_de_integracao": 1,
                  "cnpj_credenciadora": "64187888000104",
                  "bandeira_operadora": "01",
                  "numero_autorizacao_operacao": "1"
                }
              ]
            }
          ]
        }
      }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfce_batch"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 53,
    <span class="s2">"key"</span>: null,
    <span class="s2">"nfces"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: 110, <span class="c"># Identificador da NFC-e</span>
        <span class="s2">"status"</span>: <span class="s2">"processing"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>A resposta conterá os mesmos campos que foram enviados na requisição, e adicionalmente campos exclusivos específicos sobre o status de rejeição da NFC-e:</p>

<p>Para consultar a NFC-e criada, é necessário realizar a seguinte requisição utilizando o identificador da NFC-e contido na resposta:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X GET <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce/110 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>


EXEMPLO DE RESPOSTA:

<span class="o">{</span>
  <span class="s2">"nfce"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 110,
    <span class="s2">"status"</span>: <span class="s2">"rejected"</span>,
    <span class="s2">"data"</span>: <span class="o">{</span>
      ...
      <span class="s2">"resposta_emissao"</span>: <span class="o">{</span>
        <span class="s2">"erros"</span>: <span class="o">[</span>
          <span class="s2">"706 = Rejeicao: NFC-e para operacao de entrada"</span>
        <span class="o">]</span>
      <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"danfe_url"</span>: <span class="s2">""</span>,
    <span class="s2">"xml_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfce/xml_files/000/015/110/original/nfce.xml?15379"</span>,
    <span class="s2">"taxrules_calculation_log"</span>: null
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="consulta-nfc-e-denegada-sefaz">Consulta NFC-e Denegada (SEFAZ)</h2>

<p>Segue abaixo um exemplo de requisição de emissão em lote com uma NFC-e denegada na SEFAZ que será utilizado para posterior consulta (Só será denegada se houverem irregularidades na SEFAZ com as partes envolvidas na emissão, no caso, emitente ou destinatário):</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce_batch <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
        "nfce_batch": {
          "lote": 1,
          "sincronicidade": 0,
          "uf": "53",
          "serie": 717,
          "nfces": [
            {
              "dados_gerais": {
                "uf": "53",
                "serie": 717,
                "codigo_mun_ocorrencia": "5300108",
                "natureza_operacao": "saida",
                "csc": "000009",
                "id_token": "A16A5A2DD8FA443FV6710F5AB8EB5432",
                "tipo_operacao": 0, # Alterado para NFC-e de Entrada
                "destino_operacao": "1",
                "finalidade_nfe": "1",
                "indicador_presenca": "1"
              },
              "produtos": [
                {
                  "informacoes_adicionais": "teste",
                  "codigo_produto": "14600",
                  "codigo_ean": "7891000315507",
                  "descricao": "NOTA FISCAL EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                  "ncm": "22086000",
                  "cest": "1300402",
                  "extipi": "22",
                  "cfop": "5103",
                  "unidade_comercial": "UN",
                  "ean_unidade_trib": "7891000315507",
                  "unidade_tributaria": "UN",
                  "num_pedido": "5100003910",
                  "num_item_pedido": "1",
                  "quantidade_comercial": 739,
                  "valor_unitario_comercial": 0.4086,
                  "quantidade_tributaria": 739,
                  "valor_unitario_tributario": 0.4086,
                  "valor_frete": 0,
                  "valor_seguro": 0,
                  "valor_desconto": 0,
                  "valor_total_produto": 301.96,
                  "outras_despesas": 0,
                  "tributacao": {
                    "valor_aproximado_total": 82.28,
                    "icms": {
                      "aliquota_icms": 18,
                      "valor_base_calculo": 301.96,
                      "valor_icms": 54.35,
                      "modalidade_base_calculo": "1",
                      "codigo_origem_produto": 0,
                      "situacao_tributaria": "00"
                    },
                    "pis": {
                      "valor_base_calculo": 301.96,
                      "situacao_tributaria": "01",
                      "aliquota_pis": 1.65,
                      "valor_pis": 4.98
                    },
                    "cofins": {
                      "valor_base_calculo": 301.96,
                      "situacao_tributaria": "01",
                      "aliquota_cofins": 7.6,
                      "valor_cofins": 22.95
                    }
                  }
                }
              ],
              "forma_de_pagamento": [
                {
                  "tipo_de_pagamento": "03",
                  "valor_do_pagamento": 301.96,
                  "tipo_de_integracao": 1,
                  "cnpj_credenciadora": "64187888000104",
                  "bandeira_operadora": "01",
                  "numero_autorizacao_operacao": "1"
                }
              ]
            }
          ]
        }
      }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfce_batch"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 53,
    <span class="s2">"key"</span>: null,
    <span class="s2">"nfces"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: 110, <span class="c"># Identificador da NFC-e</span>
        <span class="s2">"status"</span>: <span class="s2">"processing"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>A resposta conterá os mesmos campos que foram enviados na requisição, e adicionalmente campos exclusivos específicos sobre o status de rejeição da NFC-e:</p>

<p>Para consultar a NFC-e criada, é necessário realizar a seguinte requisição utilizando o identificador da NFC-e contido na resposta:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X GET <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce/110 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>


EXEMPLO DE RESPOSTA:

<span class="o">{</span>
  <span class="s2">"nfce"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 110,
    <span class="s2">"status"</span>: <span class="s2">"denegated"</span>,
    <span class="s2">"data"</span>: <span class="o">{</span>
      ...
      <span class="s2">"resposta_emissao"</span>: <span class="o">{</span>
        <span class="s2">"erros"</span>: <span class="o">[</span>
          <span class="s2">"303 = Uso Denegado: Destinatário não habilitado a operar na UF"</span>
        <span class="o">]</span>
      <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"danfe_url"</span>: <span class="s2">""</span>,
    <span class="s2">"xml_url"</span>: <span class="s2">""</span>,
    <span class="s2">"taxrules_calculation_log"</span>: null
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="consulta-nfc-e-rejeitada-valida-o">Consulta NFC-e Rejeitada (Validação)</h2>

<p>Segue abaixo um exemplo de requisição de emissão em lote com rejeição por erro de validação de Schema que será utilizado para posterior consulta:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce_batch <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
        "nfce_batch": {
          "lote": 1,
          "sincronicidade": 0,
          "uf": "53",
          "serie": 717,
          "nfces": [
            {
              "dados_gerais": {
                "uf": "53",
                "serie": 717,
                "codigo_mun_ocorrencia": "5300108",
                "natureza_operacao": "saida",
                "csc": "000009",
                "id_token": "A16A5A2DD8FA443FV6710F5AB8EB5432",
                "tipo_operacao": "1",
                "destino_operacao": "5",
                "finalidade_nfe": "1",
                "indicador_presenca": "1"
              },
              "produtos": [
                {
                  "informacoes_adicionais": "teste",
                  "codigo_produto": "14600",
                  "codigo_ean": "7891000315507",
                  "descricao": "NOTA FISCAL EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                  "ncm": "22086000",
                  "cest": "1300402",
                  "extipi": "22",
                  "cfop": "5103",
                  "unidade_comercial": "UN",
                  "ean_unidade_trib": "7891000315507",
                  "unidade_tributaria": "UN",
                  "num_pedido": "5100003910",
                  "num_item_pedido": "1",
                  "quantidade_comercial": 739,
                  "valor_unitario_comercial": 0.4086,
                  "quantidade_tributaria": 739,
                  "valor_unitario_tributario": 0.4086,
                  "valor_frete": 0,
                  "valor_seguro": 0,
                  "valor_desconto": 0,
                  "valor_total_produto": 301.96,
                  "outras_despesas": 0,
                  "tributacao": {
                    "valor_aproximado_total": 82.28,
                    "icms": {
                      "aliquota_icms": 18,
                      "valor_base_calculo": 301.96,
                      "valor_icms": 54.35,
                      "modalidade_base_calculo": "1",
                      "codigo_origem_produto": 0,
                      "situacao_tributaria": "00"
                    },
                    "pis": {
                      "valor_base_calculo": 301.96,
                      "situacao_tributaria": "01",
                      "aliquota_pis": 1.65,
                      "valor_pis": 4.98
                    },
                    "cofins": {
                      "valor_base_calculo": 301.96,
                      "situacao_tributaria": "01",
                      "aliquota_cofins": 7.6,
                      "valor_cofins": 22.95
                    }
                  }
                }
              ],
              "forma_de_pagamento": [
                {
                  "tipo_de_pagamento": "03",
                  "valor_do_pagamento": 301.96,
                  "tipo_de_integracao": 1,
                  "cnpj_credenciadora": "64187888000104",
                  "bandeira_operadora": "01",
                  "numero_autorizacao_operacao": "1"
                }
              ]
            }
          ]
        }
      }'</span>


EXEMPLO DE RESPOSTA
  <span class="s2">"nfce_batch"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 53,
    <span class="s2">"key"</span>: null,
    <span class="s2">"nfces"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: 111, <span class="c"># Identificador da NFC-e</span>
        <span class="s2">"status"</span>: <span class="s2">"processing"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>A resposta conterá os mesmos campos que foram enviados na requisição, e adicionalmente campos exclusivos específicos sobre o status de rejeição causada por erro de validação de Schema da NFC-e:</p>

<p>Para consultar a NFC-e criada, é necessário realizar a seguinte requisição utilizando o identificador da NFC-e contido na resposta:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X GET <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce/111 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>


EXEMPLO DE RESPOSTA:

<span class="o">{</span>
  <span class="s2">"nfce"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 111,
    <span class="s2">"status"</span>: <span class="s2">"rejected"</span>,
    <span class="s2">"data"</span>: <span class="o">{</span>
      ...
      <span class="s2">"resposta_emissao"</span>: <span class="o">{</span>
        <span class="s2">"erros"</span>: <span class="o">[</span>
          <span class="s2">"O campo 'idDest' contém o valor '5' mas não está entre: '{'1', '2', '3'}'. Verifique o node: dados_gerais.destino_operacao"</span>,
          <span class="s2">"O valor '5' do campo 'idDest' não é válido. Verifique o node: dados_gerais.destino_operacao"</span>
        <span class="o">]</span>
      <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"danfe_url"</span>: <span class="s2">""</span>,
    <span class="s2">"xml_url"</span>: <span class="s2">""</span>,
    <span class="s2">"taxrules_calculation_log"</span>: null
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="valor-total-por-per-odo-fixo">Valor Total por Período Fixo</h2>

<p>Segue abaixo um exemplo de requisição para consultar o valor total de vendas em um determinado dia:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X GET <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/document_totals <span class="se">\</span>
  -d <span class="s1">'{"cfop":"5000", "date": "20/08/2019", "date_type": "day"}'</span>
  -H <span class="s1">'authorization: Bearer 6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>

EXEMPLO DE RESPOSTA:

<span class="o">{</span>
  <span class="s2">"vICMS"</span>: 2000.00,
  <span class="s2">"vII"</span>: 0.00,
  <span class="s2">"vCOFINS"</span>: 2987.65,
  <span class="s2">"vPIS"</span>: 4500.40,
  <span class="s2">"vNF"</span>: 10000.00
<span class="o">}</span>
</code></pre>

          <h1 id="cancelamento">Cancelamento</h1>

<h2 id="cancelamento-de-nf-e">Cancelamento de NF-e</h2>

<p>Para cancelar uma NF-e, envie a seguinte requisição:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">PATCH </i>
        <h6>/api/v1/organizations/{organization_id}/nfe/{nfe_id}/cancel </h6>
    </div>
</div>

<aside class="notice">
    Atenção: somente poderá ser cancelada uma NF-e cujo uso tenha sido previamente autorizado pelo Fisco (protocolo &ldquo;Autorização de Uso&rdquo;) e desde que não tenha ainda ocorrido a saída da mercadoria do estabelecimento. Atualmente o prazo máximo para cancelamento de uma NF-e é de 24 horas após a emissão. O cancelamento não pode ser desfeito.<br><br>
    <b>O motivo (opcional) deve possuir entre 15 e 255 caracteres.</b>
</aside>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

<span class="c"># Motivo padrão: "Cancelamento NF-e"</span>
curl -X PATCH <span class="se">\</span>
    https://app.production.emites.com.br/api/v1/organizations/11/nfe/10990/cancel <span class="se">\</span>
    -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>

<span class="c"># Motivo personalizado</span>
curl -X PATCH <span class="se">\</span>
    https://app.production.emites.com.br/api/v1/organizations/11/nfe/10990/cancel <span class="se">\</span>
    -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
    -d <span class="s1">'{
          "motivo": "Desistência do cliente"
        }'</span>

<span class="c"># Usando a chave de acesso</span>
curl -X PATCH <span class="se">\</span>
    https://app.emites.com.br/api/v1/organizations/11/nfe/53190222769530000131556110000002041100341123/cancel <span class="se">\</span>
    -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>

EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfe"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 10990,
    <span class="s2">"status"</span>: <span class="s2">"processing"</span>,
    <span class="s2">"data"</span>: <span class="o">{</span>...<span class="o">}</span>,
    <span class="s2">"danfe_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfe/pdf_files/000/015/761/original/danfe.pdf?153719"</span>,
    <span class="s2">"xml_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfe/xml_files/000/015/761/original/nfe.xml?15379"</span>,
    <span class="s2">"taxrules_calculation_log"</span>: null
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>Após o processamento da solicitação de cancelamento da NF-e, o XML do evento estará disponível via consulta da NF-e no campo &ldquo;cancel_xml_url&rdquo;. Exemplo:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>/api/v1/organizations/{organization_id}/nfe/{nfe_id}  </h6>
    </div>
</div>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"nfe"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10990</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelled"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="err">...</span><span class="w">
      </span><span class="nt">"resposta_cancelamento"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"numero_protocolo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"353190000049440"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"chave_acesso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53190222769530000131556110000002041100341123"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"data_cancelamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-22T14:53:25.521-03:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Desistência do cliente"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"danfe_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfe/pdf_files/000/015/761/original/danfe.pdf?153719"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"xml_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfe/xml_files/000/015/761/original/nfe.xml?15379"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cancel_xml_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfe/cancel_xml_files/000/010/598/original/cancel_nfe.xml?15781"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"taxrules_calculation_log"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="cancelamento-de-nfc-e">Cancelamento de NFC-e</h2>

<p>Para cancelar uma NFC-e, envie a seguinte requisição:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">PATCH </i>
        <h6>/api/v1/organizations/{organization_id}/nfce/{nfce_id}/cancel </h6>
    </div>
</div>

<aside class="notice">
    Atenção: somente poderá ser cancelada uma NFC-e cujo uso tenha sido previamente autorizado pelo Fisco (protocolo &ldquo;Autorização de Uso&rdquo;) e desde que não tenha ainda ocorrido a saída da mercadoria do estabelecimento. Atualmente o prazo máximo para cancelamento de uma NFC-e é de 24 horas após a emissão. O cancelamento não pode ser desfeito.<br><br>
    <b>O motivo (opcional) deve possuir entre 15 e 255 caracteres.</b>
</aside>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

<span class="c"># Motivo padrão: "Cancelamento NFC-e"</span>
curl -X PATCH <span class="se">\</span>
    https://app.production.emites.com.br/api/v1/organizations/11/nfce/10990/cancel <span class="se">\</span>
    -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>

<span class="c"># Motivo personalizado</span>
curl -X PATCH <span class="se">\</span>
    https://app.production.emites.com.br/api/v1/organizations/11/nfce/10990/cancel <span class="se">\</span>
    -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
    -d <span class="s1">'{
          "motivo": "Desistência do cliente"
        }'</span>

<span class="c"># Usando a chave de acesso</span>
curl -X PATCH <span class="se">\</span>
    https://app.emites.com.br/api/v1/organizations/11/nfce/53190222769530000131657170000000551642238289/cancel <span class="se">\</span>
    -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfce"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 10990,
    <span class="s2">"status"</span>: <span class="s2">"processing"</span>,
    <span class="s2">"data"</span>: <span class="o">{</span>...<span class="o">}</span>,
    <span class="s2">"danfe_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfce/pdf_files/000/015/761/original/danfe.pdf?153719"</span>,
    <span class="s2">"xml_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfce/xml_files/000/015/761/original/nfe.xml?15379"</span>,
    <span class="s2">"taxrules_calculation_log"</span>: null
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>Após o processamento da solicitação de cancelamento da NFC-e, o XML do evento estará disponível via consulta da NFC-e no campo &ldquo;cancel_xml_url&rdquo;. Exemplo:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>/api/v1/organizations/{organization_id}/nfce/{nfce_id}  </h6>
    </div>
</div>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"nfce"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelled"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="err">...</span><span class="w">
        </span><span class="nt">"resposta_cancelamento"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"numero_protocolo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"353190000027203"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"chave_acesso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53190222769530000131657170000000551642238289"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"data_cancelamento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-22T15:04:19.311-03:00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Desistência do cliente"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"danfe_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfce/pdf_files/000/015/761/original/danfe.pdf?153719"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"xml_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfce/xml_files/000/015/761/original/nfce.xml?15379"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cancel_xml_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfce/cancel_xml_files/000/010/598/original/cancel_nfce.xml?15781"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"taxrules_calculation_log"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="cancelamento-por-substitui-o-de-nfc-e">Cancelamento por Substituição de NFC-e</h2>

<p>Para cancelar por substituição uma NFC-e, envie a seguinte requisição:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">PATCH </i>
        <h6>/api/v1/organizations/{organization_id}/nfce/{nfce_id}/replacement_cancel </h6>
    </div>
</div>

<aside class="notice">
    Atenção: Um documento fiscal eletrônico só pode ser cancelado se (i) tiver sido previamente autorizado pelo Fisco e (ii) desde que ainda não tenha ocorrido a saída da mercadoria do estabelecimento. O cancelamento pode ser do tipo &ldquo;normal&rdquo; (NF-e, CF-e e NF-e) ou por &ldquo;substituição&rdquo; (NFC-e). Atualmente, o prazo máximo para cancelamento do tipo &ldquo;normal&rdquo; é de 30 minutos (NFC-e, CF-e) e de 24 horas (NF-e) e o prazo máximo para cancelamento do tipo &ldquo;substituição&rdquo; é de 168 horas (NFC-e). O cancelamento, quando realizado, não pode ser desfeito.<br><br>
    <b>O motivo (opcional) deve possuir entre 15 e 255 caracteres.</b></br><br>
    O campo <b>ch_nfe_ref</b> é obrigatório, preencha com a chave de acesso a
    ser substituida
</aside>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

<span class="c"># Motivo padrão: "Cancelamento por substituição devido duplicidade de emissão para a mesma operação fiscal"</span>
curl -X PATCH <span class="se">\</span>
    https://app.production.emites.com.br/api/v1/organizations/11/nfe/53190222769530000131556110000002041100341123/replacement_cancel <span class="se">\</span>
    -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    -d <span class="s1">'{
          "ch_nfe_ref": "35191135402759007600551130000205421006450377"
        }'</span>

<span class="c"># Motivo personalizado</span>
curl -X PATCH <span class="se">\</span>
    https://app.production.emites.com.br/api/v1/organizations/53190222769530000131556110000002041100341123/nfe/10990/replacement_cancel <span class="se">\</span>
    -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
    -d <span class="s1">'{
          "motivo": "Cancelamento por substituição",
          "ch_nfe_ref": "35191135402759007600551130000205421006450377"
        }'</span>

EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfe"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 10990,
    <span class="s2">"status"</span>: <span class="s2">"processing"</span>,
    <span class="s2">"data"</span>: <span class="o">{</span>...<span class="o">}</span>,
    <span class="s2">"danfe_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfe/pdf_files/000/015/761/original/danfe.pdf?153719"</span>,
    <span class="s2">"xml_url"</span>: <span class="s2">"http://emites-ruby-sandbox.s3.amazonaws.com/nfe/xml_files/000/015/761/original/nfe.xml?15379"</span>,
    <span class="s2">"taxrules_calculation_log"</span>: null
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

          <h1 id="inutiliza-o">Inutilização</h1>

<h2 id="inutiliza-o-de-nf-e">Inutilização de NF-e</h2>

<p>Para inutilizar um número de NF-e, envie a seguinte requisição:  </p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations/{organization_id}/nfe/disable</h6>
    </div>
</div>

<p>Regras de Validação:</p>

<ul>
<li>O campo &ldquo;serie&rdquo; é obrigatório;</li>
<li>O motivo é opcional e deve possuir entre 15 e 255 caracteres;</li>
<li>Não é permitido inutilizar numeros de notas emitidas, canceladas, corrigidas ou denegadas;</li>
<li>Em caso de inutilização de apenas um número, os campos &ldquo;numero_inicial&rdquo; e &ldquo;numero_final&rdquo; devem ser ignorados;</li>
<li>Em caso de inutilização de um intervalo, o campo &ldquo;numero&rdquo; deve ser ignorado;</li>
<li>Em caso de inutilização de um intervalo, o &ldquo;numero_final&rdquo; deve ser maior que o &ldquo;numero_inicial&rdquo;;</li>
</ul>

<aside class="notice">
    Atenção: somente podem ser inutilizados números de notas fiscais que não tenham sido utilizadas em NF-e emitidas, canceladas ou denegadas. A inutilização tem o objetivo de comunicar a quebra na sequência numérica de NF-e e esta quebra não deve ser fruto de fraude ou dolo intencional.
</aside>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

<span class="c"># Inutilização de apenas um número com motivo padrão: "Erro na emissão da nota fiscal"</span>
curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe/disable <span class="se">\</span>
    -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    -d <span class="s1">'{
          "serie": "1",
          "numero": "9999999999"
        }'</span>

<span class="c"># Inutilização de apenas um número com motivo personalizado</span>
curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe/disable <span class="se">\</span>
    -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    -d <span class="s1">'{
          "serie": "1",
          "numero": "9999999999",
          "motivo": "Quebra na sequencia de numeracao"
        }'</span>

<span class="c"># Inutilização de um intervalo de numeros com motivo padrão: "Erro na emissão da nota fiscal"</span>
curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe/disable <span class="se">\</span>
    -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    -d <span class="s1">'{
          "serie": "1",
          "numero_inicial": "1500",
          "numero_final": "1550"
        }'</span>

<span class="c"># Inutilização de um intervalo de numeros com motivo personalizado</span>
curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe/disable <span class="se">\</span>
    -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    -d <span class="s1">'{
          "serie": "1",
          "numero_inicial": "1500",
          "numero_final": "1550",
          "motivo": "Quebra na sequencia de numeracao"
        }'</span>

EXEMPLO DE RESPOSTA

<span class="c"># Inutilização de apenas um número</span>
<span class="o">{</span>
  <span class="s2">"nfe_disablement"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 16,
    <span class="s2">"status"</span>: <span class="s2">"processing"</span>,
    <span class="s2">"data"</span>: <span class="o">{</span>
      <span class="s2">"uf"</span>: <span class="s2">"35"</span>,
      <span class="s2">"cnpj_emitente"</span>: <span class="s2">"58521175000124"</span>,
      <span class="s2">"serie"</span>: <span class="s2">"1"</span>,
      <span class="s2">"motivo"</span>: <span class="s2">"Erro na emissão da nota fiscal"</span>,
      <span class="s2">"numero_inicial"</span>: 9999999999,
      <span class="s2">"numero_final"</span>: 9999999999
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="c"># Inutilização de um intervalo de numeros</span>
<span class="o">{</span>
  <span class="s2">"nfe_disablement"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 16,
    <span class="s2">"status"</span>: <span class="s2">"processing"</span>,
    <span class="s2">"data"</span>: <span class="o">{</span>
      <span class="s2">"uf"</span>: <span class="s2">"35"</span>,
      <span class="s2">"cnpj_emitente"</span>: <span class="s2">"58521175000124"</span>,
      <span class="s2">"serie"</span>: <span class="s2">"1"</span>,
      <span class="s2">"motivo"</span>: <span class="s2">"Erro na emissão da nota fiscal"</span>,
      <span class="s2">"numero_inicial"</span>: 1500,
      <span class="s2">"numero_final"</span>: 1550
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="consulta-de-inutiliza-o-de-nf-e">Consulta de inutilização de NF-e</h2>

<p>Para consultar uma inutilização de  NF-e é necessário realizar a seguinte requisição:  </p>

<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/api/v1/organizations/{organization_id}/nfe/disable/{nfe_disablement_id}</h6>
  </div>
</div>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X GET <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe/disable/16 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>


EXEMPLO DE RESPOSTA:

<span class="c"># Solicitação rejeitada pela SEFAZ</span>

<span class="o">{</span>
  <span class="s2">"nfe_disablement"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 16,
      <span class="s2">"status"</span>: <span class="s2">"rejected"</span>,
      <span class="s2">"data"</span>: <span class="o">{</span>
        <span class="s2">"uf"</span>: <span class="s2">"35"</span>,
        <span class="s2">"cnpj_emitente"</span>: <span class="s2">"58521175000124"</span>,
        <span class="s2">"serie"</span>: 1,
        <span class="s2">"motivo"</span>: <span class="s2">"Erro na emissão da nota fiscal"</span>,
        <span class="s2">"numero_inicial"</span>: 1500,
        <span class="s2">"numero_final"</span>: 1550,
        <span class="s2">"resposta_inutilizacao"</span>: <span class="o">{</span>
          <span class="s2">"erros"</span>: <span class="o">[</span>
            <span class="s2">"241 - Rejeicao: Um numero da faixa ja foi utilizado"</span>
          <span class="o">]</span>
        <span class="o">}</span>
      <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="c"># Solicitação autorizada pela SEFAZ</span>

<span class="o">{</span>
  <span class="s2">"nfe_disablement"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 17,
      <span class="s2">"status"</span>: <span class="s2">"authorized"</span>,
      <span class="s2">"data"</span>: <span class="o">{</span>
        <span class="s2">"uf"</span>: <span class="s2">"35"</span>,
        <span class="s2">"cnpj_emitente"</span>: <span class="s2">"58521175000124"</span>,
        <span class="s2">"serie"</span>: 1,
        <span class="s2">"motivo"</span>: <span class="s2">"Erro na emissão da nota fiscal"</span>,
        <span class="s2">"numero_inicial"</span>: 1500,
        <span class="s2">"numero_final"</span>: 1550,
        <span class="s2">"resposta_inutilizacao"</span>: <span class="o">{</span>
          <span class="s2">"numero_protocolo"</span>: <span class="s2">"135190000301748"</span>
        <span class="o">}</span>
      <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="inutiliza-o-de-nfc-e">Inutilização de NFC-e</h2>

<p>Para inutilizar um número de NFC-e, envie a seguinte requisição:  </p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations/{organization_id}/nfce/disable</h6>
    </div>
</div>

<p>Regras de Validação:</p>

<ul>
<li>O campo &ldquo;serie&rdquo; é obrigatório;</li>
<li>O motivo é opcional e deve possuir entre 15 e 255 caracteres;</li>
<li>Não é permitido inutilizar numeros de notas emitidas, canceladas, corrigidas ou denegadas;</li>
<li>Em caso de inutilização de apenas um número, os campos &ldquo;numero_inicial&rdquo; e &ldquo;numero_final&rdquo; devem ser ignorados;</li>
<li>Em caso de inutilização de um intervalo, o campo &ldquo;numero&rdquo; deve ser ignorado;</li>
<li>Em caso de inutilização de um intervalo, o &ldquo;numero_final&rdquo; deve ser maior que o &ldquo;numero_inicial&rdquo;;</li>
</ul>

<aside class="notice">
    Atenção: somente podem ser inutilizados números de notas fiscais que não tenham sido utilizadas em NF-e emitidas, canceladas ou denegadas. A inutilização tem o objetivo de comunicar a quebra na sequência numérica de NF-e e esta quebra não deve ser fruto de fraude ou dolo intencional.
</aside>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

<span class="c"># Inutilização de apenas um número com motivo padrão: "Erro na emissão da nota fiscal"</span>
curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce/disable <span class="se">\</span>
    -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    -d <span class="s1">'{
          "serie": "1",
          "numero": "9999999999"
        }'</span>

<span class="c"># Inutilização de apenas um número com motivo personalizado</span>
curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce/disable <span class="se">\</span>
    -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    -d <span class="s1">'{
          "serie": "1",
          "numero": "9999999999",
          "motivo": "Quebra na sequencia de numeracao"
        }'</span>

<span class="c"># Inutilização de um intervalo de numeros com motivo padrão: "Erro na emissão da nota fiscal"</span>
curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce/disable <span class="se">\</span>
    -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    -d <span class="s1">'{
          "serie": "1",
          "numero_inicial": "1500",
          "numero_final": "1550"
        }'</span>

<span class="c"># Inutilização de um intervalo de numeros com motivo personalizado</span>
curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce/disable <span class="se">\</span>
    -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    -d <span class="s1">'{
          "serie": "1",
          "numero_inicial": "1500",
          "numero_final": "1550",
          "motivo": "Quebra na sequencia de numeracao"
        }'</span>

EXEMPLO DE RESPOSTA

<span class="c"># Inutilização de apenas um número</span>
<span class="o">{</span>
  <span class="s2">"nfce_disablement"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 16,
    <span class="s2">"status"</span>: <span class="s2">"processing"</span>,
    <span class="s2">"data"</span>: <span class="o">{</span>
      <span class="s2">"uf"</span>: <span class="s2">"35"</span>,
      <span class="s2">"cnpj_emitente"</span>: <span class="s2">"58521175000124"</span>,
      <span class="s2">"serie"</span>: <span class="s2">"1"</span>,
      <span class="s2">"motivo"</span>: <span class="s2">"Erro na emissão da nota fiscal"</span>,
      <span class="s2">"numero_inicial"</span>: 9999999999,
      <span class="s2">"numero_final"</span>: 9999999999
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="c"># Inutilização de um intervalo de numeros</span>
<span class="o">{</span>
  <span class="s2">"nfce_disablement"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 16,
    <span class="s2">"status"</span>: <span class="s2">"processing"</span>,
    <span class="s2">"data"</span>: <span class="o">{</span>
      <span class="s2">"uf"</span>: <span class="s2">"35"</span>,
      <span class="s2">"cnpj_emitente"</span>: <span class="s2">"58521175000124"</span>,
      <span class="s2">"serie"</span>: <span class="s2">"1"</span>,
      <span class="s2">"motivo"</span>: <span class="s2">"Erro na emissão da nota fiscal"</span>,
      <span class="s2">"numero_inicial"</span>: 1500,
      <span class="s2">"numero_final"</span>: 1550
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="consulta-de-inutiliza-o-de-nfc-e">Consulta de inutilização de NFC-e</h2>

<p>Para consultar uma inutilização de  NFC-e é necessário realizar a seguinte requisição:  </p>

<div class="api-endpoint">
  <div class="endpoint-data">
    <i class="label label-get">GET</i>
    <h6>/api/v1/organizations/{organization_id}/nfce/disable/{nfce_disablement_id}</h6>
  </div>
</div>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X GET <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfce/disable/16 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>


EXEMPLO DE RESPOSTA:

<span class="c"># Solicitação rejeitada pela SEFAZ</span>

<span class="o">{</span>
  <span class="s2">"nfce_disablement"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 16,
      <span class="s2">"status"</span>: <span class="s2">"rejected"</span>,
      <span class="s2">"data"</span>: <span class="o">{</span>
        <span class="s2">"uf"</span>: <span class="s2">"35"</span>,
        <span class="s2">"cnpj_emitente"</span>: <span class="s2">"58521175000124"</span>,
        <span class="s2">"serie"</span>: 1,
        <span class="s2">"motivo"</span>: <span class="s2">"Erro na emissão da nota fiscal"</span>,
        <span class="s2">"numero_inicial"</span>: 1500,
        <span class="s2">"numero_final"</span>: 1550,
        <span class="s2">"resposta_inutilizacao"</span>: <span class="o">{</span>
          <span class="s2">"erros"</span>: <span class="o">[</span>
            <span class="s2">"241 - Rejeicao: Um numero da faixa ja foi utilizado"</span>
          <span class="o">]</span>
        <span class="o">}</span>
      <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="c"># Solicitação autorizada pela SEFAZ</span>

<span class="o">{</span>
  <span class="s2">"nfce_disablement"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 17,
      <span class="s2">"status"</span>: <span class="s2">"authorized"</span>,
      <span class="s2">"data"</span>: <span class="o">{</span>
        <span class="s2">"uf"</span>: <span class="s2">"35"</span>,
        <span class="s2">"cnpj_emitente"</span>: <span class="s2">"58521175000124"</span>,
        <span class="s2">"serie"</span>: 1,
        <span class="s2">"motivo"</span>: <span class="s2">"Erro na emissão da nota fiscal"</span>,
        <span class="s2">"numero_inicial"</span>: 1500,
        <span class="s2">"numero_final"</span>: 1550,
        <span class="s2">"resposta_inutilizacao"</span>: <span class="o">{</span>
          <span class="s2">"numero_protocolo"</span>: <span class="s2">"135190000301748"</span>
        <span class="o">}</span>
      <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

          <h1 id="carta-de-corre-o">Carta de Correção</h1>

<h2 id="carta-de-corre-o-de-nf-e">Carta de Correção de NF-e</h2>

<p>A carta de correção de nota fiscal eletrônica (CC-e) é um documento fiscal com o objetivo de corrigir informações da nota fiscal eletrônica (NF-e).
Se você emitir uma NF-e com um erro, pode corrigi-lá com uma CC-e, mas nem todos os erros são passíveis de correção, é preciso seguir algumas regras.</p>

<p>Ela é utilizada para a regularização de algum erro ocorrido na emissão, desde que não seja:</p>

<ul>
<li>o valor do imposto (base de cálculo, alíquota, diferença de preço, quantidade, valor de operação ou prestação),</li>
<li>os dados cadastrais (mudanças do remetente ou destinatário)</li>
<li>data de emissão ou de saída da mercadoria.</li>
</ul>

<p>Regras:</p>

<ul>
<li>Permitido em até 30 dias, após a emissão da nota.</li>
<li>Pode ter até 20 cartas em uma nota</li>
</ul>

<p>O que pode ser corrigido?</p>

<ul>
<li>A natureza de operação (CFOP): sob a condição de não mudar a natureza dos impostos;</li>
<li>Os códigos ficais: desde que não altere os valores fiscais;</li>
<li>Data de emissão ou de saída: contanto que não altere o período de apuração do ICMS;</li>
<li>Peso, volume etc.;</li>
<li>Endereço do destinatário;</li>
<li>Razão social do destinatário: se não alterar por completo;</li>
<li>Dados adicionais.</li>
</ul>

<p>Não há um padrão de texto, mas o emissor tem a obrigação de descrever de forma clara e objetiva a correção que deve ser considerada.</p>

<p><strong>Obs.: Após o processamento da solicitação da carta de correção da NF, o XML do evento estará disponível via consulta da NF, no último item do node &ldquo;corrections&rdquo;.</strong></p>

<p>Para requisitar uma correção, envie a seguinte requisição:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">PATCH</i>
        <h6>/api/v1/organizations/{organization_id}/nfe/{nfe_id}/correction </h6>
    </div>
</div>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X PATCH <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/nfe/10990/correction <span class="se">\</span>
    -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    -d <span class="s1">'{
          "correcao": "Carta correcao teste"
        }'</span>

<span class="c"># Usando a chave de acesso</span>
curl -X PATCH <span class="se">\</span>
  https://app.emites.com.br/api/v1/organizations/11/nfe/35181160619202003910551010000000321613631381/correction <span class="se">\</span>
    -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    -d <span class="s1">'{
          "correcao": "Carta correcao teste"
        }'</span>

EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"nfe"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 10990,
    <span class="s2">"status"</span>: <span class="s2">"corrected"</span>,
    <span class="s2">"data"</span>: <span class="o">{</span>...<span class="o">}</span>,
    <span class="s2">"danfe_url"</span>: <span class="s2">"/system/nfe/pdf_files/000/010/953/original/danfe.pdf?1539874106"</span>,
    <span class="s2">"xml_url"</span>: <span class="s2">"/system/nfe/xml_files/000/010/953/original/nfe.xml?1539874106"</span>,
    <span class="s2">"corrections"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: 34,
        <span class="s2">"data"</span>: <span class="o">{</span>
          <span class="s2">"numero_evento"</span>: 3,
          <span class="s2">"correcao"</span>: <span class="s2">"Carta correcao teste"</span>,
          <span class="s2">"resposta_correcao"</span>: <span class="o">{</span>
            <span class="s2">"numero_protocolo"</span>: <span class="s2">"135180016104757"</span>,
            <span class="s2">"chave_acesso"</span>: <span class="s2">"35181160619202003910551010000000321613631381"</span>
          <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"status"</span>: <span class="s2">"authorized"</span>,
        <span class="s2">"xml_url"</span>: <span class="s2">"/system/corrections/files/000/000/024/original/correction_nfe.xml?1543402657"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"id"</span>: 33,
        <span class="s2">"data"</span>: <span class="o">{</span>
          <span class="s2">"numero_evento"</span>: 2,
          <span class="s2">"correcao"</span>: <span class="s2">"Corrige o nome o nome do fornecedor"</span>,
          <span class="s2">"resposta_correcao"</span>: <span class="o">{</span>
            <span class="s2">"numero_protocolo"</span>: <span class="s2">"135180016098939"</span>,
            <span class="s2">"chave_acesso"</span>: <span class="s2">"35181160619202003910551010000000321613631381"</span>
          <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"status"</span>: <span class="s2">"authorized"</span>,
        <span class="s2">"xml_url"</span>: <span class="s2">"/system/corrections/files/000/000/003/original/correction_nfe.xml?1543345161"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"id"</span>: 32,
        <span class="s2">"data"</span>: <span class="o">{</span>
          <span class="s2">"numero_evento"</span>: 1,
          <span class="s2">"correcao"</span>: <span class="s2">"Altera-se a descrição do produto para NITROGENIO 50L 10M3"</span>,
          <span class="s2">"resposta_correcao"</span>: <span class="o">{</span>
            <span class="s2">"numero_protocolo"</span>: <span class="s2">"135180016098422"</span>,
            <span class="s2">"chave_acesso"</span>: <span class="s2">"35181160619202003910551010000000321613631381"</span>
          <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"status"</span>: <span class="s2">"authorized"</span>,
        <span class="s2">"xml_url"</span>: <span class="s2">"/system/corrections/files/000/000/001/original/correction_nfe.xml?1543343189"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h2 id="carta-de-corre-o-de-nfc-e">Carta de Correção de NFC-e</h2>

<p>A carta de correção eletrônica é utilizada, exclusivamente, para correções de NF-e, modelo 55.</p>

          <h1 id="armazenamento-de-cf-e">Armazenamento de CF-e</h1>

<p>Para armazenar uma CF-e, é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations/{organization_id}/cfe</h6>
    </div>
</div>

<aside class="notice">
  O valor do campo &ldquo;xml&rdquo; deve conter o XML da CF-e. Já o campo &ldquo;danfe&rdquo; deve conter a DANFE da CF-e em PDF codificado em **Base64**. Ambos os campos são obrigatórios para que o CF-e seja armazenado com sucesso.
</aside>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/cfe <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
        "cfe": {
          "xml": "&lt;nfeProc xmlns="http://www.portalfiscal.inf.br/nfe" versao="4.00"&gt;&lt;enviNFe xmlns="http://www.portalfiscal.inf.br/nfe" versao="4.00"&gt;&lt;NFe&gt;&lt;infNFe&gt;&lt;/infNFe&gt;&lt;/NFe&gt;&lt;/enviNFe&gt;&lt;/nfeProc&gt;",
          "danfe": "JVBERi0xLjMKJcTl8uXrp/Og0MTGCjQgMCBvYmoKPDwgL0xlbmd0aCA1IDAg\nUiAvRmlsdGVyIC9GbGF0ZURlY29kZSA+PgpzdHJlYW0KeAErVAhUKFQwAEJT\nS1M9IwsFCxNDPQtLhaJUhXCFPAV952JDheRiBUMwLE4GqoMqyAVqMINxckAc\nLl0DPUMDS0sLUxOFHKBCFG6GQppCIAAgiBeUCmVuZHN0cmVhbQplbmRvYmoK\nNSAwIG9iago4NAplbmRvYmoKMiAwIG9iago8PCAvVHlwZSAvUGFnZSAvUGFy\nZW50IDMgMCBSIC9SZXNvdXJjZXMgNiAwIFIgL0NvbnRlbnRzIDQgMCBSIC9N\nZWRpYUJveCBbMCAwIDU5NS4yOCA4NDEuODldCj4+CmVuZG9iago2IDAgb2Jq\nCjw8IC9Qcm9jU2V0IFsgL1BERiBdIC9Db2xvclNwYWNlIDw8IC9DczEgNyAw\nIFIgPj4gPj4KZW5kb2JqCjggMCBvYmoKPDwgL0xlbmd0aCA5IDAgUiAvTiAz\nIC9BbHRlcm5hdGUgL0RldmljZVJHQiAvRmlsdGVyIC9GbGF0ZURlY29kZSA+\nPgpzdHJlYW0KeAGdlndUU9kWh8+9N73QEiIgJfQaegkg0jtIFQRRiUmAUAKG\nhCZ2RAVGFBEpVmRUwAFHhyJjRRQLg4Ji1wnyEFDGwVFEReXdjGsJ7601896a\n/cdZ39nnt9fZZ+9917oAUPyCBMJ0WAGANKFYFO7rwVwSE8vE9wIYEAEOWAHA\n4WZmBEf4RALU/L09mZmoSMaz9u4ugGS72yy/UCZz1v9/kSI3QyQGAApF1TY8\nfiYX5QKUU7PFGTL/BMr0lSkyhjEyFqEJoqwi48SvbPan5iu7yZiXJuShGlnO\nGbw0noy7UN6aJeGjjAShXJgl4GejfAdlvVRJmgDl9yjT0/icTAAwFJlfzOcm\noWyJMkUUGe6J8gIACJTEObxyDov5OWieAHimZ+SKBIlJYqYR15hp5ejIZvrx\ns1P5YjErlMNN4Yh4TM/0tAyOMBeAr2+WRQElWW2ZaJHtrRzt7VnW5mj5v9nf\nHn5T/T3IevtV8Sbsz55BjJ5Z32zsrC+9FgD2JFqbHbO+lVUAtG0GQOXhrE/v\nIADyBQC03pzzHoZsXpLE4gwnC4vs7GxzAZ9rLivoN/ufgm/Kv4Y595nL7vtW\nO6YXP4EjSRUzZUXlpqemS0TMzAwOl89k/fcQ/+PAOWnNycMsnJ/AF/GF6FVR\n6JQJhIlou4U8gViQLmQKhH/V4X8YNicHGX6daxRodV8AfYU5ULhJB8hvPQBD\nIwMkbj96An3rWxAxCsi+vGitka9zjzJ6/uf6Hwtcim7hTEEiU+b2DI9kciWi\nLBmj34RswQISkAd0oAo0gS4wAixgDRyAM3AD3iAAhIBIEAOWAy5IAmlABLJB\nPtgACkEx2AF2g2pwANSBetAEToI2cAZcBFfADXALDIBHQAqGwUswAd6BaQiC\n8BAVokGqkBakD5lC1hAbWgh5Q0FQOBQDxUOJkBCSQPnQJqgYKoOqoUNQPfQj\ndBq6CF2D+qAH0CA0Bv0BfYQRmALTYQ3YALaA2bA7HAhHwsvgRHgVnAcXwNvh\nSrgWPg63whfhG/AALIVfwpMIQMgIA9FGWAgb8URCkFgkAREha5EipAKpRZqQ\nDqQbuY1IkXHkAwaHoWGYGBbGGeOHWYzhYlZh1mJKMNWYY5hWTBfmNmYQM4H5\ngqVi1bGmWCesP3YJNhGbjS3EVmCPYFuwl7ED2GHsOxwOx8AZ4hxwfrgYXDJu\nNa4Etw/XjLuA68MN4SbxeLwq3hTvgg/Bc/BifCG+Cn8cfx7fjx/GvyeQCVoE\na4IPIZYgJGwkVBAaCOcI/YQRwjRRgahPdCKGEHnEXGIpsY7YQbxJHCZOkxRJ\nhiQXUiQpmbSBVElqIl0mPSa9IZPJOmRHchhZQF5PriSfIF8lD5I/UJQoJhRP\nShxFQtlOOUq5QHlAeUOlUg2obtRYqpi6nVpPvUR9Sn0vR5Mzl/OX48mtk6uR\na5Xrl3slT5TXl3eXXy6fJ18hf0r+pvy4AlHBQMFTgaOwVqFG4bTCPYVJRZqi\nlWKIYppiiWKD4jXFUSW8koGStxJPqUDpsNIlpSEaQtOledK4tE20Otpl2jAd\nRzek+9OT6cX0H+i99AllJWVb5SjlHOUa5bPKUgbCMGD4M1IZpYyTjLuMj/M0\n5rnP48/bNq9pXv+8KZX5Km4qfJUilWaVAZWPqkxVb9UU1Z2qbapP1DBqJmph\natlq+9Uuq43Pp893ns+dXzT/5PyH6rC6iXq4+mr1w+o96pMamhq+GhkaVRqX\nNMY1GZpumsma5ZrnNMe0aFoLtQRa5VrntV4wlZnuzFRmJbOLOaGtru2nLdE+\npN2rPa1jqLNYZ6NOs84TXZIuWzdBt1y3U3dCT0svWC9fr1HvoT5Rn62fpL9H\nv1t/ysDQINpgi0GbwaihiqG/YZ5ho+FjI6qRq9Eqo1qjO8Y4Y7ZxivE+41sm\nsImdSZJJjclNU9jU3lRgus+0zwxr5mgmNKs1u8eisNxZWaxG1qA5wzzIfKN5\nm/krCz2LWIudFt0WXyztLFMt6ywfWSlZBVhttOqw+sPaxJprXWN9x4Zq42Oz\nzqbd5rWtqS3fdr/tfTuaXbDdFrtOu8/2DvYi+yb7MQc9h3iHvQ732HR2KLuE\nfdUR6+jhuM7xjOMHJ3snsdNJp9+dWc4pzg3OowsMF/AX1C0YctFx4bgccpEu\nZC6MX3hwodRV25XjWuv6zE3Xjed2xG3E3dg92f24+ysPSw+RR4vHlKeT5xrP\nC16Il69XkVevt5L3Yu9q76c+Oj6JPo0+E752vqt9L/hh/QL9dvrd89fw5/rX\n+08EOASsCegKpARGBFYHPgsyCRIFdQTDwQHBu4IfL9JfJFzUFgJC/EN2hTwJ\nNQxdFfpzGC4sNKwm7Hm4VXh+eHcELWJFREPEu0iPyNLIR4uNFksWd0bJR8VF\n1UdNRXtFl0VLl1gsWbPkRoxajCCmPRYfGxV7JHZyqffS3UuH4+ziCuPuLjNc\nlrPs2nK15anLz66QX8FZcSoeGx8d3xD/iRPCqeVMrvRfuXflBNeTu4f7kufG\nK+eN8V34ZfyRBJeEsoTRRJfEXYljSa5JFUnjAk9BteB1sl/ygeSplJCUoykz\nqdGpzWmEtPi000IlYYqwK10zPSe9L8M0ozBDuspp1e5VE6JA0ZFMKHNZZruY\njv5M9UiMJJslg1kLs2qy3mdHZZ/KUcwR5vTkmuRuyx3J88n7fjVmNXd1Z752\n/ob8wTXuaw6thdauXNu5Tnddwbrh9b7rj20gbUjZ8MtGy41lG99uit7UUaBR\nsL5gaLPv5sZCuUJR4b0tzlsObMVsFWzt3WazrWrblyJe0fViy+KK4k8l3JLr\n31l9V/ndzPaE7b2l9qX7d+B2CHfc3em681iZYlle2dCu4F2t5czyovK3u1fs\nvlZhW3FgD2mPZI+0MqiyvUqvakfVp+qk6oEaj5rmvep7t+2d2sfb17/fbX/T\nAY0DxQc+HhQcvH/I91BrrUFtxWHc4azDz+ui6rq/Z39ff0TtSPGRz0eFR6XH\nwo911TvU1zeoN5Q2wo2SxrHjccdv/eD1Q3sTq+lQM6O5+AQ4ITnx4sf4H++e\nDDzZeYp9qukn/Z/2ttBailqh1tzWibakNml7THvf6YDTnR3OHS0/m/989Iz2\nmZqzymdLz5HOFZybOZ93fvJCxoXxi4kXhzpXdD66tOTSna6wrt7LgZevXvG5\ncqnbvfv8VZerZ645XTt9nX297Yb9jdYeu56WX+x+aem172296XCz/ZbjrY6+\nBX3n+l37L972un3ljv+dGwOLBvruLr57/17cPel93v3RB6kPXj/Mejj9aP1j\n7OOiJwpPKp6qP6391fjXZqm99Oyg12DPs4hnj4a4Qy//lfmvT8MFz6nPK0a0\nRupHrUfPjPmM3Xqx9MXwy4yX0+OFvyn+tveV0auffnf7vWdiycTwa9HrmT9K\n3qi+OfrW9m3nZOjk03dp76anit6rvj/2gf2h+2P0x5Hp7E/4T5WfjT93fAn8\n8ngmbWbm3/eE8/sKZW5kc3RyZWFtCmVuZG9iago5IDAgb2JqCjI2MTIKZW5k\nb2JqCjcgMCBvYmoKWyAvSUNDQmFzZWQgOCAwIFIgXQplbmRvYmoKMyAwIG9i\nago8PCAvVHlwZSAvUGFnZXMgL01lZGlhQm94IFswIDAgNTk1LjI4IDg0MS44\nOV0gL0NvdW50IDEgL0tpZHMgWyAyIDAgUiBdID4+CmVuZG9iagoxMCAwIG9i\nago8PCAvVHlwZSAvQ2F0YWxvZyAvUGFnZXMgMyAwIFIgPj4KZW5kb2JqCjEx\nIDAgb2JqCihibGFua1BERikKZW5kb2JqCjEyIDAgb2JqCij+/1wwMDBtXDAw\nMGFcMDAwY1wwMDBPXDAwMFNcMDAwIFwwMDBWXDAwMGVcMDAwclwwMDBzXDAw\nMONcMDAwb1wwMDAgXDAwMDFcMDAwMFwwMDAuXDAwMDFcMDAwNFwwMDAuXDAw\nMDNcMDAwIFwwMDBcKFwwMDBGXDAwMGFcMDAwc1wwMDBlXDAwMCBcMDAwMVww\nMDA4XDAwMERcMDAwMVwwMDAwXDAwMDlcMDAwXClcMDAwIFwwMDBRXDAwMHVc\nMDAwYVwwMDByXDAwMHRcMDAwelwwMDAgXDAwMFBcMDAwRFwwMDBGXDAwMENc\nMDAwb1wwMDBuXDAwMHRcMDAwZVwwMDB4XDAwMHQpCmVuZG9iagoxMyAwIG9i\nagooUGFnZXMpCmVuZG9iagoxNCAwIG9iagooRDoyMDE5MDMxMTE5MzgwOVow\nMCcwMCcpCmVuZG9iagoxIDAgb2JqCjw8IC9UaXRsZSAxMSAwIFIgL1Byb2R1\nY2VyIDEyIDAgUiAvQ3JlYXRvciAxMyAwIFIgL0NyZWF0aW9uRGF0ZSAxNCAw\nIFIgL01vZERhdGUKMTQgMCBSID4+CmVuZG9iagp4cmVmCjAgMTUKMDAwMDAw\nMDAwMCA2NTUzNSBmIAowMDAwMDAzNjU5IDAwMDAwIG4gCjAwMDAwMDAxOTgg\nMDAwMDAgbiAKMDAwMDAwMzE0NCAwMDAwMCBuIAowMDAwMDAwMDIyIDAwMDAw\nIG4gCjAwMDAwMDAxODAgMDAwMDAgbiAKMDAwMDAwMDMwOCAwMDAwMCBuIAow\nMDAwMDAzMTA5IDAwMDAwIG4gCjAwMDAwMDAzNzYgMDAwMDAgbiAKMDAwMDAw\nMzA4OSAwMDAwMCBuIAowMDAwMDAzMjMzIDAwMDAwIG4gCjAwMDAwMDMyODMg\nMDAwMDAgbiAKMDAwMDAwMzMxMCAwMDAwMCBuIAowMDAwMDAzNTkzIDAwMDAw\nIG4gCjAwMDAwMDM2MTcgMDAwMDAgbiAKdHJhaWxlcgo8PCAvU2l6ZSAxNSAv\nUm9vdCAxMCAwIFIgL0luZm8gMSAwIFIgL0lEIFsgPDM4NzkzYjhlZmU0YTBj\nZDY2MTUxNzUyOTM4YzM4YTg4Pgo8Mzg3OTNiOGVmZTRhMGNkNjYxNTE3NTI5\nMzhjMzhhODg+IF0gPj4Kc3RhcnR4cmVmCjM3NjQKJSVFT0YK\n",
          "cliente": {
            "cpf_cnpj": "46728754000163",
              "email": "teste@nexaas.com.br",
              "indicador_inscricao_estadual": 1,
              "inscricao_estadual": "407056228113",
              "inscricao_municipal": "",
              "inscricao_suframa": "",
              "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
              "pessoa_fisica_juridica": "company",
              "endereco": {
                "bairro": "MEDEIROS",
                "cep": "13212255",
                "codigo_municipio": "3525904",
                "codigo_pais": "1058",
                "complemento": "",
                "logradouro": "AV GUILHERME PORCARI",
                "nome_municipio": "JUNDIAI",
                "nome_pais": "BRASIL",
                "numero": "S N",
                "telefone": "99999999",
                "uf": "SP"
              }
          },
            "cobranca": {
              "duplicatas": [
              {
                "data_vencimento": "",
                "numero": "",
                "valor": ""
              }
              ],
              "fatura": {
                "numero_fatura": "",
                "valor_desconto": 0,
                "valor_liquido": 0,
                "valor_original": 0
              }
            },
            "dados_gerais": {
              "codigo_mun_ocorrencia": "3525904",
              "data_saida_entrada": "2018-09-28T17:07:35-03:00",
              "destino_operacao": "1",
              "finalidade_nfe": "1",
              "serie": 1"
                "indicador_consumidor_final": "0",
              "indicador_presenca": "9",
              "natureza_operacao": "Venda merc. adq. rec. terc. efet. fora estab.",
              "tipo_operacao": "1",
              "uf": 35
            },
            "forma_de_pagamento": [
            {
              "tipo_de_pagamento": "01",
              "valor_do_pagamento": 50
            },
            {
              "tipo_de_integracao": "2",
              "tipo_de_pagamento": "03",
              "valor_do_pagamento": 8.97
            },
            {
              "bandeira_operadora": "02",
              "cnpj_credenciadora": "99999999999999",
              "numero_autorizacao_operacao": "99999999999999999999",
              "tipo_de_integracao": "1",
              "tipo_de_pagamento": "03",
              "valor_do_pagamento": 40
            }
            ],
            "informacoes_adicionais": {
              "informacoes_contribuinte": "",
              "informacoes_fisco": "Cliente: 112. Remessa: 000061074-0123"
            },
            "lista_autorizacao": [],
            "produtos": [
            {
              "cest": "",
              "cfop": 5104,
              "cnpj_fabricante_mercadoria": "99999999999999999",
              "codigo_beneficio_fiscal": "foo",
              "codigo_ean": "",
              "codigo_produto": "123456",
              "descricao": "NITROGENIO CIL 50L 10M3",
              "ean_unidade_trib": "",
              "informacoes_adicionais": "",
              "ncm": 28043000,
              "num_item_pedido": 1,
              "num_pedido": "S0100249134",
              "outras_despesas": 0,
              "producao_escala": "S",
              "quantidade_comercial": 6,
              "quantidade_tributaria": 6,
              "unidade_comercial": "M3",
              "unidade_tributaria": "M3",
              "valor_desconto": 0,
              "valor_frete": 0,
              "valor_seguro": 0,
              "valor_total_produto": "98.97",
              "valor_unitario_comercial": 16.49485,
              "valor_unitario_tributario": 16.49485,
              "tributacao": {
                "valor_aproximado_total": 269.64,
                "cofins": {
                  "aliquota_cofins": "7.60",
                  "aliquota_cofins_reais": 0,
                  "aliquota_cofins_st_reais": 0,
                  "aliquota_st": 0,
                  "situacao_tributaria": "01",
                  "valor_base_calculo": 989.69,
                  "valor_base_calculo_st": 0,
                  "valor_cofins": 75.2,
                  "valor_cofins_st": 0
                },
                "icms": {
                  "aliquota_consumidor_final": 0,
                  "aliquota_fcp": 0,
                  "aliquota_fcp_st": 0,
                  "aliquota_fcp_st_retido": 0,
                  "aliquota_icms": "18.00",
                  "aliquota_icms_simples_nacional": 0,
                  "aliquota_icms_st": 0,
                  "aliquota_interestadual": 0,
                  "aliquota_interna_interestadual": 0,
                  "base_icmsst_retido": 0,
                  "codigo_origem_produto": 3,
                  "credito_icms_simples_nacional": 0,
                  "modalidade_base_calculo": 3,
                  "modalidade_base_calculo_st": "3",
                  "motivo_desoneracao": "",
                  "perc_diferimento": 0,
                  "perc_fcp_interestadual": 0,
                  "perc_mva_icms_st": 0,
                  "perc_provisorio_interestadual": 0,
                  "perc_reducao_base_calculo": 0,
                  "perc_reducao_base_calculo_st": 0,
                  "situacao_simples_nacional": 0,
                  "situacao_tributaria": "00",
                  "valor_base_calculo": 989.69,
                  "valor_base_calculo_fcp": 0,
                  "valor_base_calculo_fcp_st": 0,
                  "valor_base_calculo_fcp_st_retido": 0,
                  "valor_base_calculo_st": 0,
                  "valor_base_calculo_uf_dest": 0,
                  "valor_fcp": 0,
                  "valor_fcp_interestadual": 0,
                  "valor_fcp_st": 0,
                  "valor_fcp_st_retido": 0,
                  "valor_icms": 178.14,
                  "valor_icms_desonerado": 0,
                  "valor_icms_diferido": 0,
                  "valor_icms_operacao": 0,
                  "valor_icms_st": 0,
                  "valor_icmsst_retido": 0,
                  "valor_uf_destinatario_interestadual": 0,
                  "valor_uf_rementente": 0,
                  "valor_uf_remetente_interestadual": 0
                },
                "importacao": {
                  "base_calculo_importacao": "",
                  "valor_despesas_aduaneiras": "",
                  "valor_imposto_importacao": "",
                  "valor_iof": ""
                },
                "ipi": {
                  "aliquota_ipi": "0.00",
                  "cnpj_produtor": "",
                  "codigo_enquadramento": 999,
                  "codigo_selo_controle": 0,
                  "quantidade_selo_controle": 0,
                  "situacao_tributaria": "01",
                  "valor_base_calculo": "989.69",
                  "valor_ipi": "0.00",
                  "valor_unidade": ""
                },
                "pis": {
                  "aliquota_pis": 1.65,
                  "aliquota_pis_reais": 0,
                  "aliquota_pis_reais_st": 0,
                  "aliquota_st": 0,
                  "situacao_tributaria": "01",
                  "valor_base_calculo": 989.69,
                  "valor_base_calculo_st": 0,
                  "valor_pis": 16.3,
                  "valor_pis_st": 0
                }
              },
              "declaracao_importacao": [
              {
                "cnpj": "",
                "codigo_exportador": "",
                "data_desembaraco": "",
                "data_importacao": "",
                "documento_importacao": "",
                "forma_importacao": "",
                "local_desembaraco": "",
                "uf_adquirente": "",
                "uf_desembaraco": "",
                "valor_afrmm": "",
                "via_transporte": "",
                "adicoes": [
                {
                  "codigo_fabricante": "",
                  "numero_adicao": "",
                  "numero_drawback": "",
                  "numero_sequencial": "",
                  "valor_desconto": ""
                }
                ]
              }
              ]
            }
            ],
            "retencao_tributos": {
              "base_calculo_retencao_previdencia": 0,
              "valor_base_calculo_irrf": 0,
              "valor_irrf": 0,
              "valor_retencao_previdencia": 0,
              "valor_retido_cofins": 0,
              "valor_retido_csll": 0,
              "valor_retido_pis": 0
            },
            "transporte": {
              "codigo_modalidade": 9,
              "retencao_icms": {
                "aliquota_retencao": 0,
                "cfop": "",
                "codigo_municipio": "",
                "uf": "",
                "valor_base_calculo": 0,
                "valor_retido": 0,
                "valor_servico": 0
              },
              "transportadora": {
                "cnpj_cpf": "",
                "endereco_completo": "",
                "inscricao_estadual": "",
                "municipio": "",
                "razao_social": "",
                "uf": ""
              },
              "veiculo": {
                "placa": "",
                "rntc": "",
                "uf": ""
              },
              "volume_transportado": [
              {
                "especie": "Cilindro",
                "marca": 0,
                "numeracao_volumes": 0,
                "peso_bruto": "450.780",
                "peso_liquido": "66.780",
                "quantidade_volumes": 1
              }
              ]
            }
        }
}'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"cfe"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 10990,
    <span class="s2">"status"</span>: <span class="s2">"processing"</span>,
    <span class="s2">"data"</span>:  <span class="o">{</span>...<span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

          <h1 id="c-lculo-tribut-rio">Cálculo Tributário</h1>

<p>Para calcular os tributos de um documento fiscal (NFe e NFCe), é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations/{organization_id}/tax_calculator</h6>
    </div>
</div>

<aside class="notice">
  A estrutura JSON será a mesma que a emissão em lote para NFe e NFCe
</aside>

<h2 id="exemplo-nfe">Exemplo NFe</h2>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/tax_calculator <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
    "nfe_batch": {
        "lote": 1,
        "serie": 22,
        "engine_de_calculo": "nexaas",
        "sincronicidade": 0,
        "uf": 53,
        "nfes": [
            {
                "cliente": {
                    "cpf_cnpj": "01716006000122",
                    "email": "teste@nexaas.com.br",
                    "indicador_inscricao_estadual": 1,
                    "inscricao_estadual": "0736913700156",
                    "inscricao_municipal": "",
                    "inscricao_suframa": "",
                    "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                    "pessoa_fisica_juridica": "company",
                    "endereco": {
                        "bairro": "Bairro teste",
                        "cep": "05685040",
                        "codigo_municipio": "5300108",
                        "codigo_pais": "1058",
                        "complemento": "",
                        "logradouro": "Rua do Consultor",
                        "nome_municipio": "BRASILIA",
                        "nome_pais": "BRASIL",
                        "numero": "14",
                        "telefone": "99999999",
                        "uf": "DF"
                    }
                },
                "cobranca": {
                    "duplicatas": [
                        {
                            "data_vencimento": "",
                            "numero": "",
                            "valor": ""
                        }
                    ],
                    "fatura": {
                        "numero_fatura": "",
                        "valor_desconto": 0,
                        "valor_liquido": 0,
                        "valor_original": 0
                    }
                },
                "dados_gerais": {
                    "codigo_mun_ocorrencia": "5300108",
                    "destino_operacao": "1",
                    "finalidade_nfe": "1",
                    "indicador_consumidor_final": "0",
                    "indicador_presenca": "9",
                    "natureza_operacao": "Venda merc. adq. rec. terc. efet. fora estab.",
                    "tipo_operacao": "1",
                    "uf": 53,
                    "codigo_natureza_operacao": "002"
                },
                "forma_de_pagamento": [
                    {
                        "tipo_de_pagamento": "01",
                        "valor_do_pagamento": 50
                    },
                    {
                        "tipo_de_integracao": "2",
                        "tipo_de_pagamento": "03",
                        "valor_do_pagamento": 8.97
                    },
                    {
                        "bandeira_operadora": "02",
                        "cnpj_credenciadora": "99999999999999",
                        "numero_autorizacao_operacao": "99999999999999999999",
                        "tipo_de_integracao": "1",
                        "tipo_de_pagamento": "03",
                        "valor_do_pagamento": 40
                    }
                ],
                "informacoes_adicionais": {
                    "informacoes_contribuinte": "",
                    "informacoes_fisco": "Cliente: 112. Remessa: 000061074-0123"
                },
                "lista_autorizacao": [],
                "produtos": [
                    {
                        "cest": "",
                        "cfop": 5104,
                        "cnpj_fabricante_mercadoria": "99999999999999999",
                        "codigo_beneficio_fiscal": "foo",
                        "codigo_ean": "",
                        "codigo_produto": "123456",
                        "descricao": "NITROGENIO CIL 50L 10M3",
                        "ean_unidade_trib": "",
                        "informacoes_adicionais": "",
                        "ncm": 28043000,
                        "num_item_pedido": 1,
                        "num_pedido": "S0100249134",
                        "outras_despesas": 0,
                        "producao_escala": "S",
                        "quantidade_comercial": 6,
                        "quantidade_tributaria": 6,
                        "unidade_comercial": "M3",
                        "unidade_tributaria": "M3",
                        "valor_desconto": 0,
                        "valor_frete": 0,
                        "valor_seguro": 0,
                        "valor_total_produto": "98.97",
                        "valor_unitario_comercial": 16.49485,
                        "valor_unitario_tributario": 16.49485,
                        "tributacao": {
                            "icms": {
                                "codigo_origem_produto": 2
                            }
                        },
                        "declaracao_importacao": [
                            {
                                "cnpj": "",
                                "codigo_exportador": "",
                                "data_desembaraco": "",
                                "data_importacao": "",
                                "documento_importacao": "",
                                "forma_importacao": "",
                                "local_desembaraco": "",
                                "uf_adquirente": "",
                                "uf_desembaraco": "",
                                "valor_afrmm": "",
                                "via_transporte": "",
                                "adicoes": [
                                    {
                                        "codigo_fabricante": "",
                                        "numero_adicao": "",
                                        "numero_drawback": "",
                                        "numero_sequencial": "",
                                        "valor_desconto": ""
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "retencao_tributos": {
                    "base_calculo_retencao_previdencia": 0,
                    "valor_base_calculo_irrf": 0,
                    "valor_irrf": 0,
                    "valor_retencao_previdencia": 0,
                    "valor_retido_cofins": 0,
                    "valor_retido_csll": 0,
                    "valor_retido_pis": 0
                },
                "transporte": {
                    "codigo_modalidade": 9,
                    "retencao_icms": {
                        "aliquota_retencao": 0,
                        "cfop": "",
                        "codigo_municipio": "",
                        "uf": "",
                        "valor_base_calculo": 0,
                        "valor_retido": 0,
                        "valor_servico": 0
                    },
                    "transportadora": {
                        "cnpj_cpf": "",
                        "endereco_completo": "",
                        "inscricao_estadual": "",
                        "municipio": "",
                        "razao_social": "",
                        "uf": ""
                    },
                    "veiculo": {
                        "placa": "",
                        "rntc": "",
                        "uf": ""
                    },
                    "volume_transportado": [
                        {
                            "especie": "Cilindro",
                            "marca": 0,
                            "numeracao_volumes": 0,
                            "peso_bruto": "450.780",
                            "peso_liquido": "66.780",
                            "quantidade_volumes": 1
                        }
                    ]
                }
            },
            {
                "cliente": {
                    "cpf_cnpj": "01716006000122",
                    "email": "teste@nexaas.com.br",
                    "indicador_inscricao_estadual": 1,
                    "inscricao_estadual": "0736913700156",
                    "inscricao_municipal": "",
                    "inscricao_suframa": "",
                    "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                    "pessoa_fisica_juridica": "company",
                    "endereco": {
                        "bairro": "Bairro teste",
                        "cep": "05685040",
                        "codigo_municipio": "5300108",
                        "codigo_pais": "1058",
                        "complemento": "",
                        "logradouro": "Rua do Consultor",
                        "nome_municipio": "BRASILIA",
                        "nome_pais": "BRASIL",
                        "numero": "14",
                        "telefone": "99999999",
                        "uf": "DF"
                    }
                },
                "cobranca": {
                    "duplicatas": [
                        {
                            "data_vencimento": "",
                            "numero": "",
                            "valor": ""
                        }
                    ],
                    "fatura": {
                        "numero_fatura": "",
                        "valor_desconto": 0,
                        "valor_liquido": 0,
                        "valor_original": 0
                    }
                },
                "dados_gerais": {
                    "codigo_mun_ocorrencia": "5300108",
                    "destino_operacao": "1",
                    "finalidade_nfe": "1",
                    "indicador_consumidor_final": "0",
                    "indicador_presenca": "9",
                    "natureza_operacao": "Venda merc. adq. rec. terc. efet. fora estab.",
                    "tipo_operacao": "1",
                    "uf": 53,
                    "codigo_natureza_operacao": "002"
                },
                "forma_de_pagamento": [
                    {
                        "tipo_de_pagamento": "01",
                        "valor_do_pagamento": 50
                    },
                    {
                        "tipo_de_integracao": "2",
                        "tipo_de_pagamento": "03",
                        "valor_do_pagamento": 8.97
                    },
                    {
                        "bandeira_operadora": "02",
                        "cnpj_credenciadora": "99999999999999",
                        "numero_autorizacao_operacao": "99999999999999999999",
                        "tipo_de_integracao": "1",
                        "tipo_de_pagamento": "03",
                        "valor_do_pagamento": 40
                    }
                ],
                "informacoes_adicionais": {
                    "informacoes_contribuinte": "",
                    "informacoes_fisco": "Cliente: 112. Remessa: 000061074-0123"
                },
                "lista_autorizacao": [],
                "produtos": [
                    {
                        "cest": "",
                        "cfop": 5104,
                        "cnpj_fabricante_mercadoria": "99999999999999999",
                        "codigo_beneficio_fiscal": "foo",
                        "codigo_ean": "",
                        "codigo_produto": "123456",
                        "descricao": "NITROGENIO CIL 50L 10M3",
                        "ean_unidade_trib": "",
                        "informacoes_adicionais": "",
                        "ncm": 28043000,
                        "num_item_pedido": 1,
                        "num_pedido": "S0100249134",
                        "outras_despesas": 0,
                        "producao_escala": "S",
                        "quantidade_comercial": 6,
                        "quantidade_tributaria": 6,
                        "unidade_comercial": "M3",
                        "unidade_tributaria": "M3",
                        "valor_desconto": 0,
                        "valor_frete": 0,
                        "valor_seguro": 0,
                        "valor_total_produto": "98.97",
                        "valor_unitario_comercial": 16.49485,
                        "valor_unitario_tributario": 16.49485,
                        "tributacao": {
                            "icms": {
                                "codigo_origem_produto": 2
                            }
                        },
                        "declaracao_importacao": [
                            {
                                "cnpj": "",
                                "codigo_exportador": "",
                                "data_desembaraco": "",
                                "data_importacao": "",
                                "documento_importacao": "",
                                "forma_importacao": "",
                                "local_desembaraco": "",
                                "uf_adquirente": "",
                                "uf_desembaraco": "",
                                "valor_afrmm": "",
                                "via_transporte": "",
                                "adicoes": [
                                    {
                                        "codigo_fabricante": "",
                                        "numero_adicao": "",
                                        "numero_drawback": "",
                                        "numero_sequencial": "",
                                        "valor_desconto": ""
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "retencao_tributos": {
                    "base_calculo_retencao_previdencia": 0,
                    "valor_base_calculo_irrf": 0,
                    "valor_irrf": 0,
                    "valor_retencao_previdencia": 0,
                    "valor_retido_cofins": 0,
                    "valor_retido_csll": 0,
                    "valor_retido_pis": 0
                },
                "transporte": {
                    "codigo_modalidade": 9,
                    "retencao_icms": {
                        "aliquota_retencao": 0,
                        "cfop": "",
                        "codigo_municipio": "",
                        "uf": "",
                        "valor_base_calculo": 0,
                        "valor_retido": 0,
                        "valor_servico": 0
                    },
                    "transportadora": {
                        "cnpj_cpf": "",
                        "endereco_completo": "",
                        "inscricao_estadual": "",
                        "municipio": "",
                        "razao_social": "",
                        "uf": ""
                    },
                    "veiculo": {
                        "placa": "",
                        "rntc": "",
                        "uf": ""
                    },
                    "volume_transportado": [
                        {
                            "especie": "Cilindro",
                            "marca": 0,
                            "numeracao_volumes": 0,
                            "peso_bruto": "450.780",
                            "peso_liquido": "66.780",
                            "quantidade_volumes": 1
                        }
                    ]
                }
            },
            {
                "cliente": {
                    "cpf_cnpj": "01716006000122",
                    "email": "teste@nexaas.com.br",
                    "indicador_inscricao_estadual": 1,
                    "inscricao_estadual": "0736913700156",
                    "inscricao_municipal": "",
                    "inscricao_suframa": "",
                    "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                    "pessoa_fisica_juridica": "company",
                    "endereco": {
                        "bairro": "Bairro teste",
                        "cep": "05685040",
                        "codigo_municipio": "5300108",
                        "codigo_pais": "1058",
                        "complemento": "",
                        "logradouro": "Rua do Consultor",
                        "nome_municipio": "BRASILIA",
                        "nome_pais": "BRASIL",
                        "numero": "14",
                        "telefone": "99999999",
                        "uf": "DF"
                    }
                },
                "cobranca": {
                    "duplicatas": [
                        {
                            "data_vencimento": "",
                            "numero": "",
                            "valor": ""
                        }
                    ],
                    "fatura": {
                        "numero_fatura": "",
                        "valor_desconto": 0,
                        "valor_liquido": 0,
                        "valor_original": 0
                    }
                },
                "dados_gerais": {
                    "codigo_mun_ocorrencia": "5300108",
                    "destino_operacao": "1",
                    "finalidade_nfe": "1",
                    "indicador_consumidor_final": "0",
                    "indicador_presenca": "9",
                    "natureza_operacao": "Venda merc. adq. rec. terc. efet. fora estab.",
                    "tipo_operacao": "1",
                    "uf": 53,
                    "codigo_natureza_operacao": "002"
                },
                "forma_de_pagamento": [
                    {
                        "tipo_de_pagamento": "01",
                        "valor_do_pagamento": 50
                    },
                    {
                        "tipo_de_integracao": "2",
                        "tipo_de_pagamento": "03",
                        "valor_do_pagamento": 8.97
                    },
                    {
                        "bandeira_operadora": "02",
                        "cnpj_credenciadora": "99999999999999",
                        "numero_autorizacao_operacao": "99999999999999999999",
                        "tipo_de_integracao": "1",
                        "tipo_de_pagamento": "03",
                        "valor_do_pagamento": 40
                    }
                ],
                "informacoes_adicionais": {
                    "informacoes_contribuinte": "",
                    "informacoes_fisco": "Cliente: 112. Remessa: 000061074-0123"
                },
                "lista_autorizacao": [],
                "produtos": [
                    {
                        "cest": "",
                        "cfop": 5104,
                        "cnpj_fabricante_mercadoria": "99999999999999999",
                        "codigo_beneficio_fiscal": "foo",
                        "codigo_ean": "",
                        "codigo_produto": "123456",
                        "descricao": "OXIGENIO CIL 50L 10M3",
                        "ean_unidade_trib": "",
                        "informacoes_adicionais": "",
                        "ncm": 28043000,
                        "num_item_pedido": 1,
                        "num_pedido": "S0100249134",
                        "outras_despesas": 0,
                        "producao_escala": "S",
                        "quantidade_comercial": 6,
                        "quantidade_tributaria": 6,
                        "unidade_comercial": "M3",
                        "unidade_tributaria": "M3",
                        "valor_desconto": 0,
                        "valor_frete": 0,
                        "valor_seguro": 0,
                        "valor_total_produto": "98.97",
                        "valor_unitario_comercial": 16.49485,
                        "valor_unitario_tributario": 16.49485,
                        "tributacao": {
                            "icms": {
                                "codigo_origem_produto": 2
                            }
                        },
                        "declaracao_importacao": [
                            {
                                "cnpj": "",
                                "codigo_exportador": "",
                                "data_desembaraco": "",
                                "data_importacao": "",
                                "documento_importacao": "",
                                "forma_importacao": "",
                                "local_desembaraco": "",
                                "uf_adquirente": "",
                                "uf_desembaraco": "",
                                "valor_afrmm": "",
                                "via_transporte": "",
                                "adicoes": [
                                    {
                                        "codigo_fabricante": "",
                                        "numero_adicao": "",
                                        "numero_drawback": "",
                                        "numero_sequencial": "",
                                        "valor_desconto": ""
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "retencao_tributos": {
                    "base_calculo_retencao_previdencia": 0,
                    "valor_base_calculo_irrf": 0,
                    "valor_irrf": 0,
                    "valor_retencao_previdencia": 0,
                    "valor_retido_cofins": 0,
                    "valor_retido_csll": 0,
                    "valor_retido_pis": 0
                },
                "transporte": {
                    "codigo_modalidade": 9,
                    "retencao_icms": {
                        "aliquota_retencao": 0,
                        "cfop": "",
                        "codigo_municipio": "",
                        "uf": "",
                        "valor_base_calculo": 0,
                        "valor_retido": 0,
                        "valor_servico": 0
                    },
                    "transportadora": {
                        "cnpj_cpf": "",
                        "endereco_completo": "",
                        "inscricao_estadual": "",
                        "municipio": "",
                        "razao_social": "",
                        "uf": ""
                    },
                    "veiculo": {
                        "placa": "",
                        "rntc": "",
                        "uf": ""
                    },
                    "volume_transportado": [
                        {
                            "especie": "Cilindro",
                            "marca": 0,
                            "numeracao_volumes": 0,
                            "peso_bruto": "450.780",
                            "peso_liquido": "66.780",
                            "quantidade_volumes": 1
                        }
                    ]
                }
            }
        ]
    }
}
}'</span>


EXEMPLO DE RESPOSTA
<span class="o">{</span>
    <span class="s2">"nfe_batch"</span>: <span class="o">{</span>
        <span class="s2">"lote"</span>: 1,
        <span class="s2">"serie"</span>: 22,
        <span class="s2">"engine_de_calculo"</span>: <span class="s2">"nexaas"</span>,
        <span class="s2">"sincronicidade"</span>: 0,
        <span class="s2">"uf"</span>: 53,
        <span class="s2">"nfes"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"dados_gerais"</span>: <span class="o">{</span>
                    <span class="s2">"uf"</span>: <span class="s2">"53"</span>,
                    <span class="s2">"serie"</span>: 22,
                    <span class="s2">"codigo_mun_ocorrencia"</span>: <span class="s2">"5300108"</span>,
                    <span class="s2">"natureza_operacao"</span>: <span class="s2">"Venda merc. adq. rec. terc. efet. fora estab."</span>,
                    <span class="s2">"codigo_natureza_operacao"</span>: <span class="s2">"002"</span>,
                    <span class="s2">"tipo_operacao"</span>: <span class="s2">"1"</span>,
                    <span class="s2">"indicador_consumidor_final"</span>: <span class="s2">"0"</span>,
                    <span class="s2">"destino_operacao"</span>: <span class="s2">"1"</span>,
                    <span class="s2">"finalidade_nfe"</span>: <span class="s2">"1"</span>,
                    <span class="s2">"indicador_presenca"</span>: <span class="s2">"9"</span>
                <span class="o">}</span>,
                <span class="s2">"emitente"</span>: <span class="o">{</span>
                    <span class="s2">"cnpj"</span>: <span class="s2">"22769530000131"</span>,
                    <span class="s2">"razao_social"</span>: <span class="s2">"Organizacao Teste NFCe / DF"</span>,
                    <span class="s2">"nome_fantasia"</span>: <span class="s2">"Organizacao Teste NFCe / DF"</span>,
                    <span class="s2">"inscricao_estadual"</span>: <span class="s2">"772733700120"</span>,
                    <span class="s2">"codigo_regime_tributario"</span>: 3,
                    <span class="s2">"regime_tributario_diferenciado"</span>: <span class="s2">"ISENLF"</span>,
                    <span class="s2">"endereco"</span>: <span class="o">{</span>
                        <span class="s2">"bairro"</span>: <span class="s2">"Asa Sul"</span>,
                        <span class="s2">"cep"</span>: <span class="s2">"70070938"</span>,
                        <span class="s2">"logradouro"</span>: <span class="s2">"SAUS Quadra 4 Lote 9/10"</span>,
                        <span class="s2">"nome_pais"</span>: <span class="s2">"Brasil"</span>,
                        <span class="s2">"nome_municipio"</span>: <span class="s2">"Brasilia"</span>,
                        <span class="s2">"numero"</span>: <span class="s2">"04"</span>,
                        <span class="s2">"codigo_municipio"</span>: <span class="s2">"5300108"</span>,
                        <span class="s2">"codigo_pais"</span>: <span class="s2">"1058"</span>,
                        <span class="s2">"uf"</span>: <span class="s2">"DF"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"cliente"</span>: <span class="o">{</span>
                    <span class="s2">"cpf_cnpj"</span>: <span class="s2">"01716006000122"</span>,
                    <span class="s2">"email"</span>: <span class="s2">"teste@nexaas.com.br"</span>,
                    <span class="s2">"inscricao_estadual"</span>: <span class="s2">"0736913700156"</span>,
                    <span class="s2">"nome"</span>: <span class="s2">"NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL"</span>,
                    <span class="s2">"pessoa_fisica_juridica"</span>: <span class="s2">"company"</span>,
                    <span class="s2">"indicador_inscricao_estadual"</span>: <span class="s2">"1"</span>,
                    <span class="s2">"endereco"</span>: <span class="o">{</span>
                        <span class="s2">"bairro"</span>: <span class="s2">"Bairro teste"</span>,
                        <span class="s2">"cep"</span>: <span class="s2">"05685040"</span>,
                        <span class="s2">"logradouro"</span>: <span class="s2">"Rua do Consultor"</span>,
                        <span class="s2">"nome_pais"</span>: <span class="s2">"BRASIL"</span>,
                        <span class="s2">"nome_municipio"</span>: <span class="s2">"BRASILIA"</span>,
                        <span class="s2">"numero"</span>: <span class="s2">"14"</span>,
                        <span class="s2">"codigo_municipio"</span>: <span class="s2">"5300108"</span>,
                        <span class="s2">"codigo_pais"</span>: <span class="s2">"1058"</span>,
                        <span class="s2">"telefone"</span>: <span class="s2">"99999999"</span>,
                        <span class="s2">"uf"</span>: <span class="s2">"DF"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"retirada"</span>: <span class="o">{</span>
                    <span class="s2">"endereco"</span>: <span class="o">{</span>
                        <span class="s2">"nome_pais"</span>: <span class="s2">"Brasil"</span>,
                        <span class="s2">"codigo_pais"</span>: <span class="s2">"1058"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"entrega"</span>: <span class="o">{</span>
                    <span class="s2">"endereco"</span>: <span class="o">{</span>
                        <span class="s2">"nome_pais"</span>: <span class="s2">"Brasil"</span>,
                        <span class="s2">"codigo_pais"</span>: <span class="s2">"1058"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"produtos"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                        <span class="s2">"codigo_produto"</span>: <span class="s2">"123456"</span>,
                        <span class="s2">"codigo_ean"</span>: <span class="s2">"SEM GTIN"</span>,
                        <span class="s2">"descricao"</span>: <span class="s2">"NITROGENIO CIL 50L 10M3"</span>,
                        <span class="s2">"ncm"</span>: <span class="s2">"28043000"</span>,
                        <span class="s2">"cfop"</span>: <span class="s2">"5102"</span>,
                        <span class="s2">"unidade_comercial"</span>: <span class="s2">"M3"</span>,
                        <span class="s2">"ean_unidade_trib"</span>: <span class="s2">"SEM GTIN"</span>,
                        <span class="s2">"unidade_tributaria"</span>: <span class="s2">"M3"</span>,
                        <span class="s2">"num_pedido"</span>: <span class="s2">"S0100249134"</span>,
                        <span class="s2">"num_item_pedido"</span>: <span class="s2">"1"</span>,
                        <span class="s2">"producao_escala"</span>: <span class="s2">"S"</span>,
                        <span class="s2">"cnpj_fabricante_mercadoria"</span>: <span class="s2">"99999999999999999"</span>,
                        <span class="s2">"codigo_beneficio_fiscal"</span>: <span class="s2">"foo"</span>,
                        <span class="s2">"quantidade_comercial"</span>: 6,
                        <span class="s2">"valor_unitario_comercial"</span>: 16.49485,
                        <span class="s2">"quantidade_tributaria"</span>: 6,
                        <span class="s2">"valor_unitario_tributario"</span>: 16.49485,
                        <span class="s2">"valor_frete"</span>: 0,
                        <span class="s2">"valor_seguro"</span>: 0,
                        <span class="s2">"valor_desconto"</span>: 0,
                        <span class="s2">"valor_total_produto"</span>: 98.97,
                        <span class="s2">"outras_despesas"</span>: 0,
                        <span class="s2">"tributacao"</span>: <span class="o">{</span>
                            <span class="s2">"icms"</span>: <span class="o">{</span>
                                <span class="s2">"aliquota_consumidor_final"</span>: 0,
                                <span class="s2">"aliquota_icms"</span>: 17,
                                <span class="s2">"aliquota_icms_simples_nacional"</span>: 0,
                                <span class="s2">"aliquota_icms_st"</span>: 0,
                                <span class="s2">"aliquota_interestadual"</span>: <span class="s2">"12"</span>,
                                <span class="s2">"aliquota_interna_interestadual"</span>: <span class="s2">"0.0000"</span>,
                                <span class="s2">"base_icmsst_retido"</span>: 0,
                                <span class="s2">"codigo_origem_produto"</span>: 2,
                                <span class="s2">"credito_icms_simples_nacional"</span>: 0,
                                <span class="s2">"modalidade_base_calculo"</span>: <span class="s2">"3"</span>,
                                <span class="s2">"perc_diferimento"</span>: 0,
                                <span class="s2">"perc_fcp_interestadual"</span>: <span class="s2">"0.0000"</span>,
                                <span class="s2">"perc_mva_icms_st"</span>: 0,
                                <span class="s2">"perc_provisorio_interestadual"</span>: <span class="s2">"100"</span>,
                                <span class="s2">"perc_reducao_base_calculo"</span>: 0,
                                <span class="s2">"perc_reducao_base_calculo_st"</span>: 0,
                                <span class="s2">"situacao_tributaria"</span>: <span class="s2">"00"</span>,
                                <span class="s2">"valor_base_calculo"</span>: 98.97,
                                <span class="s2">"valor_base_calculo_st"</span>: 0,
                                <span class="s2">"valor_icms"</span>: 16.82,
                                <span class="s2">"valor_icms_desonerado"</span>: 0,
                                <span class="s2">"valor_icms_diferido"</span>: 0,
                                <span class="s2">"valor_icms_operacao"</span>: 0,
                                <span class="s2">"valor_icms_st"</span>: 0,
                                <span class="s2">"valor_icmsst_retido"</span>: 0
                            <span class="o">}</span>,
                            <span class="s2">"pis"</span>: <span class="o">{</span>
                                <span class="s2">"aliquota_st"</span>: 0,
                                <span class="s2">"valor_base_calculo"</span>: 98.97,
                                <span class="s2">"valor_base_calculo_st"</span>: 0,
                                <span class="s2">"situacao_tributaria"</span>: <span class="s2">"49"</span>,
                                <span class="s2">"aliquota_pis"</span>: 3,
                                <span class="s2">"aliquota_pis_reais"</span>: 0,
                                <span class="s2">"aliquota_pis_reais_st"</span>: 0,
                                <span class="s2">"valor_pis"</span>: 2.97,
                                <span class="s2">"valor_pis_st"</span>: 0
                            <span class="o">}</span>,
                            <span class="s2">"cofins"</span>: <span class="o">{</span>
                                <span class="s2">"aliquota_st"</span>: 0,
                                <span class="s2">"valor_base_calculo"</span>: 98.97,
                                <span class="s2">"valor_base_calculo_st"</span>: 0,
                                <span class="s2">"situacao_tributaria"</span>: <span class="s2">"49"</span>,
                                <span class="s2">"aliquota_cofins"</span>: 4,
                                <span class="s2">"aliquota_cofins_reais"</span>: 0,
                                <span class="s2">"aliquota_cofins_reais_st"</span>: 0,
                                <span class="s2">"valor_cofins"</span>: 3.96,
                                <span class="s2">"valor_cofins_st"</span>: 0
                            <span class="o">}</span>
                        <span class="o">}</span>
                    <span class="o">}</span>
                <span class="o">]</span>,
                <span class="s2">"transporte"</span>: <span class="o">{</span>
                    <span class="s2">"codigo_modalidade"</span>: 9,
                    <span class="s2">"retencao_icms"</span>: <span class="o">{</span>
                        <span class="s2">"valor_servico"</span>: 0,
                        <span class="s2">"valor_base_calculo"</span>: 0,
                        <span class="s2">"aliquota_retencao"</span>: 0,
                        <span class="s2">"valor_retido"</span>: 0
                    <span class="o">}</span>,
                    <span class="s2">"volume_transportado"</span>: <span class="o">[</span>
                        <span class="o">{</span>
                            <span class="s2">"numeracao_volumes"</span>: <span class="s2">"0"</span>,
                            <span class="s2">"marca"</span>: <span class="s2">"0"</span>,
                            <span class="s2">"especie"</span>: <span class="s2">"Cilindro"</span>,
                            <span class="s2">"quantidade_volumes"</span>: 1,
                            <span class="s2">"peso_liquido"</span>: 66.78,
                            <span class="s2">"peso_bruto"</span>: 450.78
                        <span class="o">}</span>
                    <span class="o">]</span>
                <span class="o">}</span>,
                <span class="s2">"cobranca"</span>: <span class="o">{</span>
                    <span class="s2">"fatura"</span>: <span class="o">{</span>
                        <span class="s2">"valor_original"</span>: 0,
                        <span class="s2">"valor_desconto"</span>: 0,
                        <span class="s2">"valor_liquido"</span>: 0
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"forma_de_pagamento"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                        <span class="s2">"tipo_de_pagamento"</span>: <span class="s2">"01"</span>,
                        <span class="s2">"valor_do_pagamento"</span>: 50
                    <span class="o">}</span>,
                    <span class="o">{</span>
                        <span class="s2">"tipo_de_pagamento"</span>: <span class="s2">"03"</span>,
                        <span class="s2">"valor_do_pagamento"</span>: 8.97,
                        <span class="s2">"tipo_de_integracao"</span>: 2
                    <span class="o">}</span>,
                    <span class="o">{</span>
                        <span class="s2">"tipo_de_pagamento"</span>: <span class="s2">"03"</span>,
                        <span class="s2">"valor_do_pagamento"</span>: 40,
                        <span class="s2">"tipo_de_integracao"</span>: 1,
                        <span class="s2">"cnpj_credenciadora"</span>: <span class="s2">"99999999999999"</span>,
                        <span class="s2">"bandeira_operadora"</span>: <span class="s2">"02"</span>,
                        <span class="s2">"numero_autorizacao_operacao"</span>: <span class="s2">"99999999999999999999"</span>
                    <span class="o">}</span>
                <span class="o">]</span>,
                <span class="s2">"informacoes_adicionais"</span>: <span class="o">{</span>
                    <span class="s2">"informacoes_fisco"</span>: <span class="s2">"Cliente: 112. Remessa: 000061074-0123"</span>
                <span class="o">}</span>,
                <span class="s2">"retencao_tributos"</span>: <span class="o">{</span>
                    <span class="s2">"valor_retido_pis"</span>: 0,
                    <span class="s2">"valor_retido_cofins"</span>: 0,
                    <span class="s2">"valor_retido_csll"</span>: 0,
                    <span class="s2">"valor_base_calculo_irrf"</span>: 0,
                    <span class="s2">"valor_irrf"</span>: 0,
                    <span class="s2">"base_calculo_retencao_previdencia"</span>: 0,
                    <span class="s2">"valor_retencao_previdencia"</span>: 0
                <span class="o">}</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"dados_gerais"</span>: <span class="o">{</span>
                    <span class="s2">"uf"</span>: <span class="s2">"53"</span>,
                    <span class="s2">"serie"</span>: 22,
                    <span class="s2">"codigo_mun_ocorrencia"</span>: <span class="s2">"5300108"</span>,
                    <span class="s2">"natureza_operacao"</span>: <span class="s2">"Venda merc. adq. rec. terc. efet. fora estab."</span>,
                    <span class="s2">"codigo_natureza_operacao"</span>: <span class="s2">"002"</span>,
                    <span class="s2">"tipo_operacao"</span>: <span class="s2">"1"</span>,
                    <span class="s2">"indicador_consumidor_final"</span>: <span class="s2">"0"</span>,
                    <span class="s2">"destino_operacao"</span>: <span class="s2">"1"</span>,
                    <span class="s2">"finalidade_nfe"</span>: <span class="s2">"1"</span>,
                    <span class="s2">"indicador_presenca"</span>: <span class="s2">"9"</span>
                <span class="o">}</span>,
                <span class="s2">"emitente"</span>: <span class="o">{</span>
                    <span class="s2">"cnpj"</span>: <span class="s2">"22769530000131"</span>,
                    <span class="s2">"razao_social"</span>: <span class="s2">"Organizacao Teste NFCe / DF"</span>,
                    <span class="s2">"nome_fantasia"</span>: <span class="s2">"Organizacao Teste NFCe / DF"</span>,
                    <span class="s2">"inscricao_estadual"</span>: <span class="s2">"772733700120"</span>,
                    <span class="s2">"codigo_regime_tributario"</span>: 3,
                    <span class="s2">"regime_tributario_diferenciado"</span>: <span class="s2">"ISENLF"</span>,
                    <span class="s2">"endereco"</span>: <span class="o">{</span>
                        <span class="s2">"bairro"</span>: <span class="s2">"Asa Sul"</span>,
                        <span class="s2">"cep"</span>: <span class="s2">"70070938"</span>,
                        <span class="s2">"logradouro"</span>: <span class="s2">"SAUS Quadra 4 Lote 9/10"</span>,
                        <span class="s2">"nome_pais"</span>: <span class="s2">"Brasil"</span>,
                        <span class="s2">"nome_municipio"</span>: <span class="s2">"Brasilia"</span>,
                        <span class="s2">"numero"</span>: <span class="s2">"04"</span>,
                        <span class="s2">"codigo_municipio"</span>: <span class="s2">"5300108"</span>,
                        <span class="s2">"codigo_pais"</span>: <span class="s2">"1058"</span>,
                        <span class="s2">"uf"</span>: <span class="s2">"DF"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"cliente"</span>: <span class="o">{</span>
                    <span class="s2">"cpf_cnpj"</span>: <span class="s2">"01716006000122"</span>,
                    <span class="s2">"email"</span>: <span class="s2">"teste@nexaas.com.br"</span>,
                    <span class="s2">"inscricao_estadual"</span>: <span class="s2">"0736913700156"</span>,
                    <span class="s2">"nome"</span>: <span class="s2">"NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL"</span>,
                    <span class="s2">"pessoa_fisica_juridica"</span>: <span class="s2">"company"</span>,
                    <span class="s2">"indicador_inscricao_estadual"</span>: <span class="s2">"1"</span>,
                    <span class="s2">"endereco"</span>: <span class="o">{</span>
                        <span class="s2">"bairro"</span>: <span class="s2">"Bairro teste"</span>,
                        <span class="s2">"cep"</span>: <span class="s2">"05685040"</span>,
                        <span class="s2">"logradouro"</span>: <span class="s2">"Rua do Consultor"</span>,
                        <span class="s2">"nome_pais"</span>: <span class="s2">"BRASIL"</span>,
                        <span class="s2">"nome_municipio"</span>: <span class="s2">"BRASILIA"</span>,
                        <span class="s2">"numero"</span>: <span class="s2">"14"</span>,
                        <span class="s2">"codigo_municipio"</span>: <span class="s2">"5300108"</span>,
                        <span class="s2">"codigo_pais"</span>: <span class="s2">"1058"</span>,
                        <span class="s2">"telefone"</span>: <span class="s2">"99999999"</span>,
                        <span class="s2">"uf"</span>: <span class="s2">"DF"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"retirada"</span>: <span class="o">{</span>
                    <span class="s2">"endereco"</span>: <span class="o">{</span>
                        <span class="s2">"nome_pais"</span>: <span class="s2">"Brasil"</span>,
                        <span class="s2">"codigo_pais"</span>: <span class="s2">"1058"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"entrega"</span>: <span class="o">{</span>
                    <span class="s2">"endereco"</span>: <span class="o">{</span>
                        <span class="s2">"nome_pais"</span>: <span class="s2">"Brasil"</span>,
                        <span class="s2">"codigo_pais"</span>: <span class="s2">"1058"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"produtos"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                        <span class="s2">"codigo_produto"</span>: <span class="s2">"123456"</span>,
                        <span class="s2">"codigo_ean"</span>: <span class="s2">"SEM GTIN"</span>,
                        <span class="s2">"descricao"</span>: <span class="s2">"NITROGENIO CIL 50L 10M3"</span>,
                        <span class="s2">"ncm"</span>: <span class="s2">"28043000"</span>,
                        <span class="s2">"cfop"</span>: <span class="s2">"5102"</span>,
                        <span class="s2">"unidade_comercial"</span>: <span class="s2">"M3"</span>,
                        <span class="s2">"ean_unidade_trib"</span>: <span class="s2">"SEM GTIN"</span>,
                        <span class="s2">"unidade_tributaria"</span>: <span class="s2">"M3"</span>,
                        <span class="s2">"num_pedido"</span>: <span class="s2">"S0100249134"</span>,
                        <span class="s2">"num_item_pedido"</span>: <span class="s2">"1"</span>,
                        <span class="s2">"producao_escala"</span>: <span class="s2">"S"</span>,
                        <span class="s2">"cnpj_fabricante_mercadoria"</span>: <span class="s2">"99999999999999999"</span>,
                        <span class="s2">"codigo_beneficio_fiscal"</span>: <span class="s2">"foo"</span>,
                        <span class="s2">"quantidade_comercial"</span>: 6,
                        <span class="s2">"valor_unitario_comercial"</span>: 16.49485,
                        <span class="s2">"quantidade_tributaria"</span>: 6,
                        <span class="s2">"valor_unitario_tributario"</span>: 16.49485,
                        <span class="s2">"valor_frete"</span>: 0,
                        <span class="s2">"valor_seguro"</span>: 0,
                        <span class="s2">"valor_desconto"</span>: 0,
                        <span class="s2">"valor_total_produto"</span>: 98.97,
                        <span class="s2">"outras_despesas"</span>: 0,
                        <span class="s2">"tributacao"</span>: <span class="o">{</span>
                            <span class="s2">"icms"</span>: <span class="o">{</span>
                                <span class="s2">"aliquota_consumidor_final"</span>: 0,
                                <span class="s2">"aliquota_icms"</span>: 17,
                                <span class="s2">"aliquota_icms_simples_nacional"</span>: 0,
                                <span class="s2">"aliquota_icms_st"</span>: 0,
                                <span class="s2">"aliquota_interestadual"</span>: <span class="s2">"12"</span>,
                                <span class="s2">"aliquota_interna_interestadual"</span>: <span class="s2">"0.0000"</span>,
                                <span class="s2">"base_icmsst_retido"</span>: 0,
                                <span class="s2">"codigo_origem_produto"</span>: 2,
                                <span class="s2">"credito_icms_simples_nacional"</span>: 0,
                                <span class="s2">"modalidade_base_calculo"</span>: <span class="s2">"3"</span>,
                                <span class="s2">"perc_diferimento"</span>: 0,
                                <span class="s2">"perc_fcp_interestadual"</span>: <span class="s2">"0.0000"</span>,
                                <span class="s2">"perc_mva_icms_st"</span>: 0,
                                <span class="s2">"perc_provisorio_interestadual"</span>: <span class="s2">"100"</span>,
                                <span class="s2">"perc_reducao_base_calculo"</span>: 0,
                                <span class="s2">"perc_reducao_base_calculo_st"</span>: 0,
                                <span class="s2">"situacao_tributaria"</span>: <span class="s2">"00"</span>,
                                <span class="s2">"valor_base_calculo"</span>: 98.97,
                                <span class="s2">"valor_base_calculo_st"</span>: 0,
                                <span class="s2">"valor_icms"</span>: 16.82,
                                <span class="s2">"valor_icms_desonerado"</span>: 0,
                                <span class="s2">"valor_icms_diferido"</span>: 0,
                                <span class="s2">"valor_icms_operacao"</span>: 0,
                                <span class="s2">"valor_icms_st"</span>: 0,
                                <span class="s2">"valor_icmsst_retido"</span>: 0
                            <span class="o">}</span>,
                            <span class="s2">"pis"</span>: <span class="o">{</span>
                                <span class="s2">"aliquota_st"</span>: 0,
                                <span class="s2">"valor_base_calculo"</span>: 98.97,
                                <span class="s2">"valor_base_calculo_st"</span>: 0,
                                <span class="s2">"situacao_tributaria"</span>: <span class="s2">"49"</span>,
                                <span class="s2">"aliquota_pis"</span>: 3,
                                <span class="s2">"aliquota_pis_reais"</span>: 0,
                                <span class="s2">"aliquota_pis_reais_st"</span>: 0,
                                <span class="s2">"valor_pis"</span>: 2.97,
                                <span class="s2">"valor_pis_st"</span>: 0
                            <span class="o">}</span>,
                            <span class="s2">"cofins"</span>: <span class="o">{</span>
                                <span class="s2">"aliquota_st"</span>: 0,
                                <span class="s2">"valor_base_calculo"</span>: 98.97,
                                <span class="s2">"valor_base_calculo_st"</span>: 0,
                                <span class="s2">"situacao_tributaria"</span>: <span class="s2">"49"</span>,
                                <span class="s2">"aliquota_cofins"</span>: 4,
                                <span class="s2">"aliquota_cofins_reais"</span>: 0,
                                <span class="s2">"aliquota_cofins_reais_st"</span>: 0,
                                <span class="s2">"valor_cofins"</span>: 3.96,
                                <span class="s2">"valor_cofins_st"</span>: 0
                            <span class="o">}</span>
                        <span class="o">}</span>
                    <span class="o">}</span>
                <span class="o">]</span>,
                <span class="s2">"transporte"</span>: <span class="o">{</span>
                    <span class="s2">"codigo_modalidade"</span>: 9,
                    <span class="s2">"retencao_icms"</span>: <span class="o">{</span>
                        <span class="s2">"valor_servico"</span>: 0,
                        <span class="s2">"valor_base_calculo"</span>: 0,
                        <span class="s2">"aliquota_retencao"</span>: 0,
                        <span class="s2">"valor_retido"</span>: 0
                    <span class="o">}</span>,
                    <span class="s2">"volume_transportado"</span>: <span class="o">[</span>
                        <span class="o">{</span>
                            <span class="s2">"numeracao_volumes"</span>: <span class="s2">"0"</span>,
                            <span class="s2">"marca"</span>: <span class="s2">"0"</span>,
                            <span class="s2">"especie"</span>: <span class="s2">"Cilindro"</span>,
                            <span class="s2">"quantidade_volumes"</span>: 1,
                            <span class="s2">"peso_liquido"</span>: 66.78,
                            <span class="s2">"peso_bruto"</span>: 450.78
                        <span class="o">}</span>
                    <span class="o">]</span>
                <span class="o">}</span>,
                <span class="s2">"cobranca"</span>: <span class="o">{</span>
                    <span class="s2">"fatura"</span>: <span class="o">{</span>
                        <span class="s2">"valor_original"</span>: 0,
                        <span class="s2">"valor_desconto"</span>: 0,
                        <span class="s2">"valor_liquido"</span>: 0
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"forma_de_pagamento"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                        <span class="s2">"tipo_de_pagamento"</span>: <span class="s2">"01"</span>,
                        <span class="s2">"valor_do_pagamento"</span>: 50
                    <span class="o">}</span>,
                    <span class="o">{</span>
                        <span class="s2">"tipo_de_pagamento"</span>: <span class="s2">"03"</span>,
                        <span class="s2">"valor_do_pagamento"</span>: 8.97,
                        <span class="s2">"tipo_de_integracao"</span>: 2
                    <span class="o">}</span>,
                    <span class="o">{</span>
                        <span class="s2">"tipo_de_pagamento"</span>: <span class="s2">"03"</span>,
                        <span class="s2">"valor_do_pagamento"</span>: 40,
                        <span class="s2">"tipo_de_integracao"</span>: 1,
                        <span class="s2">"cnpj_credenciadora"</span>: <span class="s2">"99999999999999"</span>,
                        <span class="s2">"bandeira_operadora"</span>: <span class="s2">"02"</span>,
                        <span class="s2">"numero_autorizacao_operacao"</span>: <span class="s2">"99999999999999999999"</span>
                    <span class="o">}</span>
                <span class="o">]</span>,
                <span class="s2">"informacoes_adicionais"</span>: <span class="o">{</span>
                    <span class="s2">"informacoes_fisco"</span>: <span class="s2">"Cliente: 112. Remessa: 000061074-0123"</span>
                <span class="o">}</span>,
                <span class="s2">"retencao_tributos"</span>: <span class="o">{</span>
                    <span class="s2">"valor_retido_pis"</span>: 0,
                    <span class="s2">"valor_retido_cofins"</span>: 0,
                    <span class="s2">"valor_retido_csll"</span>: 0,
                    <span class="s2">"valor_base_calculo_irrf"</span>: 0,
                    <span class="s2">"valor_irrf"</span>: 0,
                    <span class="s2">"base_calculo_retencao_previdencia"</span>: 0,
                    <span class="s2">"valor_retencao_previdencia"</span>: 0
                <span class="o">}</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"dados_gerais"</span>: <span class="o">{</span>
                    <span class="s2">"uf"</span>: <span class="s2">"53"</span>,
                    <span class="s2">"serie"</span>: 22,
                    <span class="s2">"codigo_mun_ocorrencia"</span>: <span class="s2">"5300108"</span>,
                    <span class="s2">"natureza_operacao"</span>: <span class="s2">"Venda merc. adq. rec. terc. efet. fora estab."</span>,
                    <span class="s2">"codigo_natureza_operacao"</span>: <span class="s2">"002"</span>,
                    <span class="s2">"tipo_operacao"</span>: <span class="s2">"1"</span>,
                    <span class="s2">"indicador_consumidor_final"</span>: <span class="s2">"0"</span>,
                    <span class="s2">"destino_operacao"</span>: <span class="s2">"1"</span>,
                    <span class="s2">"finalidade_nfe"</span>: <span class="s2">"1"</span>,
                    <span class="s2">"indicador_presenca"</span>: <span class="s2">"9"</span>
                <span class="o">}</span>,
                <span class="s2">"emitente"</span>: <span class="o">{</span>
                    <span class="s2">"cnpj"</span>: <span class="s2">"22769530000131"</span>,
                    <span class="s2">"razao_social"</span>: <span class="s2">"Organizacao Teste NFCe / DF"</span>,
                    <span class="s2">"nome_fantasia"</span>: <span class="s2">"Organizacao Teste NFCe / DF"</span>,
                    <span class="s2">"inscricao_estadual"</span>: <span class="s2">"772733700120"</span>,
                    <span class="s2">"codigo_regime_tributario"</span>: 3,
                    <span class="s2">"regime_tributario_diferenciado"</span>: <span class="s2">"ISENLF"</span>,
                    <span class="s2">"endereco"</span>: <span class="o">{</span>
                        <span class="s2">"bairro"</span>: <span class="s2">"Asa Sul"</span>,
                        <span class="s2">"cep"</span>: <span class="s2">"70070938"</span>,
                        <span class="s2">"logradouro"</span>: <span class="s2">"SAUS Quadra 4 Lote 9/10"</span>,
                        <span class="s2">"nome_pais"</span>: <span class="s2">"Brasil"</span>,
                        <span class="s2">"nome_municipio"</span>: <span class="s2">"Brasilia"</span>,
                        <span class="s2">"numero"</span>: <span class="s2">"04"</span>,
                        <span class="s2">"codigo_municipio"</span>: <span class="s2">"5300108"</span>,
                        <span class="s2">"codigo_pais"</span>: <span class="s2">"1058"</span>,
                        <span class="s2">"uf"</span>: <span class="s2">"DF"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"cliente"</span>: <span class="o">{</span>
                    <span class="s2">"cpf_cnpj"</span>: <span class="s2">"01716006000122"</span>,
                    <span class="s2">"email"</span>: <span class="s2">"teste@nexaas.com.br"</span>,
                    <span class="s2">"inscricao_estadual"</span>: <span class="s2">"0736913700156"</span>,
                    <span class="s2">"nome"</span>: <span class="s2">"NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL"</span>,
                    <span class="s2">"pessoa_fisica_juridica"</span>: <span class="s2">"company"</span>,
                    <span class="s2">"indicador_inscricao_estadual"</span>: <span class="s2">"1"</span>,
                    <span class="s2">"endereco"</span>: <span class="o">{</span>
                        <span class="s2">"bairro"</span>: <span class="s2">"Bairro teste"</span>,
                        <span class="s2">"cep"</span>: <span class="s2">"05685040"</span>,
                        <span class="s2">"logradouro"</span>: <span class="s2">"Rua do Consultor"</span>,
                        <span class="s2">"nome_pais"</span>: <span class="s2">"BRASIL"</span>,
                        <span class="s2">"nome_municipio"</span>: <span class="s2">"BRASILIA"</span>,
                        <span class="s2">"numero"</span>: <span class="s2">"14"</span>,
                        <span class="s2">"codigo_municipio"</span>: <span class="s2">"5300108"</span>,
                        <span class="s2">"codigo_pais"</span>: <span class="s2">"1058"</span>,
                        <span class="s2">"telefone"</span>: <span class="s2">"99999999"</span>,
                        <span class="s2">"uf"</span>: <span class="s2">"DF"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"retirada"</span>: <span class="o">{</span>
                    <span class="s2">"endereco"</span>: <span class="o">{</span>
                        <span class="s2">"nome_pais"</span>: <span class="s2">"Brasil"</span>,
                        <span class="s2">"codigo_pais"</span>: <span class="s2">"1058"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"entrega"</span>: <span class="o">{</span>
                    <span class="s2">"endereco"</span>: <span class="o">{</span>
                        <span class="s2">"nome_pais"</span>: <span class="s2">"Brasil"</span>,
                        <span class="s2">"codigo_pais"</span>: <span class="s2">"1058"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"produtos"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                        <span class="s2">"codigo_produto"</span>: <span class="s2">"123456"</span>,
                        <span class="s2">"codigo_ean"</span>: <span class="s2">"SEM GTIN"</span>,
                        <span class="s2">"descricao"</span>: <span class="s2">"OXIGENIO CIL 50L 10M3"</span>,
                        <span class="s2">"ncm"</span>: <span class="s2">"28043000"</span>,
                        <span class="s2">"cfop"</span>: <span class="s2">"5102"</span>,
                        <span class="s2">"unidade_comercial"</span>: <span class="s2">"M3"</span>,
                        <span class="s2">"ean_unidade_trib"</span>: <span class="s2">"SEM GTIN"</span>,
                        <span class="s2">"unidade_tributaria"</span>: <span class="s2">"M3"</span>,
                        <span class="s2">"num_pedido"</span>: <span class="s2">"S0100249134"</span>,
                        <span class="s2">"num_item_pedido"</span>: <span class="s2">"1"</span>,
                        <span class="s2">"producao_escala"</span>: <span class="s2">"S"</span>,
                        <span class="s2">"cnpj_fabricante_mercadoria"</span>: <span class="s2">"99999999999999999"</span>,
                        <span class="s2">"codigo_beneficio_fiscal"</span>: <span class="s2">"foo"</span>,
                        <span class="s2">"quantidade_comercial"</span>: 6,
                        <span class="s2">"valor_unitario_comercial"</span>: 16.49485,
                        <span class="s2">"quantidade_tributaria"</span>: 6,
                        <span class="s2">"valor_unitario_tributario"</span>: 16.49485,
                        <span class="s2">"valor_frete"</span>: 0,
                        <span class="s2">"valor_seguro"</span>: 0,
                        <span class="s2">"valor_desconto"</span>: 0,
                        <span class="s2">"valor_total_produto"</span>: 98.97,
                        <span class="s2">"outras_despesas"</span>: 0,
                        <span class="s2">"tributacao"</span>: <span class="o">{</span>
                            <span class="s2">"icms"</span>: <span class="o">{</span>
                                <span class="s2">"aliquota_consumidor_final"</span>: 0,
                                <span class="s2">"aliquota_icms"</span>: 17,
                                <span class="s2">"aliquota_icms_simples_nacional"</span>: 0,
                                <span class="s2">"aliquota_icms_st"</span>: 0,
                                <span class="s2">"aliquota_interestadual"</span>: <span class="s2">"12"</span>,
                                <span class="s2">"aliquota_interna_interestadual"</span>: <span class="s2">"0.0000"</span>,
                                <span class="s2">"base_icmsst_retido"</span>: 0,
                                <span class="s2">"codigo_origem_produto"</span>: 2,
                                <span class="s2">"credito_icms_simples_nacional"</span>: 0,
                                <span class="s2">"modalidade_base_calculo"</span>: <span class="s2">"3"</span>,
                                <span class="s2">"perc_diferimento"</span>: 0,
                                <span class="s2">"perc_fcp_interestadual"</span>: <span class="s2">"0.0000"</span>,
                                <span class="s2">"perc_mva_icms_st"</span>: 0,
                                <span class="s2">"perc_provisorio_interestadual"</span>: <span class="s2">"100"</span>,
                                <span class="s2">"perc_reducao_base_calculo"</span>: 0,
                                <span class="s2">"perc_reducao_base_calculo_st"</span>: 0,
                                <span class="s2">"situacao_tributaria"</span>: <span class="s2">"00"</span>,
                                <span class="s2">"valor_base_calculo"</span>: 98.97,
                                <span class="s2">"valor_base_calculo_st"</span>: 0,
                                <span class="s2">"valor_icms"</span>: 16.82,
                                <span class="s2">"valor_icms_desonerado"</span>: 0,
                                <span class="s2">"valor_icms_diferido"</span>: 0,
                                <span class="s2">"valor_icms_operacao"</span>: 0,
                                <span class="s2">"valor_icms_st"</span>: 0,
                                <span class="s2">"valor_icmsst_retido"</span>: 0
                            <span class="o">}</span>,
                            <span class="s2">"pis"</span>: <span class="o">{</span>
                                <span class="s2">"aliquota_st"</span>: 0,
                                <span class="s2">"valor_base_calculo"</span>: 98.97,
                                <span class="s2">"valor_base_calculo_st"</span>: 0,
                                <span class="s2">"situacao_tributaria"</span>: <span class="s2">"49"</span>,
                                <span class="s2">"aliquota_pis"</span>: 3,
                                <span class="s2">"aliquota_pis_reais"</span>: 0,
                                <span class="s2">"aliquota_pis_reais_st"</span>: 0,
                                <span class="s2">"valor_pis"</span>: 2.97,
                                <span class="s2">"valor_pis_st"</span>: 0
                            <span class="o">}</span>,
                            <span class="s2">"cofins"</span>: <span class="o">{</span>
                                <span class="s2">"aliquota_st"</span>: 0,
                                <span class="s2">"valor_base_calculo"</span>: 98.97,
                                <span class="s2">"valor_base_calculo_st"</span>: 0,
                                <span class="s2">"situacao_tributaria"</span>: <span class="s2">"49"</span>,
                                <span class="s2">"aliquota_cofins"</span>: 4,
                                <span class="s2">"aliquota_cofins_reais"</span>: 0,
                                <span class="s2">"aliquota_cofins_reais_st"</span>: 0,
                                <span class="s2">"valor_cofins"</span>: 3.96,
                                <span class="s2">"valor_cofins_st"</span>: 0
                            <span class="o">}</span>
                        <span class="o">}</span>
                    <span class="o">}</span>
                <span class="o">]</span>,
                <span class="s2">"transporte"</span>: <span class="o">{</span>
                    <span class="s2">"codigo_modalidade"</span>: 9,
                    <span class="s2">"retencao_icms"</span>: <span class="o">{</span>
                        <span class="s2">"valor_servico"</span>: 0,
                        <span class="s2">"valor_base_calculo"</span>: 0,
                        <span class="s2">"aliquota_retencao"</span>: 0,
                        <span class="s2">"valor_retido"</span>: 0
                    <span class="o">}</span>,
                    <span class="s2">"volume_transportado"</span>: <span class="o">[</span>
                        <span class="o">{</span>
                            <span class="s2">"numeracao_volumes"</span>: <span class="s2">"0"</span>,
                            <span class="s2">"marca"</span>: <span class="s2">"0"</span>,
                            <span class="s2">"especie"</span>: <span class="s2">"Cilindro"</span>,
                            <span class="s2">"quantidade_volumes"</span>: 1,
                            <span class="s2">"peso_liquido"</span>: 66.78,
                            <span class="s2">"peso_bruto"</span>: 450.78
                        <span class="o">}</span>
                    <span class="o">]</span>
                <span class="o">}</span>,
                <span class="s2">"cobranca"</span>: <span class="o">{</span>
                    <span class="s2">"fatura"</span>: <span class="o">{</span>
                        <span class="s2">"valor_original"</span>: 0,
                        <span class="s2">"valor_desconto"</span>: 0,
                        <span class="s2">"valor_liquido"</span>: 0
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"forma_de_pagamento"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                        <span class="s2">"tipo_de_pagamento"</span>: <span class="s2">"01"</span>,
                        <span class="s2">"valor_do_pagamento"</span>: 50
                    <span class="o">}</span>,
                    <span class="o">{</span>
                        <span class="s2">"tipo_de_pagamento"</span>: <span class="s2">"03"</span>,
                        <span class="s2">"valor_do_pagamento"</span>: 8.97,
                        <span class="s2">"tipo_de_integracao"</span>: 2
                    <span class="o">}</span>,
                    <span class="o">{</span>
                        <span class="s2">"tipo_de_pagamento"</span>: <span class="s2">"03"</span>,
                        <span class="s2">"valor_do_pagamento"</span>: 40,
                        <span class="s2">"tipo_de_integracao"</span>: 1,
                        <span class="s2">"cnpj_credenciadora"</span>: <span class="s2">"99999999999999"</span>,
                        <span class="s2">"bandeira_operadora"</span>: <span class="s2">"02"</span>,
                        <span class="s2">"numero_autorizacao_operacao"</span>: <span class="s2">"99999999999999999999"</span>
                    <span class="o">}</span>
                <span class="o">]</span>,
                <span class="s2">"informacoes_adicionais"</span>: <span class="o">{</span>
                    <span class="s2">"informacoes_fisco"</span>: <span class="s2">"Cliente: 112. Remessa: 000061074-0123"</span>
                <span class="o">}</span>,
                <span class="s2">"retencao_tributos"</span>: <span class="o">{</span>
                    <span class="s2">"valor_retido_pis"</span>: 0,
                    <span class="s2">"valor_retido_cofins"</span>: 0,
                    <span class="s2">"valor_retido_csll"</span>: 0,
                    <span class="s2">"valor_base_calculo_irrf"</span>: 0,
                    <span class="s2">"valor_irrf"</span>: 0,
                    <span class="s2">"base_calculo_retencao_previdencia"</span>: 0,
                    <span class="s2">"valor_retencao_previdencia"</span>: 0
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre>

<h2 id="exemplo-nfce">Exemplo NFCe</h2>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  https://app.production.emites.com.br/api/v1/organizations/11/tax_calculator <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=6f42433270bc61d746556b17605db1s4'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
    "nfce_batch": {
        "lote": "1",
        "serie": "233",
        "engine_de_calculo": "nexaas",
        "sincronicidade": "0",
        "uf": "53",
        "nfces": [
            {
                "dados_gerais": {
                    "csc": "000002",
                    "id_token": "A16A5A2DD8FA443FB8710D9AB8EB5432",
                    "codigo_mun_ocorrencia": "5300108",
                    "destino_operacao": 1,
                    "finalidade_nfe": "1",
                    "indicador_presenca": "1",
                    "natureza_operacao": "saida",
                    "codigo_natureza_operacao": "002",
                    "tipo_operacao": "1",
                    "uf": "53"
                },
                "cliente": {
                    "pessoa_fisica_juridica": "person",
                    "cpf_cnpj": "86152288843",
                    "nome": "NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                    "email": "teste@teste.com",
                    "endereco": {
                        "bairro": "Bairro teste",
                        "cep": "05685040",
                        "codigo_municipio": "5300108",
                        "codigo_pais": "1058",
                        "complemento": "",
                        "logradouro": "Rua do Consultor",
                        "nome_municipio": "Brasilia",
                        "nome_pais": "Brasil",
                        "numero": "14",
                        "telefone": "",
                        "uf": "DF"
                    }
                },
                "forma_de_pagamento": [
                    {
                        "tipo_de_pagamento": "03",
                        "valor_do_pagamento": 15,
                        "cnpj_credenciadora": "27.197.888/0186-02",
                        "bandeira_operadora": "01",
                        "numero_autorizacao_operacao": "1",
                        "tipo_de_integracao": "1"
                    },
                    {
                        "tipo_de_pagamento": "01",
                        "cnpj_credenciadora": null,
                        "bandeira_operadora": null,
                        "tipo_de_integracao": null,
                        "numero_autorizacao_operacao": null,
                        "valor_do_pagamento": 85
                    }
                ],
                "produtos": [
                    {
                        "cest": "1300402",
                        "cfop": "5103",
                        "cnpj_fabricante_mercadoria": null,
                        "codigo_beneficio_fiscal": null,
                        "codigo_ean": "7891000315507",
                        "codigo_produto": "14600",
                        "declaracao_importacao": [],
                        "descricao": "NOTA FISCAL EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL",
                        "ean_unidade_trib": "7891000315507",
                        "extipi": "22",
                        "imposto_devolvido": null,
                        "ind_valor_total": null,
                        "informacoes_adicionais": "teste",
                        "ncm": "22086000",
                        "num_controle_fci": null,
                        "num_item_pedido": "1",
                        "num_pedido": "5100003910",
                        "outras_despesas": 0,
                        "producao_escala": null,
                        "quantidade_comercial": 10,
                        "quantidade_tributaria": 10,
                        "tributacao": { "icms": { "codigo_origem_produto": 2 } },
                        "unidade_comercial": "UN",
                        "unidade_tributaria": "UN",
                        "valor_desconto": 0,
                        "valor_frete": 0,
                        "valor_seguro": 0,
                        "valor_total_produto": 100,
                        "valor_unitario_comercial": 10,
                        "valor_unitario_tributario": 10
                    }
                ],
                "transporte": {
                    "volume_transportado": [
                        {
                            "especie": "A Granel",
                            "lacres": [],
                            "marca": "0",
                            "numeracao_volumes": "333",
                            "peso_bruto": 0,
                            "peso_liquido": 0,
                            "quantidade_volumes": 1
                        }
                    ]
                }
            }
        ]
    }
}'</span>


EXEMPLO DE RESPOSTA
<span class="o">{</span>
    <span class="s2">"nfce_batch"</span>: <span class="o">{</span>
        <span class="s2">"lote"</span>: <span class="s2">"1"</span>,
        <span class="s2">"serie"</span>: <span class="s2">"233"</span>,
        <span class="s2">"engine_de_calculo"</span>: <span class="s2">"nexaas"</span>,
        <span class="s2">"sincronicidade"</span>: <span class="s2">"0"</span>,
        <span class="s2">"uf"</span>: <span class="s2">"53"</span>,
        <span class="s2">"nfces"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"dados_gerais"</span>: <span class="o">{</span>
                    <span class="s2">"uf"</span>: <span class="s2">"53"</span>,
                    <span class="s2">"serie"</span>: 233,
                    <span class="s2">"codigo_mun_ocorrencia"</span>: <span class="s2">"5300108"</span>,
                    <span class="s2">"natureza_operacao"</span>: <span class="s2">"saida"</span>,
                    <span class="s2">"codigo_natureza_operacao"</span>: <span class="s2">"002"</span>,
                    <span class="s2">"csc"</span>: <span class="s2">"000002"</span>,
                    <span class="s2">"id_token"</span>: <span class="s2">"A16A5A2DD8FA443FB8710D9AB8EB5432"</span>,
                    <span class="s2">"tipo_operacao"</span>: <span class="s2">"1"</span>,
                    <span class="s2">"destino_operacao"</span>: <span class="s2">"1"</span>,
                    <span class="s2">"finalidade_nfe"</span>: <span class="s2">"1"</span>,
                    <span class="s2">"indicador_presenca"</span>: <span class="s2">"1"</span>
                <span class="o">}</span>,
                <span class="s2">"emitente"</span>: <span class="o">{</span>
                    <span class="s2">"cnpj"</span>: <span class="s2">"22769530000131"</span>,
                    <span class="s2">"razao_social"</span>: <span class="s2">"Organizacao Teste NFCe / DF"</span>,
                    <span class="s2">"nome_fantasia"</span>: <span class="s2">"Organizacao Teste NFCe / DF"</span>,
                    <span class="s2">"inscricao_estadual"</span>: <span class="s2">"772733700120"</span>,
                    <span class="s2">"codigo_regime_tributario"</span>: 3,
                    <span class="s2">"regime_tributario_diferenciado"</span>: <span class="s2">"ISENLF"</span>,
                    <span class="s2">"endereco"</span>: <span class="o">{</span>
                        <span class="s2">"bairro"</span>: <span class="s2">"Asa Sul"</span>,
                        <span class="s2">"cep"</span>: <span class="s2">"70070938"</span>,
                        <span class="s2">"logradouro"</span>: <span class="s2">"SAUS Quadra 4 Lote 9/10"</span>,
                        <span class="s2">"nome_pais"</span>: <span class="s2">"Brasil"</span>,
                        <span class="s2">"nome_municipio"</span>: <span class="s2">"Brasilia"</span>,
                        <span class="s2">"numero"</span>: <span class="s2">"04"</span>,
                        <span class="s2">"codigo_municipio"</span>: <span class="s2">"5300108"</span>,
                        <span class="s2">"codigo_pais"</span>: <span class="s2">"1058"</span>,
                        <span class="s2">"uf"</span>: <span class="s2">"DF"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"cliente"</span>: <span class="o">{</span>
                    <span class="s2">"cpf_cnpj"</span>: <span class="s2">"86152288843"</span>,
                    <span class="s2">"email"</span>: <span class="s2">"teste@teste.com"</span>,
                    <span class="s2">"nome"</span>: <span class="s2">"NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL"</span>,
                    <span class="s2">"pessoa_fisica_juridica"</span>: <span class="s2">"person"</span>,
                    <span class="s2">"endereco"</span>: <span class="o">{</span>
                        <span class="s2">"bairro"</span>: <span class="s2">"Bairro teste"</span>,
                        <span class="s2">"cep"</span>: <span class="s2">"05685040"</span>,
                        <span class="s2">"logradouro"</span>: <span class="s2">"Rua do Consultor"</span>,
                        <span class="s2">"nome_pais"</span>: <span class="s2">"Brasil"</span>,
                        <span class="s2">"nome_municipio"</span>: <span class="s2">"Brasilia"</span>,
                        <span class="s2">"numero"</span>: <span class="s2">"14"</span>,
                        <span class="s2">"codigo_municipio"</span>: <span class="s2">"5300108"</span>,
                        <span class="s2">"codigo_pais"</span>: <span class="s2">"1058"</span>,
                        <span class="s2">"uf"</span>: <span class="s2">"DF"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"retirada"</span>: <span class="o">{</span>
                    <span class="s2">"endereco"</span>: <span class="o">{</span>
                        <span class="s2">"nome_pais"</span>: <span class="s2">"Brasil"</span>,
                        <span class="s2">"codigo_pais"</span>: <span class="s2">"1058"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"entrega"</span>: <span class="o">{</span>
                    <span class="s2">"endereco"</span>: <span class="o">{</span>
                        <span class="s2">"nome_pais"</span>: <span class="s2">"Brasil"</span>,
                        <span class="s2">"codigo_pais"</span>: <span class="s2">"1058"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"produtos"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                        <span class="s2">"informacoes_adicionais"</span>: <span class="s2">"teste"</span>,
                        <span class="s2">"codigo_produto"</span>: <span class="s2">"14600"</span>,
                        <span class="s2">"codigo_ean"</span>: <span class="s2">"7891000315507"</span>,
                        <span class="s2">"descricao"</span>: <span class="s2">"NOTA FISCAL EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL"</span>,
                        <span class="s2">"ncm"</span>: <span class="s2">"22086000"</span>,
                        <span class="s2">"cest"</span>: <span class="s2">"1300402"</span>,
                        <span class="s2">"extipi"</span>: <span class="s2">"22"</span>,
                        <span class="s2">"cfop"</span>: <span class="s2">"5102"</span>,
                        <span class="s2">"unidade_comercial"</span>: <span class="s2">"UN"</span>,
                        <span class="s2">"ean_unidade_trib"</span>: <span class="s2">"7891000315507"</span>,
                        <span class="s2">"unidade_tributaria"</span>: <span class="s2">"UN"</span>,
                        <span class="s2">"num_pedido"</span>: <span class="s2">"5100003910"</span>,
                        <span class="s2">"num_item_pedido"</span>: <span class="s2">"1"</span>,
                        <span class="s2">"quantidade_comercial"</span>: 10,
                        <span class="s2">"valor_unitario_comercial"</span>: 10,
                        <span class="s2">"quantidade_tributaria"</span>: 10,
                        <span class="s2">"valor_unitario_tributario"</span>: 10,
                        <span class="s2">"valor_frete"</span>: 0,
                        <span class="s2">"valor_seguro"</span>: 0,
                        <span class="s2">"valor_desconto"</span>: 0,
                        <span class="s2">"valor_total_produto"</span>: 100,
                        <span class="s2">"outras_despesas"</span>: 0,
                        <span class="s2">"tributacao"</span>: <span class="o">{</span>
                            <span class="s2">"icms"</span>: <span class="o">{</span>
                                <span class="s2">"aliquota_consumidor_final"</span>: 0,
                                <span class="s2">"aliquota_icms"</span>: 17,
                                <span class="s2">"aliquota_icms_simples_nacional"</span>: 0,
                                <span class="s2">"aliquota_icms_st"</span>: 0,
                                <span class="s2">"aliquota_interestadual"</span>: <span class="s2">"12"</span>,
                                <span class="s2">"aliquota_interna_interestadual"</span>: <span class="s2">"0.0000"</span>,
                                <span class="s2">"base_icmsst_retido"</span>: 0,
                                <span class="s2">"codigo_origem_produto"</span>: 2,
                                <span class="s2">"credito_icms_simples_nacional"</span>: 0,
                                <span class="s2">"modalidade_base_calculo"</span>: <span class="s2">"3"</span>,
                                <span class="s2">"perc_diferimento"</span>: 0,
                                <span class="s2">"perc_fcp_interestadual"</span>: <span class="s2">"0.0000"</span>,
                                <span class="s2">"perc_mva_icms_st"</span>: 0,
                                <span class="s2">"perc_provisorio_interestadual"</span>: <span class="s2">"100"</span>,
                                <span class="s2">"perc_reducao_base_calculo"</span>: 0,
                                <span class="s2">"perc_reducao_base_calculo_st"</span>: 0,
                                <span class="s2">"situacao_tributaria"</span>: <span class="s2">"00"</span>,
                                <span class="s2">"valor_base_calculo"</span>: 100,
                                <span class="s2">"valor_base_calculo_st"</span>: 0,
                                <span class="s2">"valor_icms"</span>: 17,
                                <span class="s2">"valor_icms_desonerado"</span>: 0,
                                <span class="s2">"valor_icms_diferido"</span>: 0,
                                <span class="s2">"valor_icms_operacao"</span>: 0,
                                <span class="s2">"valor_icms_st"</span>: 0,
                                <span class="s2">"valor_icmsst_retido"</span>: 0
                            <span class="o">}</span>,
                            <span class="s2">"pis"</span>: <span class="o">{</span>
                                <span class="s2">"aliquota_st"</span>: 0,
                                <span class="s2">"valor_base_calculo"</span>: 100,
                                <span class="s2">"valor_base_calculo_st"</span>: 0,
                                <span class="s2">"situacao_tributaria"</span>: <span class="s2">"49"</span>,
                                <span class="s2">"aliquota_pis"</span>: 3,
                                <span class="s2">"aliquota_pis_reais"</span>: 0,
                                <span class="s2">"aliquota_pis_reais_st"</span>: 0,
                                <span class="s2">"valor_pis"</span>: 3,
                                <span class="s2">"valor_pis_st"</span>: 0
                            <span class="o">}</span>,
                            <span class="s2">"cofins"</span>: <span class="o">{</span>
                                <span class="s2">"aliquota_st"</span>: 0,
                                <span class="s2">"valor_base_calculo"</span>: 100,
                                <span class="s2">"valor_base_calculo_st"</span>: 0,
                                <span class="s2">"situacao_tributaria"</span>: <span class="s2">"49"</span>,
                                <span class="s2">"aliquota_cofins"</span>: 4,
                                <span class="s2">"aliquota_cofins_reais"</span>: 0,
                                <span class="s2">"aliquota_cofins_reais_st"</span>: 0,
                                <span class="s2">"valor_cofins"</span>: 4,
                                <span class="s2">"valor_cofins_st"</span>: 0
                            <span class="o">}</span>
                        <span class="o">}</span>
                    <span class="o">}</span>
                <span class="o">]</span>,
                <span class="s2">"transporte"</span>: <span class="o">{</span>
                    <span class="s2">"volume_transportado"</span>: <span class="o">[</span>
                        <span class="o">{</span>
                            <span class="s2">"numeracao_volumes"</span>: <span class="s2">"333"</span>,
                            <span class="s2">"marca"</span>: <span class="s2">"0"</span>,
                            <span class="s2">"especie"</span>: <span class="s2">"A Granel"</span>,
                            <span class="s2">"quantidade_volumes"</span>: 1,
                            <span class="s2">"peso_liquido"</span>: 0,
                            <span class="s2">"peso_bruto"</span>: 0
                        <span class="o">}</span>
                    <span class="o">]</span>
                <span class="o">}</span>,
                <span class="s2">"forma_de_pagamento"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                        <span class="s2">"tipo_de_pagamento"</span>: <span class="s2">"03"</span>,
                        <span class="s2">"valor_do_pagamento"</span>: 15,
                        <span class="s2">"tipo_de_integracao"</span>: 1,
                        <span class="s2">"cnpj_credenciadora"</span>: <span class="s2">"27197888018602"</span>,
                        <span class="s2">"bandeira_operadora"</span>: <span class="s2">"01"</span>,
                        <span class="s2">"numero_autorizacao_operacao"</span>: <span class="s2">"1"</span>
                    <span class="o">}</span>,
                    <span class="o">{</span>
                        <span class="s2">"tipo_de_pagamento"</span>: <span class="s2">"01"</span>,
                        <span class="s2">"valor_do_pagamento"</span>: 85
                    <span class="o">}</span>
                <span class="o">]</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

          <h1 id="terminais">Terminais</h1>

<h2 id="cria-o-de-terminal">Criação de terminal</h2>

<p>Para criar um terminal, é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/organizations/CNPJ${:cnpj}IE${:ie}/terminals</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  http://app.homologation.emites.com.br/api/v1/organizations/CNPJ22769530000131IE772733700120/terminals <span class="se">\</span>
  -H <span class="s1">'authorization: Bearer c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
        "terminal": {
          "name": "ABC001",
            "id_pos": "xxxxyyy001",
            "nfce_online_serial_number": 233,
            "nfce_contingency_serial_number": 765,
            "cashier_number": "001",
            "ip": "127.0.0.1",
            "sats_attributes": [
                {
                    "activation_code": "123456789",
                    "device_serial": "123",
                    "sat_device_model": "SDK-1000"
                }
            ]
        }
    }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"7039ea4c-1ecc-478a-8218-1dbb5a4fa483"</span>,
  <span class="s2">"organization_id"</span>: <span class="s2">"886dbbeb-801e-4d2f-a81f-358754a1195c"</span>,
  <span class="s2">"name"</span>: <span class="s2">"ABC002"</span>,
  <span class="s2">"id_pos"</span>: <span class="s2">"xxxxyyy002"</span>,
  <span class="s2">"status"</span>: <span class="s2">"inactivated"</span>,
  <span class="s2">"terminal_type"</span>: <span class="s2">"pc"</span>,
  <span class="s2">"token"</span>: <span class="s2">"b82efa9181f689138ab76791bcc55400"</span>,
  <span class="s2">"created_at"</span>: <span class="s2">"2020-02-07T14:57:03.773Z"</span>,
  <span class="s2">"updated_at"</span>: <span class="s2">"2020-02-07T14:57:03.773Z"</span>,
  <span class="s2">"sat_device_id"</span>: null,
  <span class="s2">"contingency_serial"</span>: null,
  <span class="s2">"discarded_at"</span>: null,
  <span class="s2">"notified_at"</span>: null,
  <span class="s2">"online_serial"</span>: null,
  <span class="s2">"online_last_number"</span>: null,
  <span class="s2">"contingency_last_number"</span>: null,
  <span class="s2">"ip"</span>: <span class="s2">"127.0.0.2"</span>,
  <span class="s2">"sat_emission"</span>: <span class="nb">false</span>,
  <span class="s2">"datasource_url"</span>: <span class="s2">"jdbc:sqlite:file:emites.db"</span>,
  <span class="s2">"cashier_number"</span>: <span class="s2">"002"</span>,
  <span class="s2">"nfce_online_serial_id"</span>: <span class="s2">"eb2f81bd-a1ee-4a58-8051-d9bac1bd734f"</span>,
  <span class="s2">"nfce_contingency_serial_id"</span>: <span class="s2">"63e1c52a-90c1-435b-b0b9-197bb9d033c8"</span>,
  <span class="s2">"ipc_acceptor"</span>: null,
  <span class="s2">"ipc_taxengine"</span>: null,
  <span class="s2">"ipc_publisher"</span>: null,
  <span class="s2">"nfe_online_serial_id"</span>: null,
  <span class="s2">"client_version_update"</span>: <span class="nb">false</span>,
  <span class="s2">"sats"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"id"</span>: <span class="s2">"427f3aaf-5842-4291-aca9-15349f453fcf"</span>,
      <span class="s2">"uri"</span>: <span class="s2">"file:///opt/local/emites-client/libsat.so"</span>,
      <span class="s2">"activation_code"</span>: <span class="s2">"123456789"</span>,
      <span class="s2">"priority"</span>: null,
      <span class="s2">"device_serial"</span>: <span class="s2">"123"</span>,
      <span class="s2">"terminal_id"</span>: <span class="s2">"7039ea4c-1ecc-478a-8218-1dbb5a4fa483"</span>,
      <span class="s2">"sat_device_id"</span>: <span class="s2">"810b922f-db26-455a-a5e0-7e17198a7240"</span>,
      <span class="s2">"created_at"</span>: <span class="s2">"2020-02-07T14:57:03.777Z"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2020-02-07T14:57:03.777Z"</span>,
      <span class="s2">"access_key_validator"</span>: null
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>

EXEMPLO DE RETORNO DE ERROS

<span class="o">{</span>
  <span class="s2">"errors"</span>: <span class="o">{</span>
    <span class="s2">"messages"</span>: <span class="o">{</span>
      <span class="s2">"id_pos"</span>: <span class="o">[</span>
        <span class="s2">"já está em uso"</span>
      <span class="o">]</span>,
      <span class="s2">"cashier_number"</span>: <span class="o">[</span>
        <span class="s2">"já está em uso"</span>
      <span class="o">]</span>,
      <span class="s2">"ip"</span>: <span class="o">[</span>
        <span class="s2">"já está em uso"</span>
      <span class="o">]</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre>

<table><thead>
<tr>
<th>Campo</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Sim</td>
<td>Text</td>
<td></td>
<td>Identificação do terminal</td>
</tr>
<tr>
<td>id_pos</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 51 caracteres</td>
<td>Série/identificador do terminal</td>
</tr>
<tr>
<td>cashier_number</td>
<td>Sim</td>
<td>Texto</td>
<td>/\A\d{3}\z/</td>
<td>Número do caixa</td>
</tr>
<tr>
<td>nfce_online_serial_number</td>
<td>Sim</td>
<td>Numérico</td>
<td></td>
<td>Número da série de emissão online</td>
</tr>
<tr>
<td>nfce_contingency_serial_number</td>
<td>Sim</td>
<td>Numérico</td>
<td></td>
<td>Número da série de emissão offline (Contingência)</td>
</tr>
<tr>
<td>ip</td>
<td>Não</td>
<td>Texto</td>
<td></td>
<td>IP</td>
</tr>
<tr>
<td>client_version_update</td>
<td>Não</td>
<td>Booleano</td>
<td></td>
<td>Flag para atualização da versão do Emites Client</td>
</tr>
<tr>
<td>sat_emission</td>
<td>Não</td>
<td>Booleano</td>
<td></td>
<td>Flag para informar se SAT/MFE é a emissão principal</td>
</tr>
</tbody></table>

<h4 id="sats">sats</h4>

<p>Grupo de informações relacionadas ao disposito SAT/MFE do terminal. Seus atributos são:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>sat_device_model</td>
<td>Sim</td>
<td>Texto</td>
<td>[&ldquo;SDK-1000&rdquo;, &ldquo;MDK-1000 L&rdquo;]</td>
<td>Modelo do dispositivo SAT/MFE</td>
</tr>
<tr>
<td>activation_code</td>
<td>Sim</td>
<td>Texto</td>
<td></td>
<td>Código de ativação</td>
</tr>
<tr>
<td>device_serial</td>
<td>Sim</td>
<td>Texto</td>
<td></td>
<td>Série do dispositivo</td>
</tr>
<tr>
<td>access_key_validator</td>
<td>Não</td>
<td>Texto</td>
<td>UUID4</td>
<td>Obrigatório somente para MFE</td>
</tr>
<tr>
<td>priority</td>
<td>Não</td>
<td>Numérico</td>
<td></td>
<td>Prioridade/Ordenação do dispositivo</td>
</tr>
</tbody></table>

<h2 id="atualiza-o-de-terminais">Atualização de Terminais</h2>

<p>Para atualizar um terminal, é necessário realizar uma requisição PUT para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">PUT</i>
        <h6>/api/v1/organizations/CNPJ{:cnpj}IE{:ie}/terminals/{:terminal_id}</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X PUT <span class="se">\</span>
  http://app.homologation.emites.com.br/api/v1/organizations/CNPJ22769530000131IE772733700120/terminals/d4b6f53d-c6b9-47a9-a256-5db679ccc8e4 <span class="se">\</span>
  -H <span class="s1">'authorization: Bearer c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
          "terminal": {
              "name": "ABC007",
              "id_pos": "xxxxxx001",
              "nfce_online_serial_number": 233,
              "nfce_contingency_serial_number": 765,
              "cashier_number": "005",
              "ip": "127.0.0.1",
              "client_version_update": true,
              "sats_attributes": [
                  {
                      "activation_code": "123456789",
                      "device_serial": "777",
                      "sat_device_model": "SDK-1000"
                  }
              ]
          }
      }
    }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"organization_id"</span>: <span class="s2">"886dbbeb-801e-4d2f-a81f-358754a1195c"</span>,
  <span class="s2">"id_pos"</span>: <span class="s2">"xxxxyyy001"</span>,
  <span class="s2">"name"</span>: <span class="s2">"ABC007"</span>,
  <span class="s2">"terminal_type"</span>: <span class="s2">"pc"</span>,
  <span class="s2">"sat_emission"</span>: <span class="nb">false</span>,
  <span class="s2">"client_version_update"</span>: <span class="nb">true</span>,
  <span class="s2">"ip"</span>: <span class="s2">"127.0.0.1"</span>,
  <span class="s2">"cashier_number"</span>: <span class="s2">"005"</span>,
  <span class="s2">"datasource_url"</span>: <span class="s2">"jdbc:sqlite:file:emites.db"</span>,
  <span class="s2">"nfce_online_serial_id"</span>: <span class="s2">"eb2f81bd-a1ee-4a58-8051-d9bac1bd734f"</span>,
  <span class="s2">"nfce_contingency_serial_id"</span>: <span class="s2">"63e1c52a-90c1-435b-b0b9-197bb9d033c8"</span>,
  <span class="s2">"nfe_online_serial_id"</span>: null,
  <span class="s2">"id"</span>: <span class="s2">"d4b6f53d-c6b9-47a9-a256-5db679ccc8e4"</span>,
  <span class="s2">"status"</span>: <span class="s2">"inactivated"</span>,
  <span class="s2">"token"</span>: <span class="s2">"fafc11a7d96d20423641ddc8e9002a0c"</span>,
  <span class="s2">"created_at"</span>: <span class="s2">"2020-02-07T14:29:50.452Z"</span>,
  <span class="s2">"updated_at"</span>: <span class="s2">"2020-02-07T16:07:17.518Z"</span>,
  <span class="s2">"sat_device_id"</span>: null,
  <span class="s2">"contingency_serial"</span>: null,
  <span class="s2">"discarded_at"</span>: null,
  <span class="s2">"notified_at"</span>: null,
  <span class="s2">"online_serial"</span>: null,
  <span class="s2">"online_last_number"</span>: null,
  <span class="s2">"contingency_last_number"</span>: null,
  <span class="s2">"ipc_acceptor"</span>: null,
  <span class="s2">"ipc_taxengine"</span>: null,
  <span class="s2">"ipc_publisher"</span>: null,
  <span class="s2">"sats"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"terminal_id"</span>: <span class="s2">"d4b6f53d-c6b9-47a9-a256-5db679ccc8e4"</span>,
      <span class="s2">"id"</span>: <span class="s2">"7c374ab9-ddb4-4215-b7db-37957f54639c"</span>,
      <span class="s2">"sat_device_id"</span>: <span class="s2">"810b922f-db26-455a-a5e0-7e17198a7240"</span>,
      <span class="s2">"priority"</span>: null,
      <span class="s2">"activation_code"</span>: <span class="s2">"123456789"</span>,
      <span class="s2">"device_serial"</span>: <span class="s2">"123"</span>,
      <span class="s2">"access_key_validator"</span>: null,
      <span class="s2">"uri"</span>: <span class="s2">"file:///opt/local/emites-client/libsat.so"</span>,
      <span class="s2">"created_at"</span>: <span class="s2">"2020-02-07T14:29:50.455Z"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2020-02-07T14:29:50.455Z"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"id"</span>: <span class="s2">"06d14c89-e380-4685-a53c-f1b3ddaa8394"</span>,
      <span class="s2">"uri"</span>: <span class="s2">"file:///opt/local/emites-client/libsat.so"</span>,
      <span class="s2">"activation_code"</span>: <span class="s2">"123456789"</span>,
      <span class="s2">"priority"</span>: null,
      <span class="s2">"device_serial"</span>: <span class="s2">"777"</span>,
      <span class="s2">"terminal_id"</span>: <span class="s2">"d4b6f53d-c6b9-47a9-a256-5db679ccc8e4"</span>,
      <span class="s2">"sat_device_id"</span>: <span class="s2">"810b922f-db26-455a-a5e0-7e17198a7240"</span>,
      <span class="s2">"created_at"</span>: <span class="s2">"2020-02-07T16:07:17.503Z"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2020-02-07T16:07:17.503Z"</span>,
      <span class="s2">"access_key_validator"</span>: null
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>

EXEMPLO DE RETORNO DE ERROS

<span class="o">{</span>
  <span class="s2">"errors"</span>: <span class="o">{</span>
    <span class="s2">"messages"</span>: <span class="o">{</span>
      <span class="s2">"cashier_number"</span>: <span class="o">[</span>
        <span class="s2">"não é válido"</span>
      <span class="o">]</span>,
      <span class="s2">"nfce_online_serial_id"</span>: <span class="o">[</span>
        <span class="s2">"não pode ficar em branco"</span>
      <span class="o">]</span>,
      <span class="s2">"nfce_online_serial_number"</span>: <span class="o">[</span>
        <span class="s2">"não pode ficar em branco"</span>
      <span class="o">]</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>Campo</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Sim</td>
<td>Text</td>
<td></td>
<td>Identificação do terminal</td>
</tr>
<tr>
<td>id_pos</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 51 caracteres</td>
<td>Série/identificador do terminal</td>
</tr>
<tr>
<td>cashier_number</td>
<td>Sim</td>
<td>Texto</td>
<td>/\A\d{3}\z/</td>
<td>Número do caixa</td>
</tr>
<tr>
<td>nfce_online_serial_number</td>
<td>Sim</td>
<td>Numérico</td>
<td></td>
<td>Número da série de emissão online</td>
</tr>
<tr>
<td>nfce_contingency_serial_number</td>
<td>Sim</td>
<td>Numérico</td>
<td></td>
<td>Número da série de emissão offline (Contingência)</td>
</tr>
<tr>
<td>ip</td>
<td>Não</td>
<td>Texto</td>
<td></td>
<td>IP</td>
</tr>
<tr>
<td>client_version_update</td>
<td>Não</td>
<td>Booleano</td>
<td></td>
<td>Flag para atualização da versão do Emites Client</td>
</tr>
<tr>
<td>sat_emission</td>
<td>Não</td>
<td>Booleano</td>
<td></td>
<td>Flag para informar se SAT/MFE é a emissão principal</td>
</tr>
</tbody></table>

<h4 id="sats">sats</h4>

<p>Grupo de informações relacionadas ao disposito SAT/MFE do terminal. Seus atributos são:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>sat_device_model</td>
<td>Sim</td>
<td>Texto</td>
<td>[&ldquo;SDK-1000&rdquo;, &ldquo;MDK-1000 L&rdquo;]</td>
<td>Modelo do dispositivo SAT/MFE</td>
</tr>
<tr>
<td>activation_code</td>
<td>Sim</td>
<td>Texto</td>
<td></td>
<td>Código de ativação</td>
</tr>
<tr>
<td>device_serial</td>
<td>Sim</td>
<td>Texto</td>
<td></td>
<td>Série do dispositivo</td>
</tr>
<tr>
<td>access_key_validator</td>
<td>Não</td>
<td>Texto</td>
<td>UUID4</td>
<td>Obrigatório somente para MFE</td>
</tr>
<tr>
<td>priority</td>
<td>Não</td>
<td>Numérico</td>
<td></td>
<td>Prioridade/Ordenação do dispositivo</td>
</tr>
</tbody></table>

<h2 id="exclus-o-de-terminais">Exclusão de Terminais</h2>

<p>Para excluir um terminal da organização, é necessário realizar uma requisição DELETE para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-warning">DELETE</i>
        <h6>/api/v1/organizations/CNPJ{:cnpj}IE{:ie}/terminals/{:terminal_id}</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO
curl -X DELETE <span class="se">\</span>
  http://app.homologation.emites.com.br/api/v1/organizations/CNPJ22769530000131IE772733700120/terminals/d7d6e731-df61-4b0d-9468-29c09b295391 <span class="se">\</span>
  -H <span class="s1">'authorization: Bearer c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span>
</code></pre>

<h2 id="listagem-de-terminais">Listagem de Terminais</h2>

<p>Para listar todas os terminais de uma organização, é necessário realizar uma requisição GET para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>api/v1/organizations/CNPJ{:cnpj}IE{:ie}/terminals</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO
curl -X GET <span class="se">\</span>
  http://app.homologation.emites.com.br/api/v1/organizations/CNPJ22769530000131IE772733700120/terminals <span class="se">\</span>
  -H <span class="s1">'authorization: Bearer c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
</code></pre>
<pre class="highlight shell"><code>EXEMPLO DE RESPOSTA
<span class="o">[</span>
  <span class="o">{</span>
    <span class="s2">"id"</span>: <span class="s2">"d4b6f53d-c6b9-47a9-a256-5db679ccc8e4"</span>,
    <span class="s2">"organization_id"</span>: <span class="s2">"886dbbeb-801e-4d2f-a81f-358754a1195c"</span>,
    <span class="s2">"name"</span>: <span class="s2">"ABC001"</span>,
    <span class="s2">"id_pos"</span>: <span class="s2">"xxxxyyy001"</span>,
    <span class="s2">"status"</span>: <span class="s2">"inactivated"</span>,
    <span class="s2">"terminal_type"</span>: <span class="s2">"pc"</span>,
    <span class="s2">"token"</span>: <span class="s2">"fafc11a7d96d20423641ddc8e9002a0c"</span>,
    <span class="s2">"created_at"</span>: <span class="s2">"2020-02-07T14:29:50.452Z"</span>,
    <span class="s2">"updated_at"</span>: <span class="s2">"2020-02-07T14:29:50.452Z"</span>,
    <span class="s2">"sat_device_id"</span>: null,
    <span class="s2">"contingency_serial"</span>: null,
    <span class="s2">"discarded_at"</span>: null,
    <span class="s2">"notified_at"</span>: null,
    <span class="s2">"online_serial"</span>: null,
    <span class="s2">"online_last_number"</span>: null,
    <span class="s2">"contingency_last_number"</span>: null,
    <span class="s2">"ip"</span>: <span class="s2">"127.0.0.1"</span>,
    <span class="s2">"sat_emission"</span>: <span class="nb">false</span>,
    <span class="s2">"datasource_url"</span>: <span class="s2">"jdbc:sqlite:file:emites.db"</span>,
    <span class="s2">"cashier_number"</span>: <span class="s2">"001"</span>,
    <span class="s2">"nfce_online_serial_id"</span>: <span class="s2">"eb2f81bd-a1ee-4a58-8051-d9bac1bd734f"</span>,
    <span class="s2">"nfce_contingency_serial_id"</span>: <span class="s2">"63e1c52a-90c1-435b-b0b9-197bb9d033c8"</span>,
    <span class="s2">"ipc_acceptor"</span>: null,
    <span class="s2">"ipc_taxengine"</span>: null,
    <span class="s2">"ipc_publisher"</span>: null,
    <span class="s2">"nfe_online_serial_id"</span>: null,
    <span class="s2">"client_version_update"</span>: <span class="nb">false</span>,
    <span class="s2">"sats"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"id"</span>: <span class="s2">"7c374ab9-ddb4-4215-b7db-37957f54639c"</span>,
        <span class="s2">"uri"</span>: <span class="s2">"file:///opt/local/emites-client/libsat.so"</span>,
        <span class="s2">"activation_code"</span>: <span class="s2">"123456789"</span>,
        <span class="s2">"priority"</span>: null,
        <span class="s2">"device_serial"</span>: <span class="s2">"123"</span>,
        <span class="s2">"terminal_id"</span>: <span class="s2">"d4b6f53d-c6b9-47a9-a256-5db679ccc8e4"</span>,
        <span class="s2">"sat_device_id"</span>: <span class="s2">"810b922f-db26-455a-a5e0-7e17198a7240"</span>,
        <span class="s2">"created_at"</span>: <span class="s2">"2020-02-07T14:29:50.455Z"</span>,
        <span class="s2">"updated_at"</span>: <span class="s2">"2020-02-07T14:29:50.455Z"</span>,
        <span class="s2">"access_key_validator"</span>: null
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>,
  ...
<span class="o">]</span>
</code></pre>

<h2 id="consulta-de-terminais">Consulta de Terminais</h2>

<p>Para listar um terminal da organização, é necessário realizar uma requisição GET para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>api/v1/organizations/CNPJ{:cnpj}IE{:ie}/terminals/{:terminal_id}</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO
curl -X GET <span class="se">\</span>
  http://app.homologation.emites.com.br/api/v1/organizations/CNPJ22769530000131IE772733700120/terminals/d7d6e731-df61-4b0d-9468-29c09b295391 <span class="se">\</span>
  -H <span class="s1">'authorization: Bearer c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
</code></pre>
<pre class="highlight shell"><code>EXEMPLO DE RESPOSTA
<span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"d7d6e731-df61-4b0d-9468-29c09b295391"</span>,
  <span class="s2">"organization_id"</span>: <span class="s2">"886dbbeb-801e-4d2f-a81f-358754a1195c"</span>,
  <span class="s2">"name"</span>: <span class="s2">"ABC007"</span>,
  <span class="s2">"id_pos"</span>: <span class="s2">"xxxxyyy001"</span>,
  <span class="s2">"status"</span>: <span class="s2">"inactivated"</span>,
  <span class="s2">"terminal_type"</span>: <span class="s2">"pc"</span>,
  <span class="s2">"token"</span>: <span class="s2">"73c7aaf05da0f2bf20e1381ce891c6d3"</span>,
  <span class="s2">"created_at"</span>: <span class="s2">"2020-02-07T14:27:09.368Z"</span>,
  <span class="s2">"updated_at"</span>: <span class="s2">"2020-02-07T14:27:56.889Z"</span>,
  <span class="s2">"sat_device_id"</span>: null,
  <span class="s2">"contingency_serial"</span>: null,
  <span class="s2">"discarded_at"</span>: null,
  <span class="s2">"notified_at"</span>: null,
  <span class="s2">"online_serial"</span>: null,
  <span class="s2">"online_last_number"</span>: null,
  <span class="s2">"contingency_last_number"</span>: null,
  <span class="s2">"ip"</span>: <span class="s2">"127.0.0.1"</span>,
  <span class="s2">"sat_emission"</span>: <span class="nb">false</span>,
  <span class="s2">"datasource_url"</span>: <span class="s2">"jdbc:sqlite:file:emites.db"</span>,
  <span class="s2">"cashier_number"</span>: <span class="s2">"005"</span>,
  <span class="s2">"nfce_online_serial_id"</span>: <span class="s2">"eb2f81bd-a1ee-4a58-8051-d9bac1bd734f"</span>,
  <span class="s2">"nfce_contingency_serial_id"</span>: <span class="s2">"63e1c52a-90c1-435b-b0b9-197bb9d033c8"</span>,
  <span class="s2">"ipc_acceptor"</span>: null,
  <span class="s2">"ipc_taxengine"</span>: null,
  <span class="s2">"ipc_publisher"</span>: null,
  <span class="s2">"nfe_online_serial_id"</span>: null,
  <span class="s2">"client_version_update"</span>: <span class="nb">false</span>,
  <span class="s2">"sats"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"id"</span>: <span class="s2">"f4777547-8ffd-4554-a78f-9adfee8bec97"</span>,
      <span class="s2">"uri"</span>: <span class="s2">"file:///opt/local/emites-client/libsat.so"</span>,
      <span class="s2">"activation_code"</span>: <span class="s2">"123456789"</span>,
      <span class="s2">"priority"</span>: null,
      <span class="s2">"device_serial"</span>: <span class="s2">"123"</span>,
      <span class="s2">"terminal_id"</span>: <span class="s2">"d7d6e731-df61-4b0d-9468-29c09b295391"</span>,
      <span class="s2">"sat_device_id"</span>: <span class="s2">"810b922f-db26-455a-a5e0-7e17198a7240"</span>,
      <span class="s2">"created_at"</span>: <span class="s2">"2020-02-07T14:27:09.375Z"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2020-02-07T14:27:09.375Z"</span>,
      <span class="s2">"access_key_validator"</span>: null
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"id"</span>: <span class="s2">"bd442833-20ab-4c0a-b339-63e7a59b295e"</span>,
      <span class="s2">"uri"</span>: <span class="s2">"file:///opt/local/emites-client/libsat.so"</span>,
      <span class="s2">"activation_code"</span>: <span class="s2">"123456789"</span>,
      <span class="s2">"priority"</span>: null,
      <span class="s2">"device_serial"</span>: <span class="s2">"777"</span>,
      <span class="s2">"terminal_id"</span>: <span class="s2">"d7d6e731-df61-4b0d-9468-29c09b295391"</span>,
      <span class="s2">"sat_device_id"</span>: <span class="s2">"810b922f-db26-455a-a5e0-7e17198a7240"</span>,
      <span class="s2">"created_at"</span>: <span class="s2">"2020-02-07T14:27:56.877Z"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2020-02-07T14:27:56.877Z"</span>,
      <span class="s2">"access_key_validator"</span>: null
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>

          <h1 id="usu-rios">Usuários</h1>

<h2 id="cria-o-de-usu-rio">Criação de Usuário</h2>

<p>Para criar um usuário, é necessário realizar uma requisição POST para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>/api/v1/users</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X POST <span class="se">\</span>
  http://localhost:3000/api/v1/users/ <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
      "user": {
        "email": "foo@bar.com",
      }
    }'</span>


EXEMPLO DE RESPOSTA

<span class="o">{</span>
  <span class="s2">"user"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 2,
    <span class="s2">"name"</span>: <span class="s2">"foo@bar.com"</span>,
    <span class="s2">"email"</span>: <span class="s2">"foo@bar.com"</span>,
    <span class="s2">"auth_provider"</span>: <span class="s2">"nexaas_id"</span>,
    <span class="s2">"uuid"</span>: <span class="s2">"4dc677bd-c23e-4618-911c-a6c80d5797b4"</span>,
    <span class="s2">"created_at"</span>: <span class="s2">"2019-06-17T09:51:51.558-03:00"</span>,
    <span class="s2">"updated_at"</span>: <span class="s2">"2019-06-17T09:51:51.558-03:00"</span>
  <span class="o">}</span>
<span class="o">}</span>

EXEMPLO DE RETORNO DE ERROS

<span class="o">{</span>
    <span class="s2">"errors"</span>: <span class="s2">"E-mail para convite não é válido"</span>,
    <span class="s2">"error_details"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"email"</span>: <span class="o">[</span>
                <span class="o">{</span> <span class="s2">"error"</span>:  <span class="s2">"invalid"</span> <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>


</code></pre>

<table><thead>
<tr>
<th>Campo</th>
<th>Obrigatório</th>
<th>Tipo</th>
<th>Formato e tamanho</th>
<th>Observações</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>Sim</td>
<td>Texto</td>
<td>Até 60 caracteres</td>
<td></td>
</tr>
</tbody></table>

<h2 id="exclus-o-de-usu-rio">Exclusão de Usuário</h2>

<p>Para excluir um usuário da conta, é necessário realizar uma requisição DELETE para o seguinte endereço:</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-warning">DELETE</i>
        <h6>/api/v1/users/{:user_id}</h6>
    </div>
</div>

<p>Veja a seguir um exemplo do corpo da requisição:</p>
<pre class="highlight shell"><code>EXEMPLO DE REQUISIÇÃO

curl -X DELETE <span class="se">\</span>
  http://localhost:3000/api/v1/users/1 <span class="se">\</span>
  -H <span class="s1">'authorization: Token token=c3b1164e8ae17f6d9712730ec75be6da'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
</code></pre>

          <h1 id="webhooks">Webhooks</h1>

<p>Os Webhooks são notificações assíncronas enviadas para todos os eventos solicitados ao Emites.<br>
Sendo assim, ao receber um evento, o sistema envia uma requisição HTTP para a url configurada no Emites com as informações relacionadas ao evento.
Os webhooks também são conhecidos como Callbacks ou Reverse API .  </p>

<p>Para adicionar uma nova url, acesse a interface do Emites, clique no ícone do menu, depois em conta, no final da página terá um botão para a adição do novo webhook.  </p>

<p>Após adicionado, a cada requisição efetuada ao Emites, será retornada uma notificação sobre o estado do evento.  </p>

<p>Os webhooks seguem a mesma estrutura com exceção da inutilização solicitada, rejeitada e com erro que possuem o campo &ldquo;additional_info&rdquo; com informações adicionais;</p>

<p>Veja abaixo a descrição de cada campo:</p>

<p><code class="prettyprint">object_type: tipo do objeto solicitado (NFe/NFeBatch e NFCe/NFCeBatch)</code>  </p>

<p><code class="prettyprint">object_id: id interno objeto solicitado</code></p>

<p><code class="prettyprint">organization_id: id da organização</code></p>

<p><code class="prettyprint">event: status da nota</code></p>

<p><code class="prettyprint">additional_info: informações adicionais</code></p>

<aside class="notice">
    OBS.: O tipo de objeto NFeBatch e NFCeBatch é referente a lotes compostos de várias notas e o tipo de objeto NFe ou NFCe é referente à nota avulsa.
</aside>

<h2 id="lote-enviado">Lote enviado</h2>

<p>É Quando é realizado o envio de um lote de NF para a SEFAZ e o mesmo é recebido. Nesta etapa será enviado o seguinte webhook:  </p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"object_type"</span><span class="p">:</span><span class="s2">"NFeBatch"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"object_id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"organization_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event"</span><span class="p">:</span><span class="s2">"sent"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="lote-sendo-processado">Lote sendo processado</h2>

<p>Quando a SEFAZ do estado recebe o lote e inicia o processo de autenticação do mesmo. Nesta etapa será enviado o seguinte webhook:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"object_type"</span><span class="p">:</span><span class="s2">"NFeBatch"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"object_id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"organization_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event"</span><span class="p">:</span><span class="s2">"processed"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="lote-rejeitado">Lote rejeitado</h2>

<p>Quando o lote é rejeitado pela SEFAZ. Nesta etapa será enviado o seguinte webhook:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"object_type"</span><span class="p">:</span><span class="s2">"NFeBatch"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"object_id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"organization_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event"</span><span class="p">:</span><span class="s2">"rejected"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="lote-com-erro">Lote com erro</h2>

<p>Quando ocorre um erro interno durante o processo de emissão de um lote. Nesta etapa será enviado o seguinte webhook:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"object_type"</span><span class="p">:</span><span class="s2">"NFeBatch"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"object_id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"organization_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event"</span><span class="p">:</span><span class="s2">"error"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="nota-emitida">Nota emitida</h2>

<p>Quando a NF é aceita pela SEFAZ. Nesta etapa será enviado o seguinte webhook:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"object_type"</span><span class="p">:</span><span class="s2">"NFe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"object_id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"organization_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event"</span><span class="p">:</span><span class="s2">"succeeded"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="nota-rejeitada">Nota rejeitada</h2>

<p>Quando a NF é rejeitada pela SEFAZ. Nesta etapa será enviado o seguinte webhook:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"object_type"</span><span class="p">:</span><span class="s2">"NFe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"object_id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"organization_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event"</span><span class="p">:</span><span class="s2">"rejected"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="nota-denegada">Nota denegada</h2>

<p>Quando a NF é denegada pela SEFAZ. Nesta etapa será enviado o seguinte webhook:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"object_type"</span><span class="p">:</span><span class="s2">"NFe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"object_id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"organization_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event"</span><span class="p">:</span><span class="s2">"denegated"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="nota-n-o-enviada">Nota não enviada</h2>

<p>Quando a NF não é enviada para SEFAZ. Nesta etapa será enviado o seguinte webhook:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"object_type"</span><span class="p">:</span><span class="s2">"NFe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"object_id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"organization_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event"</span><span class="p">:</span><span class="s2">"not_sent"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="nota-com-erro">Nota com erro</h2>

<p>Quando ocorre um erro interno durante o processo de emissão de uma nota. Nesta etapa será enviado o seguinte webhook:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"object_type"</span><span class="p">:</span><span class="s2">"NFe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"object_id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"organization_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event"</span><span class="p">:</span><span class="s2">"error"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="nota-cancelada">Nota cancelada</h2>

<p>Quando o cancelamento da NF é aceito pela SEFAZ. Nesta etapa será enviado o seguinte webhook:</p>

<p><strong>Obs.: Após o processamento da solicitação de cancelamento da NF, o XML do evento estará disponível via consulta da NF no campo &ldquo;cancel_xml_url&rdquo;.</strong></p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"object_type"</span><span class="p">:</span><span class="s2">"NFe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"object_id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"organization_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event"</span><span class="p">:</span><span class="s2">"cancelled"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="cancelamento-rejeitado">Cancelamento rejeitado</h2>

<p>Quando o cancelamento da NF é rejeitado pela SEFAZ. Nesta etapa será enviado o seguinte webhook:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"object_type"</span><span class="p">:</span><span class="s2">"NFe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"object_id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"organization_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event"</span><span class="p">:</span><span class="s2">"cancel_rejected"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="inutiliza-o-solicitada">Inutilização solicitada</h2>

<p>Quando uma solicitação de inutilização de um número de NF é enviada para SEFAZ</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"object_type"</span><span class="p">:</span><span class="s2">"NFeDisablement"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"object_id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"organization_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event"</span><span class="p">:</span><span class="s2">"disabled"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"additional_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"uf"</span><span class="p">:</span><span class="s2">"35"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"serie"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Erro na emissão da nota fiscal"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"numero_inicial"</span><span class="p">:</span><span class="s2">"98080986123"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"numero_final"</span><span class="p">:</span><span class="s2">"98080986123"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"protocolo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"135180216568911"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="inutiliza-o-rejeitada">Inutilização rejeitada</h2>

<p>Quando uma solicitação de inutilização de um número de NF é rejeitada pela SEFAZ</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"object_type"</span><span class="p">:</span><span class="s2">"NFeDisablement"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"object_id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"organization_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event"</span><span class="p">:</span><span class="s2">"disablement_rejected"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"additional_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"uf"</span><span class="p">:</span><span class="s2">"35"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"serie"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Erro na emissão da nota fiscal"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"numero_inicial"</span><span class="p">:</span><span class="s2">"98080986123"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"numero_final"</span><span class="p">:</span><span class="s2">"98080986123"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"errors"</span><span class="p">:[</span><span class="s2">"215 - Rejeição: Falha no schema XML"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="inutiliza-o-com-erro">Inutilização com erro</h2>

<p>Quando ocorre um erro interno durante o processo de solicitação de inutilização de um número ou intervalo</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"object_type"</span><span class="p">:</span><span class="s2">"NFeDisablement"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"object_id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"organization_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"disablement_error"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"additional_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"uf"</span><span class="p">:</span><span class="s2">"35"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"serie"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"motivo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Erro na emissão da nota fiscal"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"numero_inicial"</span><span class="p">:</span><span class="s2">"98080986123"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"numero_final"</span><span class="p">:</span><span class="s2">"98080986123"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"errors"</span><span class="p">:[</span><span class="s2">"Ocorreu um erro interno ao acessar o Webservice da SEFAZ. Por favor, entre em contato com o nosso suporte"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="carta-de-corre-o-rejeitada">Carta de Correção rejeitada</h2>

<p>Quando uma solicitação de carta de correção de uma NF é rejeitada pela SEFAZ</p>

<p><strong>Obs.: Após o processamento da solicitação da carta de correção da NF, o XML do evento estará disponível via consulta da NF no campo &ldquo;correction_xml_url&rdquo;.</strong></p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"object_type"</span><span class="p">:</span><span class="s2">"NFe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"object_id"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"organization_id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"event"</span><span class="p">:</span><span class="s2">"correction_rejected"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

      </div>
    </div>
  </body>
</html>
